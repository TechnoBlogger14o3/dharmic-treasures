const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-QtZcbqfE.js","assets/map-vendor-QQBPBMVJ.js","assets/map-vendor-Dgihpmma.css"])))=>i.map(i=>d[i]);
import{r as h,j as e}from"./react-vendor-UWbajv2v.js";import{A as j,C as w,a as y}from"./ChevronRightIcon-C1qTiFYc.js";import{i as k,r as N,s as $,_ as u,a as _}from"./index-COTdLKRr.js";import"./vendor-QtZcbqfE.js";import"./map-vendor-QQBPBMVJ.js";function C({verse:t,chapterName:a,chapterNumber:s}){const[l,r]=h.useState(!1),n=async()=>{const i=`Chapter ${s}: ${a}
Verse ${t.verse_number}

${t.text}

${t.meaning}`,m=`${window.location.origin}${window.location.pathname}?chapter=${s}&verse=${t.verse_number}`;if(navigator.share)try{await navigator.share({title:`Bhagavad Gita - Chapter ${s}, Verse ${t.verse_number}`,text:i,url:m})}catch{console.log("Share cancelled")}else try{await navigator.clipboard.writeText(`${i}

${m}`),r(!0),setTimeout(()=>r(!1),2e3)}catch(c){console.error("Failed to copy:",c)}};return e.jsx("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2.5 sm:py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 active:bg-blue-700 transition-colors text-sm font-medium touch-manipulation min-h-[44px]",children:l?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),e.jsx("span",{children:"Share"})]})})}function L({textType:t,chapterNumber:a,verseNumber:s,chapterName:l}){const[r,n]=h.useState(!1);h.useEffect(()=>{n(k(t,a,s))},[t,a,s]);const i=()=>{if(r)N(t,a,s),n(!1);else{const m={textType:t,chapterNumber:a,verseNumber:s,chapterName:l,timestamp:Date.now()};$(m),n(!0)}};return e.jsx("button",{onClick:i,className:`flex items-center gap-2 px-4 py-2.5 sm:py-2 rounded-lg transition-colors text-sm font-medium touch-manipulation min-h-[44px] ${r?"bg-amber-500 text-white hover:bg-amber-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:r?"Remove bookmark":"Add bookmark",children:r?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),e.jsx("span",{children:"Bookmarked"})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),e.jsx("span",{children:"Bookmark"})]})})}function g(){return typeof window<"u"&&"__TAURI__"in window}async function B(t,a){if(!g()){const s=new Blob([t],{type:"text/plain"}),l=URL.createObjectURL(s),r=document.createElement("a");return r.href=l,r.download=a,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(l),!0}try{const{save:s}=await u(async()=>{const{save:n}=await import("./vendor-QtZcbqfE.js").then(i=>i.e);return{save:n}},__vite__mapDeps([0,1,2])),{writeTextFile:l}=await u(async()=>{const{writeTextFile:n}=await import("./vendor-QtZcbqfE.js").then(i=>i.f);return{writeTextFile:n}},__vite__mapDeps([0,1,2])),r=await s({defaultPath:a,filters:[{name:"Text",extensions:["txt"]},{name:"All Files",extensions:["*"]}]});return r?(await l(r,t),!0):!1}catch(s){console.error("Error saving file:",s);const l=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(l),n=document.createElement("a");return n.href=r,n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),!0}}async function E(t){if(!g()){const s=window.open("","_blank");s&&(s.document.write(`
        <html>
          <head><title>Print</title></head>
          <body>${t}</body>
        </html>
      `),s.document.close(),s.print());return}const a=window.open("","_blank");a&&(a.document.write(`
      <html>
        <head><title>Print</title></head>
        <body>${t}</body>
      </html>
    `),a.document.close(),a.print())}function R({verse:t,chapterName:a,chapterNumber:s,textType:l}){const[r,n]=h.useState(!1),i=()=>`Chapter ${s}: ${a}
Verse ${t.verse_number}

${t.text}

Transliteration:
${t.transliteration}

Hindi Meaning:
${t.hindi_meaning}

English Meaning:
${t.meaning}

---
Exported from Dharmic Treasures
${new Date().toLocaleString()}
`,m=async c=>{n(!0);try{const x=i(),o=`${l}-chapter${s}-verse${t.verse_number}.txt`;c==="file"?await B(x,o)&&console.log("Verse exported successfully"):await E(`
          <div style="font-family: serif; max-width: 800px; margin: 0 auto; padding: 20px;">
            <h1>Chapter ${s}: ${a}</h1>
            <h2>Verse ${t.verse_number}</h2>
            <div style="font-size: 18px; margin: 20px 0; text-align: center;">
              ${t.text}
            </div>
            <div style="margin: 20px 0; font-style: italic;">
              <strong>Transliteration:</strong><br/>
              ${t.transliteration}
            </div>
            <div style="margin: 20px 0;">
              <strong>Hindi Meaning:</strong><br/>
              ${t.hindi_meaning}
            </div>
            <div style="margin: 20px 0;">
              <strong>English Meaning:</strong><br/>
              ${t.meaning}
            </div>
            <div style="margin-top: 40px; font-size: 12px; color: #666; text-align: center;">
              Exported from Dharmic Treasures - ${new Date().toLocaleString()}
            </div>
          </div>
        `)}catch(x){console.error("Export error:",x)}finally{n(!1)}};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>m("file"),disabled:r,className:"flex items-center gap-2 px-4 py-2.5 sm:py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 active:bg-green-700 transition-colors text-sm font-medium touch-manipulation min-h-[44px] disabled:opacity-50",title:"Save verse to file",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Exporting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),e.jsx("span",{children:g()?"Save":"Download"})]})}),e.jsxs("button",{onClick:()=>m("print"),disabled:r,className:"flex items-center gap-2 px-4 py-2.5 sm:py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 active:bg-purple-700 transition-colors text-sm font-medium touch-manipulation min-h-[44px] disabled:opacity-50",title:"Print verse",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),e.jsx("span",{children:"Print"})]})]})}function U({chapter:t,currentVerse:a,onVerseChange:s,onBack:l,fontSize:r,textType:n}){const i=t.verses.find(d=>d.verse_number===a),m=t.verses.length;h.useEffect(()=>{n&&t.chapter_number&&a&&_({textType:n,chapterNumber:t.chapter_number,verseNumber:a,lastRead:Date.now()})},[n,t.chapter_number,a]);const c=()=>{a>1&&s(a-1)},x=()=>{a<m&&s(a+1)};if(!i)return e.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"Verse not found"}),e.jsx("button",{onClick:l,className:"mt-4 px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600",children:"Back to Chapters"})]});const o=n==="gita",v="/dharmic-treasures/krishna-arjuna-bg.jpg".replace(/\/\//g,"/"),b=o?v:void 0;return o&&b&&console.log("Background image path:",b),e.jsxs("div",{className:`relative min-h-screen ${o?"":"container mx-auto px-3 sm:px-4 py-4 sm:py-6 md:py-8 max-w-4xl animate-fadeIn pb-20 sm:pb-8"}`,children:[o&&e.jsxs("div",{className:"fixed inset-0 z-0 animate-fadeIn",style:{backgroundImage:b?`url(${b})`:"linear-gradient(to bottom right, #fef3c7, #fed7aa, #fde68a)",backgroundSize:"cover",backgroundPosition:"center top",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",top:"40px",height:"calc(100% - 40px)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/20"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-transparent to-black/10"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-transparent to-black/5"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-transparent via-transparent to-black/5"}),e.jsx("div",{className:"absolute inset-0 bg-black/15"})]}),e.jsxs("div",{className:`relative z-10 ${o?"container mx-auto px-3 sm:px-4 py-4 sm:py-6 md:py-8 max-w-4xl animate-fadeIn pb-20 sm:pb-8":""}`,children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("button",{onClick:l,className:`flex items-center gap-2 transition-all duration-300 mb-3 sm:mb-4 py-2 -ml-2 pl-2 pr-4 rounded-lg touch-manipulation animate-slideInLeft ${o?"text-white hover:text-amber-200 active:text-amber-300 drop-shadow-md":"text-gray-700 hover:text-amber-600 active:text-amber-700"}`,children:[e.jsx(j,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Back to Chapters"})]}),e.jsx("div",{className:`${o?"bg-white/50 backdrop-blur-sm":"bg-white/90 backdrop-blur-sm"} rounded-xl shadow-lg p-4 sm:p-6 border border-white/30 animate-scaleIn`,children:e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-amber-600 mb-2",children:t.chapter_number}),e.jsx("h1",{className:`text-xl sm:text-2xl md:text-3xl font-bold mb-2 ${o?"text-gray-900 drop-shadow-sm":"text-gray-800"}`,children:t.name}),e.jsx("p",{className:`text-base sm:text-lg mb-3 sm:mb-4 ${o?"text-gray-800 drop-shadow-sm font-semibold":"text-gray-600"}`,children:t.name_meaning}),e.jsx("p",{className:`text-xs sm:text-sm ${o?"text-gray-700 drop-shadow-sm font-medium":"text-gray-500"}`,children:t.summary})]})})]}),e.jsxs("div",{className:`${o?"bg-white/50 backdrop-blur-sm":"bg-white/90 backdrop-blur-sm"} rounded-xl shadow-lg p-4 sm:p-6 md:p-8 border border-white/30 mb-4 sm:mb-6 animate-fadeIn`,style:{fontSize:`${r}px`},children:[e.jsx("div",{className:"text-center mb-4 sm:mb-6",children:e.jsxs("div",{className:"inline-block bg-amber-500 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-semibold",children:["Verse ",i.verse_number]})}),e.jsx("div",{className:"mb-4 sm:mb-6",children:e.jsx("div",{className:`text-lg sm:text-xl md:text-2xl lg:text-3xl leading-relaxed text-center mb-3 sm:mb-4 ${o?"text-gray-900 drop-shadow-sm font-bold":"text-gray-800 font-medium"}`,children:i.text})}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("div",{className:`text-xs sm:text-sm font-semibold mb-2 ${o?"text-gray-800 drop-shadow-sm":"text-gray-600"}`,children:"Transliteration:"}),e.jsx("div",{className:`text-base sm:text-lg italic leading-relaxed ${o?"text-gray-800 drop-shadow-sm font-semibold":"text-gray-700"}`,children:i.transliteration})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("div",{className:`text-xs sm:text-sm font-semibold mb-2 ${o?"text-gray-800 drop-shadow-sm":"text-gray-600"}`,children:"Hindi Meaning:"}),n==="yakshaPrashna"&&i.hindi_meaning.includes(`

`)?e.jsx("div",{className:"text-base sm:text-lg text-gray-700 leading-relaxed",children:i.hindi_meaning.split(`

`).map((d,p)=>d.includes("यक्ष प्रश्न:")?e.jsx("div",{className:"mb-2",children:e.jsx("div",{className:"font-medium text-amber-700",children:d.trim()})},p):d.includes("युधिष्ठिर उत्तर:")?e.jsx("div",{className:"ml-0",children:e.jsx("div",{className:"font-medium text-green-700",children:d.trim()})},p):e.jsx("div",{className:"mb-2",children:d.trim()},p))}):e.jsx("div",{className:`text-base sm:text-lg leading-relaxed whitespace-pre-line ${o?"text-gray-800 drop-shadow-sm font-semibold":"text-gray-700"}`,children:i.hindi_meaning})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("div",{className:`text-xs sm:text-sm font-semibold mb-2 ${o?"text-gray-800 drop-shadow-sm":"text-gray-600"}`,children:"Meaning:"}),e.jsx("div",{className:`text-base sm:text-lg leading-relaxed ${o?"text-gray-800 drop-shadow-sm font-semibold":"text-gray-700"}`,children:i.meaning})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mt-6",children:[e.jsx(L,{textType:n||"",chapterNumber:t.chapter_number,verseNumber:i.verse_number,chapterName:t.name}),e.jsx(C,{verse:i,chapterName:t.name,chapterNumber:t.chapter_number}),e.jsx(R,{verse:i,chapterName:t.name,chapterNumber:t.chapter_number,textType:n||""})]})]},a),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 sm:relative sm:bottom-auto sm:left-auto sm:right-auto flex items-center justify-between bg-white/95 backdrop-blur-md sm:bg-white/90 sm:backdrop-blur-sm rounded-t-xl sm:rounded-xl shadow-lg sm:shadow-lg p-3 sm:p-4 border-t sm:border border-gray-200 animate-slideInRight z-40",children:[e.jsxs("button",{onClick:c,disabled:a===1,className:`flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-2 rounded-lg font-medium transition-all touch-manipulation min-h-[44px] ${a===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-amber-500 text-white hover:bg-amber-600 active:bg-amber-700"}`,children:[e.jsx(w,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Previous"})]}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 font-medium px-2",children:[a," / ",m]}),e.jsxs("button",{onClick:x,disabled:a===m,className:`flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-2 rounded-lg font-medium transition-all touch-manipulation min-h-[44px] ${a===m?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-amber-500 text-white hover:bg-amber-600 active:bg-amber-700"}`,children:[e.jsx("span",{className:"text-sm sm:text-base",children:"Next"}),e.jsx(y,{className:"w-5 h-5 flex-shrink-0"})]})]})]})]})}export{U as default};
