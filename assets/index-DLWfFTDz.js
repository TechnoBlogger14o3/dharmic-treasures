var vL=Object.defineProperty;var d1=a=>{throw TypeError(a)};var yL=(a,e,t)=>e in a?vL(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var K=(a,e,t)=>yL(a,typeof e!="symbol"?e+"":e,t),zb=(a,e,t)=>e.has(a)||d1("Cannot "+t);var h=(a,e,t)=>(zb(a,e,"read from private field"),t?t.call(a):e.get(a)),S=(a,e,t)=>e.has(a)?d1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t),y=(a,e,t,n)=>(zb(a,e,"write to private field"),n?n.call(a,t):e.set(a,t),t),E=(a,e,t)=>(zb(a,e,"access private method"),t);var Ht=(a,e,t,n)=>({set _(i){y(a,e,i,t)},get _(){return h(a,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var bL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uk(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var rA={exports:{}},By={},sA={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=Symbol.for("react.element"),_L=Symbol.for("react.portal"),wL=Symbol.for("react.fragment"),kL=Symbol.for("react.strict_mode"),xL=Symbol.for("react.profiler"),SL=Symbol.for("react.provider"),AL=Symbol.for("react.context"),TL=Symbol.for("react.forward_ref"),EL=Symbol.for("react.suspense"),CL=Symbol.for("react.memo"),PL=Symbol.for("react.lazy"),u1=Symbol.iterator;function LL(a){return a===null||typeof a!="object"?null:(a=u1&&a[u1]||a["@@iterator"],typeof a=="function"?a:null)}var oA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hA=Object.assign,lA={};function vc(a,e,t){this.props=a,this.context=e,this.refs=lA,this.updater=t||oA}vc.prototype.isReactComponent={};vc.prototype.setState=function(a,e){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,e,"setState")};vc.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function dA(){}dA.prototype=vc.prototype;function Wk(a,e,t){this.props=a,this.context=e,this.refs=lA,this.updater=t||oA}var Vk=Wk.prototype=new dA;Vk.constructor=Wk;hA(Vk,vc.prototype);Vk.isPureReactComponent=!0;var c1=Array.isArray,uA=Object.prototype.hasOwnProperty,Gk={current:null},cA={key:!0,ref:!0,__self:!0,__source:!0};function mA(a,e,t){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uA.call(e,n)&&!cA.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(a&&a.defaultProps)for(n in l=a.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Op,type:a,key:s,ref:o,props:i,_owner:Gk.current}}function ML(a,e){return{$$typeof:Op,type:a.type,key:e,ref:a.ref,props:a.props,_owner:a._owner}}function Yk(a){return typeof a=="object"&&a!==null&&a.$$typeof===Op}function jL(a){var e={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(t){return e[t]})}var m1=/\/+/g;function Hb(a,e){return typeof a=="object"&&a!==null&&a.key!=null?jL(""+a.key):e.toString(36)}function Yg(a,e,t,n,i){var s=typeof a;(s==="undefined"||s==="boolean")&&(a=null);var o=!1;if(a===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(a.$$typeof){case Op:case _L:o=!0}}if(o)return o=a,i=i(o),a=n===""?"."+Hb(o,0):n,c1(i)?(t="",a!=null&&(t=a.replace(m1,"$&/")+"/"),Yg(i,e,t,"",function(c){return c})):i!=null&&(Yk(i)&&(i=ML(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(m1,"$&/")+"/")+a)),e.push(i)),1;if(o=0,n=n===""?".":n+":",c1(a))for(var l=0;l<a.length;l++){s=a[l];var u=n+Hb(s,l);o+=Yg(s,e,t,u,i)}else if(u=LL(a),typeof u=="function")for(a=u.call(a),l=0;!(s=a.next()).done;)s=s.value,u=n+Hb(s,l++),o+=Yg(s,e,t,u,i);else if(s==="object")throw e=String(a),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vg(a,e,t){if(a==null)return a;var n=[],i=0;return Yg(a,n,"","",function(s){return e.call(t,s,i++)}),n}function IL(a){if(a._status===-1){var e=a._result;e=e(),e.then(function(t){(a._status===0||a._status===-1)&&(a._status=1,a._result=t)},function(t){(a._status===0||a._status===-1)&&(a._status=2,a._result=t)}),a._status===-1&&(a._status=0,a._result=e)}if(a._status===1)return a._result.default;throw a._result}var Kn={current:null},Kg={transition:null},NL={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:Kg,ReactCurrentOwner:Gk};function fA(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:vg,forEach:function(a,e,t){vg(a,function(){e.apply(this,arguments)},t)},count:function(a){var e=0;return vg(a,function(){e++}),e},toArray:function(a){return vg(a,function(e){return e})||[]},only:function(a){if(!Yk(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};Me.Component=vc;Me.Fragment=wL;Me.Profiler=xL;Me.PureComponent=Wk;Me.StrictMode=kL;Me.Suspense=EL;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NL;Me.act=fA;Me.cloneElement=function(a,e,t){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var n=hA({},a.props),i=a.key,s=a.ref,o=a._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gk.current),e.key!==void 0&&(i=""+e.key),a.type&&a.type.defaultProps)var l=a.type.defaultProps;for(u in e)uA.call(e,u)&&!cA.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=t;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Op,type:a.type,key:i,ref:s,props:n,_owner:o}};Me.createContext=function(a){return a={$$typeof:AL,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:SL,_context:a},a.Consumer=a};Me.createElement=mA;Me.createFactory=function(a){var e=mA.bind(null,a);return e.type=a,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(a){return{$$typeof:TL,render:a}};Me.isValidElement=Yk;Me.lazy=function(a){return{$$typeof:PL,_payload:{_status:-1,_result:a},_init:IL}};Me.memo=function(a,e){return{$$typeof:CL,type:a,compare:e===void 0?null:e}};Me.startTransition=function(a){var e=Kg.transition;Kg.transition={};try{a()}finally{Kg.transition=e}};Me.unstable_act=fA;Me.useCallback=function(a,e){return Kn.current.useCallback(a,e)};Me.useContext=function(a){return Kn.current.useContext(a)};Me.useDebugValue=function(){};Me.useDeferredValue=function(a){return Kn.current.useDeferredValue(a)};Me.useEffect=function(a,e){return Kn.current.useEffect(a,e)};Me.useId=function(){return Kn.current.useId()};Me.useImperativeHandle=function(a,e,t){return Kn.current.useImperativeHandle(a,e,t)};Me.useInsertionEffect=function(a,e){return Kn.current.useInsertionEffect(a,e)};Me.useLayoutEffect=function(a,e){return Kn.current.useLayoutEffect(a,e)};Me.useMemo=function(a,e){return Kn.current.useMemo(a,e)};Me.useReducer=function(a,e,t){return Kn.current.useReducer(a,e,t)};Me.useRef=function(a){return Kn.current.useRef(a)};Me.useState=function(a){return Kn.current.useState(a)};Me.useSyncExternalStore=function(a,e,t){return Kn.current.useSyncExternalStore(a,e,t)};Me.useTransition=function(){return Kn.current.useTransition()};Me.version="18.3.1";sA.exports=Me;var W=sA.exports;const Ov=Uk(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RL=W,OL=Symbol.for("react.element"),DL=Symbol.for("react.fragment"),BL=Object.prototype.hasOwnProperty,FL=RL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zL={key:!0,ref:!0,__self:!0,__source:!0};function pA(a,e,t){var n,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)BL.call(e,n)&&!zL.hasOwnProperty(n)&&(i[n]=e[n]);if(a&&a.defaultProps)for(n in e=a.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:OL,type:a,key:s,ref:o,props:i,_owner:FL.current}}By.Fragment=DL;By.jsx=pA;By.jsxs=pA;rA.exports=By;var k=rA.exports,w_={},gA={exports:{}},Ba={},vA={exports:{}},yA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function e(F,ee){var Y=F.length;F.push(ee);e:for(;0<Y;){var de=Y-1>>>1,ne=F[de];if(0<i(ne,ee))F[de]=ee,F[Y]=ne,Y=de;else break e}}function t(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var ee=F[0],Y=F.pop();if(Y!==ee){F[0]=Y;e:for(var de=0,ne=F.length,me=ne>>>1;de<me;){var ye=2*(de+1)-1,ge=F[ye],ue=ye+1,Se=F[ue];if(0>i(ge,Y))ue<ne&&0>i(Se,ge)?(F[de]=Se,F[ue]=Y,de=ue):(F[de]=ge,F[ye]=Y,de=ye);else if(ue<ne&&0>i(Se,Y))F[de]=Se,F[ue]=Y,de=ue;else break e}}return ee}function i(F,ee){var Y=F.sortIndex-ee.sortIndex;return Y!==0?Y:F.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;a.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();a.unstable_now=function(){return o.now()-l}}var u=[],c=[],f=1,p=null,g=3,b=!1,A=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(F){for(var ee=t(c);ee!==null;){if(ee.callback===null)n(c);else if(ee.startTime<=F)n(c),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=t(c)}}function P(F){if(x=!1,C(F),!A)if(t(u)!==null)A=!0,q(I);else{var ee=t(c);ee!==null&&X(P,ee.startTime-F)}}function I(F,ee){A=!1,x&&(x=!1,w(D),D=-1),b=!0;var Y=g;try{for(C(ee),p=t(u);p!==null&&(!(p.expirationTime>ee)||F&&!V());){var de=p.callback;if(typeof de=="function"){p.callback=null,g=p.priorityLevel;var ne=de(p.expirationTime<=ee);ee=a.unstable_now(),typeof ne=="function"?p.callback=ne:p===t(u)&&n(u),C(ee)}else n(u);p=t(u)}if(p!==null)var me=!0;else{var ye=t(c);ye!==null&&X(P,ye.startTime-ee),me=!1}return me}finally{p=null,g=Y,b=!1}}var N=!1,O=null,D=-1,U=5,H=-1;function V(){return!(a.unstable_now()-H<U)}function Z(){if(O!==null){var F=a.unstable_now();H=F;var ee=!0;try{ee=O(!0,F)}finally{ee?he():(N=!1,O=null)}}else N=!1}var he;if(typeof T=="function")he=function(){T(Z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,fe=Q.port2;Q.port1.onmessage=Z,he=function(){fe.postMessage(null)}}else he=function(){M(Z,0)};function q(F){O=F,N||(N=!0,he())}function X(F,ee){D=M(function(){F(a.unstable_now())},ee)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_continueExecution=function(){A||b||(A=!0,q(I))},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return g},a.unstable_getFirstCallbackNode=function(){return t(u)},a.unstable_next=function(F){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var Y=g;g=ee;try{return F()}finally{g=Y}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=g;g=F;try{return ee()}finally{g=Y}},a.unstable_scheduleCallback=function(F,ee,Y){var de=a.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?de+Y:de):Y=de,F){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Y+ne,F={id:f++,callback:ee,priorityLevel:F,startTime:Y,expirationTime:ne,sortIndex:-1},Y>de?(F.sortIndex=Y,e(c,F),t(u)===null&&F===t(c)&&(x?(w(D),D=-1):x=!0,X(P,Y-de))):(F.sortIndex=ne,e(u,F),A||b||(A=!0,q(I))),F},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(F){var ee=g;return function(){var Y=g;g=ee;try{return F.apply(this,arguments)}finally{g=Y}}}})(yA);vA.exports=yA;var HL=vA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UL=W,Oa=HL;function $(a){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+a,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+a+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bA=new Set,Lm={};function Bl(a,e){oc(a,e),oc(a+"Capture",e)}function oc(a,e){for(Lm[a]=e,a=0;a<e.length;a++)bA.add(e[a])}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k_=Object.prototype.hasOwnProperty,WL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f1={},p1={};function VL(a){return k_.call(p1,a)?!0:k_.call(f1,a)?!1:WL.test(a)?p1[a]=!0:(f1[a]=!0,!1)}function GL(a,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function YL(a,e,t,n){if(e===null||typeof e>"u"||GL(a,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $n(a,e,t,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=a,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_n[a]=new $n(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var e=a[0];_n[e]=new $n(e,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){_n[a]=new $n(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_n[a]=new $n(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_n[a]=new $n(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){_n[a]=new $n(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){_n[a]=new $n(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){_n[a]=new $n(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){_n[a]=new $n(a,5,!1,a.toLowerCase(),null,!1,!1)});var Kk=/[\-:]([a-z])/g;function $k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var e=a.replace(Kk,$k);_n[e]=new $n(e,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var e=a.replace(Kk,$k);_n[e]=new $n(e,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var e=a.replace(Kk,$k);_n[e]=new $n(e,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){_n[a]=new $n(a,1,!1,a.toLowerCase(),null,!1,!1)});_n.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){_n[a]=new $n(a,1,!1,a.toLowerCase(),null,!0,!0)});function qk(a,e,t,n){var i=_n.hasOwnProperty(e)?_n[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YL(e,t,i,n)&&(t=null),n||i===null?VL(e)&&(t===null?a.removeAttribute(e):a.setAttribute(e,""+t)):i.mustUseProperty?a[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?a.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?a.setAttributeNS(n,e,t):a.setAttribute(e,t))))}var Ls=UL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yg=Symbol.for("react.element"),ld=Symbol.for("react.portal"),dd=Symbol.for("react.fragment"),Zk=Symbol.for("react.strict_mode"),x_=Symbol.for("react.profiler"),_A=Symbol.for("react.provider"),wA=Symbol.for("react.context"),Xk=Symbol.for("react.forward_ref"),S_=Symbol.for("react.suspense"),A_=Symbol.for("react.suspense_list"),Qk=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),kA=Symbol.for("react.offscreen"),g1=Symbol.iterator;function Dc(a){return a===null||typeof a!="object"?null:(a=g1&&a[g1]||a["@@iterator"],typeof a=="function"?a:null)}var wt=Object.assign,Ub;function qc(a){if(Ub===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ub=e&&e[1]||""}return`
`+Ub+a}var Wb=!1;function Vb(a,e){if(!a||Wb)return"";Wb=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(a,[],e)}else{try{e.call()}catch(c){n=c}a.call(e.prototype)}else{try{throw Error()}catch(c){n=c}a()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return a.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",a.displayName)),u}while(1<=o&&0<=l);break}}}finally{Wb=!1,Error.prepareStackTrace=t}return(a=a?a.displayName||a.name:"")?qc(a):""}function KL(a){switch(a.tag){case 5:return qc(a.type);case 16:return qc("Lazy");case 13:return qc("Suspense");case 19:return qc("SuspenseList");case 0:case 2:case 15:return a=Vb(a.type,!1),a;case 11:return a=Vb(a.type.render,!1),a;case 1:return a=Vb(a.type,!0),a;default:return""}}function T_(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case dd:return"Fragment";case ld:return"Portal";case x_:return"Profiler";case Zk:return"StrictMode";case S_:return"Suspense";case A_:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case wA:return(a.displayName||"Context")+".Consumer";case _A:return(a._context.displayName||"Context")+".Provider";case Xk:var e=a.render;return a=a.displayName,a||(a=e.displayName||e.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Qk:return e=a.displayName||null,e!==null?e:T_(a.type)||"Memo";case Os:e=a._payload,a=a._init;try{return T_(a(e))}catch{}}return null}function $L(a){var e=a.type;switch(a.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=e.render,a=a.displayName||a.name||"",e.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T_(e);case 8:return e===Zk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Go(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function xA(a){var e=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qL(a){var e=xA(a)?"checked":"value",t=Object.getOwnPropertyDescriptor(a.constructor.prototype,e),n=""+a[e];if(!a.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(a,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(a,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){a._valueTracker=null,delete a[e]}}}}function bg(a){a._valueTracker||(a._valueTracker=qL(a))}function SA(a){if(!a)return!1;var e=a._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return a&&(n=xA(a)?a.checked?"true":"false":a.value),a=n,a!==t?(e.setValue(a),!0):!1}function Dv(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function E_(a,e){var t=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??a._wrapperState.initialChecked})}function v1(a,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=Go(e.value!=null?e.value:t),a._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AA(a,e){e=e.checked,e!=null&&qk(a,"checked",e,!1)}function C_(a,e){AA(a,e);var t=Go(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&a.value===""||a.value!=t)&&(a.value=""+t):a.value!==""+t&&(a.value=""+t);else if(n==="submit"||n==="reset"){a.removeAttribute("value");return}e.hasOwnProperty("value")?P_(a,e.type,t):e.hasOwnProperty("defaultValue")&&P_(a,e.type,Go(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(a.defaultChecked=!!e.defaultChecked)}function y1(a,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+a._wrapperState.initialValue,t||e===a.value||(a.value=e),a.defaultValue=e}t=a.name,t!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,t!==""&&(a.name=t)}function P_(a,e,t){(e!=="number"||Dv(a.ownerDocument)!==a)&&(t==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+t&&(a.defaultValue=""+t))}var Zc=Array.isArray;function Td(a,e,t,n){if(a=a.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<a.length;t++)i=e.hasOwnProperty("$"+a[t].value),a[t].selected!==i&&(a[t].selected=i),i&&n&&(a[t].defaultSelected=!0)}else{for(t=""+Go(t),e=null,i=0;i<a.length;i++){if(a[i].value===t){a[i].selected=!0,n&&(a[i].defaultSelected=!0);return}e!==null||a[i].disabled||(e=a[i])}e!==null&&(e.selected=!0)}}function L_(a,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function b1(a,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error($(92));if(Zc(t)){if(1<t.length)throw Error($(93));t=t[0]}e=t}e==null&&(e=""),t=e}a._wrapperState={initialValue:Go(t)}}function TA(a,e){var t=Go(e.value),n=Go(e.defaultValue);t!=null&&(t=""+t,t!==a.value&&(a.value=t),e.defaultValue==null&&a.defaultValue!==t&&(a.defaultValue=t)),n!=null&&(a.defaultValue=""+n)}function _1(a){var e=a.textContent;e===a._wrapperState.initialValue&&e!==""&&e!==null&&(a.value=e)}function EA(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M_(a,e){return a==null||a==="http://www.w3.org/1999/xhtml"?EA(e):a==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var _g,CA=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return a(e,t,n,i)})}:a}(function(a,e){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=e;else{for(_g=_g||document.createElement("div"),_g.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_g.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;e.firstChild;)a.appendChild(e.firstChild)}});function Mm(a,e){if(e){var t=a.firstChild;if(t&&t===a.lastChild&&t.nodeType===3){t.nodeValue=e;return}}a.textContent=e}var _m={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZL=["Webkit","ms","Moz","O"];Object.keys(_m).forEach(function(a){ZL.forEach(function(e){e=e+a.charAt(0).toUpperCase()+a.substring(1),_m[e]=_m[a]})});function PA(a,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||_m.hasOwnProperty(a)&&_m[a]?(""+e).trim():e+"px"}function LA(a,e){a=a.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=PA(t,e[t],n);t==="float"&&(t="cssFloat"),n?a.setProperty(t,i):a[t]=i}}var XL=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function j_(a,e){if(e){if(XL[a]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,a));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function I_(a,e){if(a.indexOf("-")===-1)return typeof e.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N_=null;function Jk(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var R_=null,Ed=null,Cd=null;function w1(a){if(a=Fp(a)){if(typeof R_!="function")throw Error($(280));var e=a.stateNode;e&&(e=Wy(e),R_(a.stateNode,a.type,e))}}function MA(a){Ed?Cd?Cd.push(a):Cd=[a]:Ed=a}function jA(){if(Ed){var a=Ed,e=Cd;if(Cd=Ed=null,w1(a),e)for(a=0;a<e.length;a++)w1(e[a])}}function IA(a,e){return a(e)}function NA(){}var Gb=!1;function RA(a,e,t){if(Gb)return a(e,t);Gb=!0;try{return IA(a,e,t)}finally{Gb=!1,(Ed!==null||Cd!==null)&&(NA(),jA())}}function jm(a,e){var t=a.stateNode;if(t===null)return null;var n=Wy(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(a=a.type,n=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!n;break e;default:a=!1}if(a)return null;if(t&&typeof t!="function")throw Error($(231,e,typeof t));return t}var O_=!1;if(ks)try{var Bc={};Object.defineProperty(Bc,"passive",{get:function(){O_=!0}}),window.addEventListener("test",Bc,Bc),window.removeEventListener("test",Bc,Bc)}catch{O_=!1}function QL(a,e,t,n,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(f){this.onError(f)}}var wm=!1,Bv=null,Fv=!1,D_=null,JL={onError:function(a){wm=!0,Bv=a}};function eM(a,e,t,n,i,s,o,l,u){wm=!1,Bv=null,QL.apply(JL,arguments)}function tM(a,e,t,n,i,s,o,l,u){if(eM.apply(this,arguments),wm){if(wm){var c=Bv;wm=!1,Bv=null}else throw Error($(198));Fv||(Fv=!0,D_=c)}}function Fl(a){var e=a,t=a;if(a.alternate)for(;e.return;)e=e.return;else{a=e;do e=a,e.flags&4098&&(t=e.return),a=e.return;while(a)}return e.tag===3?t:null}function OA(a){if(a.tag===13){var e=a.memoizedState;if(e===null&&(a=a.alternate,a!==null&&(e=a.memoizedState)),e!==null)return e.dehydrated}return null}function k1(a){if(Fl(a)!==a)throw Error($(188))}function nM(a){var e=a.alternate;if(!e){if(e=Fl(a),e===null)throw Error($(188));return e!==a?null:a}for(var t=a,n=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return k1(i),a;if(s===n)return k1(i),e;s=s.sibling}throw Error($(188))}if(t.return!==n.return)t=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===t){o=!0,t=i,n=s;break}if(l===n){o=!0,n=i,t=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===t){o=!0,t=s,n=i;break}if(l===n){o=!0,n=s,t=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(t.alternate!==n)throw Error($(190))}if(t.tag!==3)throw Error($(188));return t.stateNode.current===t?a:e}function DA(a){return a=nM(a),a!==null?BA(a):null}function BA(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var e=BA(a);if(e!==null)return e;a=a.sibling}return null}var FA=Oa.unstable_scheduleCallback,x1=Oa.unstable_cancelCallback,aM=Oa.unstable_shouldYield,iM=Oa.unstable_requestPaint,Nt=Oa.unstable_now,rM=Oa.unstable_getCurrentPriorityLevel,e0=Oa.unstable_ImmediatePriority,zA=Oa.unstable_UserBlockingPriority,zv=Oa.unstable_NormalPriority,sM=Oa.unstable_LowPriority,HA=Oa.unstable_IdlePriority,Fy=null,kr=null;function oM(a){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Fy,a,void 0,(a.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:dM,hM=Math.log,lM=Math.LN2;function dM(a){return a>>>=0,a===0?32:31-(hM(a)/lM|0)|0}var wg=64,kg=4194304;function Xc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Hv(a,e){var t=a.pendingLanes;if(t===0)return 0;var n=0,i=a.suspendedLanes,s=a.pingedLanes,o=t&268435455;if(o!==0){var l=o&~i;l!==0?n=Xc(l):(s&=o,s!==0&&(n=Xc(s)))}else o=t&~i,o!==0?n=Xc(o):s!==0&&(n=Xc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=a.entangledLanes,e!==0)for(a=a.entanglements,e&=n;0<e;)t=31-Ii(e),i=1<<t,n|=a[t],e&=~i;return n}function uM(a,e){switch(a){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cM(a,e){for(var t=a.suspendedLanes,n=a.pingedLanes,i=a.expirationTimes,s=a.pendingLanes;0<s;){var o=31-Ii(s),l=1<<o,u=i[o];u===-1?(!(l&t)||l&n)&&(i[o]=uM(l,e)):u<=e&&(a.expiredLanes|=l),s&=~l}}function B_(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function UA(){var a=wg;return wg<<=1,!(wg&4194240)&&(wg=64),a}function Yb(a){for(var e=[],t=0;31>t;t++)e.push(a);return e}function Dp(a,e,t){a.pendingLanes|=e,e!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,e=31-Ii(e),a[e]=t}function mM(a,e){var t=a.pendingLanes&~e;a.pendingLanes=e,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=e,a.mutableReadLanes&=e,a.entangledLanes&=e,e=a.entanglements;var n=a.eventTimes;for(a=a.expirationTimes;0<t;){var i=31-Ii(t),s=1<<i;e[i]=0,n[i]=-1,a[i]=-1,t&=~s}}function t0(a,e){var t=a.entangledLanes|=e;for(a=a.entanglements;t;){var n=31-Ii(t),i=1<<n;i&e|a[n]&e&&(a[n]|=e),t&=~i}}var Ge=0;function WA(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var VA,n0,GA,YA,KA,F_=!1,xg=[],Do=null,Bo=null,Fo=null,Im=new Map,Nm=new Map,Bs=[],fM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S1(a,e){switch(a){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":Im.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nm.delete(e.pointerId)}}function Fc(a,e,t,n,i,s){return a===null||a.nativeEvent!==s?(a={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fp(e),e!==null&&n0(e)),a):(a.eventSystemFlags|=n,e=a.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),a)}function pM(a,e,t,n,i){switch(e){case"focusin":return Do=Fc(Do,a,e,t,n,i),!0;case"dragenter":return Bo=Fc(Bo,a,e,t,n,i),!0;case"mouseover":return Fo=Fc(Fo,a,e,t,n,i),!0;case"pointerover":var s=i.pointerId;return Im.set(s,Fc(Im.get(s)||null,a,e,t,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Nm.set(s,Fc(Nm.get(s)||null,a,e,t,n,i)),!0}return!1}function $A(a){var e=fh(a.target);if(e!==null){var t=Fl(e);if(t!==null){if(e=t.tag,e===13){if(e=OA(t),e!==null){a.blockedOn=e,KA(a.priority,function(){GA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){a.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}a.blockedOn=null}function $g(a){if(a.blockedOn!==null)return!1;for(var e=a.targetContainers;0<e.length;){var t=z_(a.domEventName,a.eventSystemFlags,e[0],a.nativeEvent);if(t===null){t=a.nativeEvent;var n=new t.constructor(t.type,t);N_=n,t.target.dispatchEvent(n),N_=null}else return e=Fp(t),e!==null&&n0(e),a.blockedOn=t,!1;e.shift()}return!0}function A1(a,e,t){$g(a)&&t.delete(e)}function gM(){F_=!1,Do!==null&&$g(Do)&&(Do=null),Bo!==null&&$g(Bo)&&(Bo=null),Fo!==null&&$g(Fo)&&(Fo=null),Im.forEach(A1),Nm.forEach(A1)}function zc(a,e){a.blockedOn===e&&(a.blockedOn=null,F_||(F_=!0,Oa.unstable_scheduleCallback(Oa.unstable_NormalPriority,gM)))}function Rm(a){function e(i){return zc(i,a)}if(0<xg.length){zc(xg[0],a);for(var t=1;t<xg.length;t++){var n=xg[t];n.blockedOn===a&&(n.blockedOn=null)}}for(Do!==null&&zc(Do,a),Bo!==null&&zc(Bo,a),Fo!==null&&zc(Fo,a),Im.forEach(e),Nm.forEach(e),t=0;t<Bs.length;t++)n=Bs[t],n.blockedOn===a&&(n.blockedOn=null);for(;0<Bs.length&&(t=Bs[0],t.blockedOn===null);)$A(t),t.blockedOn===null&&Bs.shift()}var Pd=Ls.ReactCurrentBatchConfig,Uv=!0;function vM(a,e,t,n){var i=Ge,s=Pd.transition;Pd.transition=null;try{Ge=1,a0(a,e,t,n)}finally{Ge=i,Pd.transition=s}}function yM(a,e,t,n){var i=Ge,s=Pd.transition;Pd.transition=null;try{Ge=4,a0(a,e,t,n)}finally{Ge=i,Pd.transition=s}}function a0(a,e,t,n){if(Uv){var i=z_(a,e,t,n);if(i===null)n_(a,e,n,Wv,t),S1(a,n);else if(pM(i,a,e,t,n))n.stopPropagation();else if(S1(a,n),e&4&&-1<fM.indexOf(a)){for(;i!==null;){var s=Fp(i);if(s!==null&&VA(s),s=z_(a,e,t,n),s===null&&n_(a,e,n,Wv,t),s===i)break;i=s}i!==null&&n.stopPropagation()}else n_(a,e,n,null,t)}}var Wv=null;function z_(a,e,t,n){if(Wv=null,a=Jk(n),a=fh(a),a!==null)if(e=Fl(a),e===null)a=null;else if(t=e.tag,t===13){if(a=OA(e),a!==null)return a;a=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;a=null}else e!==a&&(a=null);return Wv=a,null}function qA(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rM()){case e0:return 1;case zA:return 4;case zv:case sM:return 16;case HA:return 536870912;default:return 16}default:return 16}}var Ro=null,i0=null,qg=null;function ZA(){if(qg)return qg;var a,e=i0,t=e.length,n,i="value"in Ro?Ro.value:Ro.textContent,s=i.length;for(a=0;a<t&&e[a]===i[a];a++);var o=t-a;for(n=1;n<=o&&e[t-n]===i[s-n];n++);return qg=i.slice(a,1<n?1-n:void 0)}function Zg(a){var e=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&e===13&&(a=13)):a=e,a===10&&(a=13),32<=a||a===13?a:0}function Sg(){return!0}function T1(){return!1}function Fa(a){function e(t,n,i,s,o){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in a)a.hasOwnProperty(l)&&(t=a[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sg:T1,this.isPropagationStopped=T1,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Sg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Sg)},persist:function(){},isPersistent:Sg}),e}var yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r0=Fa(yc),Bp=wt({},yc,{view:0,detail:0}),bM=Fa(Bp),Kb,$b,Hc,zy=wt({},Bp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s0,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Hc&&(Hc&&a.type==="mousemove"?(Kb=a.screenX-Hc.screenX,$b=a.screenY-Hc.screenY):$b=Kb=0,Hc=a),Kb)},movementY:function(a){return"movementY"in a?a.movementY:$b}}),E1=Fa(zy),_M=wt({},zy,{dataTransfer:0}),wM=Fa(_M),kM=wt({},Bp,{relatedTarget:0}),qb=Fa(kM),xM=wt({},yc,{animationName:0,elapsedTime:0,pseudoElement:0}),SM=Fa(xM),AM=wt({},yc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),TM=Fa(AM),EM=wt({},yc,{data:0}),C1=Fa(EM),CM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MM(a){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(a):(a=LM[a])?!!e[a]:!1}function s0(){return MM}var jM=wt({},Bp,{key:function(a){if(a.key){var e=CM[a.key]||a.key;if(e!=="Unidentified")return e}return a.type==="keypress"?(a=Zg(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?PM[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s0,charCode:function(a){return a.type==="keypress"?Zg(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Zg(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),IM=Fa(jM),NM=wt({},zy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P1=Fa(NM),RM=wt({},Bp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s0}),OM=Fa(RM),DM=wt({},yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),BM=Fa(DM),FM=wt({},zy,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),zM=Fa(FM),HM=[9,13,27,32],o0=ks&&"CompositionEvent"in window,km=null;ks&&"documentMode"in document&&(km=document.documentMode);var UM=ks&&"TextEvent"in window&&!km,XA=ks&&(!o0||km&&8<km&&11>=km),L1=" ",M1=!1;function QA(a,e){switch(a){case"keyup":return HM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JA(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ud=!1;function WM(a,e){switch(a){case"compositionend":return JA(e);case"keypress":return e.which!==32?null:(M1=!0,L1);case"textInput":return a=e.data,a===L1&&M1?null:a;default:return null}}function VM(a,e){if(ud)return a==="compositionend"||!o0&&QA(a,e)?(a=ZA(),qg=i0=Ro=null,ud=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XA&&e.locale!=="ko"?null:e.data;default:return null}}var GM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j1(a){var e=a&&a.nodeName&&a.nodeName.toLowerCase();return e==="input"?!!GM[a.type]:e==="textarea"}function e2(a,e,t,n){MA(n),e=Vv(e,"onChange"),0<e.length&&(t=new r0("onChange","change",null,t,n),a.push({event:t,listeners:e}))}var xm=null,Om=null;function YM(a){u2(a,0)}function Hy(a){var e=fd(a);if(SA(e))return a}function KM(a,e){if(a==="change")return e}var t2=!1;if(ks){var Zb;if(ks){var Xb="oninput"in document;if(!Xb){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),Xb=typeof I1.oninput=="function"}Zb=Xb}else Zb=!1;t2=Zb&&(!document.documentMode||9<document.documentMode)}function N1(){xm&&(xm.detachEvent("onpropertychange",n2),Om=xm=null)}function n2(a){if(a.propertyName==="value"&&Hy(Om)){var e=[];e2(e,Om,a,Jk(a)),RA(YM,e)}}function $M(a,e,t){a==="focusin"?(N1(),xm=e,Om=t,xm.attachEvent("onpropertychange",n2)):a==="focusout"&&N1()}function qM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Hy(Om)}function ZM(a,e){if(a==="click")return Hy(e)}function XM(a,e){if(a==="input"||a==="change")return Hy(e)}function QM(a,e){return a===e&&(a!==0||1/a===1/e)||a!==a&&e!==e}var Ri=typeof Object.is=="function"?Object.is:QM;function Dm(a,e){if(Ri(a,e))return!0;if(typeof a!="object"||a===null||typeof e!="object"||e===null)return!1;var t=Object.keys(a),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!k_.call(e,i)||!Ri(a[i],e[i]))return!1}return!0}function R1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function O1(a,e){var t=R1(a);a=0;for(var n;t;){if(t.nodeType===3){if(n=a+t.textContent.length,a<=e&&n>=e)return{node:t,offset:e-a};a=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=R1(t)}}function a2(a,e){return a&&e?a===e?!0:a&&a.nodeType===3?!1:e&&e.nodeType===3?a2(a,e.parentNode):"contains"in a?a.contains(e):a.compareDocumentPosition?!!(a.compareDocumentPosition(e)&16):!1:!1}function i2(){for(var a=window,e=Dv();e instanceof a.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)a=e.contentWindow;else break;e=Dv(a.document)}return e}function h0(a){var e=a&&a.nodeName&&a.nodeName.toLowerCase();return e&&(e==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||e==="textarea"||a.contentEditable==="true")}function JM(a){var e=i2(),t=a.focusedElem,n=a.selectionRange;if(e!==t&&t&&t.ownerDocument&&a2(t.ownerDocument.documentElement,t)){if(n!==null&&h0(t)){if(e=n.start,a=n.end,a===void 0&&(a=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(a,t.value.length);else if(a=(e=t.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var i=t.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!a.extend&&s>n&&(i=n,n=s,s=i),i=O1(t,s);var o=O1(t,n);i&&o&&(a.rangeCount!==1||a.anchorNode!==i.node||a.anchorOffset!==i.offset||a.focusNode!==o.node||a.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),a.removeAllRanges(),s>n?(a.addRange(e),a.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),a.addRange(e)))}}for(e=[],a=t;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)a=e[t],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ej=ks&&"documentMode"in document&&11>=document.documentMode,cd=null,H_=null,Sm=null,U_=!1;function D1(a,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;U_||cd==null||cd!==Dv(n)||(n=cd,"selectionStart"in n&&h0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sm&&Dm(Sm,n)||(Sm=n,n=Vv(H_,"onSelect"),0<n.length&&(e=new r0("onSelect","select",null,e,t),a.push({event:e,listeners:n}),e.target=cd)))}function Ag(a,e){var t={};return t[a.toLowerCase()]=e.toLowerCase(),t["Webkit"+a]="webkit"+e,t["Moz"+a]="moz"+e,t}var md={animationend:Ag("Animation","AnimationEnd"),animationiteration:Ag("Animation","AnimationIteration"),animationstart:Ag("Animation","AnimationStart"),transitionend:Ag("Transition","TransitionEnd")},Qb={},r2={};ks&&(r2=document.createElement("div").style,"AnimationEvent"in window||(delete md.animationend.animation,delete md.animationiteration.animation,delete md.animationstart.animation),"TransitionEvent"in window||delete md.transitionend.transition);function Uy(a){if(Qb[a])return Qb[a];if(!md[a])return a;var e=md[a],t;for(t in e)if(e.hasOwnProperty(t)&&t in r2)return Qb[a]=e[t];return a}var s2=Uy("animationend"),o2=Uy("animationiteration"),h2=Uy("animationstart"),l2=Uy("transitionend"),d2=new Map,B1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xo(a,e){d2.set(a,e),Bl(e,[a])}for(var Jb=0;Jb<B1.length;Jb++){var e_=B1[Jb],tj=e_.toLowerCase(),nj=e_[0].toUpperCase()+e_.slice(1);Xo(tj,"on"+nj)}Xo(s2,"onAnimationEnd");Xo(o2,"onAnimationIteration");Xo(h2,"onAnimationStart");Xo("dblclick","onDoubleClick");Xo("focusin","onFocus");Xo("focusout","onBlur");Xo(l2,"onTransitionEnd");oc("onMouseEnter",["mouseout","mouseover"]);oc("onMouseLeave",["mouseout","mouseover"]);oc("onPointerEnter",["pointerout","pointerover"]);oc("onPointerLeave",["pointerout","pointerover"]);Bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function F1(a,e,t){var n=a.type||"unknown-event";a.currentTarget=t,tM(n,e,void 0,a),a.currentTarget=null}function u2(a,e){e=(e&4)!==0;for(var t=0;t<a.length;t++){var n=a[t],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;F1(i,l,c),s=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;F1(i,l,c),s=u}}}if(Fv)throw a=D_,Fv=!1,D_=null,a}function ot(a,e){var t=e[K_];t===void 0&&(t=e[K_]=new Set);var n=a+"__bubble";t.has(n)||(c2(e,a,2,!1),t.add(n))}function t_(a,e,t){var n=0;e&&(n|=4),c2(t,a,n,e)}var Tg="_reactListening"+Math.random().toString(36).slice(2);function Bm(a){if(!a[Tg]){a[Tg]=!0,bA.forEach(function(t){t!=="selectionchange"&&(aj.has(t)||t_(t,!1,a),t_(t,!0,a))});var e=a.nodeType===9?a:a.ownerDocument;e===null||e[Tg]||(e[Tg]=!0,t_("selectionchange",!1,e))}}function c2(a,e,t,n){switch(qA(e)){case 1:var i=vM;break;case 4:i=yM;break;default:i=a0}t=i.bind(null,e,t,a),i=void 0,!O_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?a.addEventListener(e,t,{capture:!0,passive:i}):a.addEventListener(e,t,!0):i!==void 0?a.addEventListener(e,t,{passive:i}):a.addEventListener(e,t,!1)}function n_(a,e,t,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=fh(l),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}l=l.parentNode}}n=n.return}RA(function(){var c=s,f=Jk(t),p=[];e:{var g=d2.get(a);if(g!==void 0){var b=r0,A=a;switch(a){case"keypress":if(Zg(t)===0)break e;case"keydown":case"keyup":b=IM;break;case"focusin":A="focus",b=qb;break;case"focusout":A="blur",b=qb;break;case"beforeblur":case"afterblur":b=qb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=E1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=wM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=OM;break;case s2:case o2:case h2:b=SM;break;case l2:b=BM;break;case"scroll":b=bM;break;case"wheel":b=zM;break;case"copy":case"cut":case"paste":b=TM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=P1}var x=(e&4)!==0,M=!x&&a==="scroll",w=x?g!==null?g+"Capture":null:g;x=[];for(var T=c,C;T!==null;){C=T;var P=C.stateNode;if(C.tag===5&&P!==null&&(C=P,w!==null&&(P=jm(T,w),P!=null&&x.push(Fm(T,P,C)))),M)break;T=T.return}0<x.length&&(g=new b(g,A,null,t,f),p.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=a==="mouseover"||a==="pointerover",b=a==="mouseout"||a==="pointerout",g&&t!==N_&&(A=t.relatedTarget||t.fromElement)&&(fh(A)||A[xs]))break e;if((b||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,b?(A=t.relatedTarget||t.toElement,b=c,A=A?fh(A):null,A!==null&&(M=Fl(A),A!==M||A.tag!==5&&A.tag!==6)&&(A=null)):(b=null,A=c),b!==A)){if(x=E1,P="onMouseLeave",w="onMouseEnter",T="mouse",(a==="pointerout"||a==="pointerover")&&(x=P1,P="onPointerLeave",w="onPointerEnter",T="pointer"),M=b==null?g:fd(b),C=A==null?g:fd(A),g=new x(P,T+"leave",b,t,f),g.target=M,g.relatedTarget=C,P=null,fh(f)===c&&(x=new x(w,T+"enter",A,t,f),x.target=C,x.relatedTarget=M,P=x),M=P,b&&A)t:{for(x=b,w=A,T=0,C=x;C;C=Ql(C))T++;for(C=0,P=w;P;P=Ql(P))C++;for(;0<T-C;)x=Ql(x),T--;for(;0<C-T;)w=Ql(w),C--;for(;T--;){if(x===w||w!==null&&x===w.alternate)break t;x=Ql(x),w=Ql(w)}x=null}else x=null;b!==null&&z1(p,g,b,x,!1),A!==null&&M!==null&&z1(p,M,A,x,!0)}}e:{if(g=c?fd(c):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var I=KM;else if(j1(g))if(t2)I=XM;else{I=qM;var N=$M}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(I=ZM);if(I&&(I=I(a,c))){e2(p,I,t,f);break e}N&&N(a,g,c),a==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&P_(g,"number",g.value)}switch(N=c?fd(c):window,a){case"focusin":(j1(N)||N.contentEditable==="true")&&(cd=N,H_=c,Sm=null);break;case"focusout":Sm=H_=cd=null;break;case"mousedown":U_=!0;break;case"contextmenu":case"mouseup":case"dragend":U_=!1,D1(p,t,f);break;case"selectionchange":if(ej)break;case"keydown":case"keyup":D1(p,t,f)}var O;if(o0)e:{switch(a){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ud?QA(a,t)&&(D="onCompositionEnd"):a==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(XA&&t.locale!=="ko"&&(ud||D!=="onCompositionStart"?D==="onCompositionEnd"&&ud&&(O=ZA()):(Ro=f,i0="value"in Ro?Ro.value:Ro.textContent,ud=!0)),N=Vv(c,D),0<N.length&&(D=new C1(D,a,null,t,f),p.push({event:D,listeners:N}),O?D.data=O:(O=JA(t),O!==null&&(D.data=O)))),(O=UM?WM(a,t):VM(a,t))&&(c=Vv(c,"onBeforeInput"),0<c.length&&(f=new C1("onBeforeInput","beforeinput",null,t,f),p.push({event:f,listeners:c}),f.data=O))}u2(p,e)})}function Fm(a,e,t){return{instance:a,listener:e,currentTarget:t}}function Vv(a,e){for(var t=e+"Capture",n=[];a!==null;){var i=a,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jm(a,t),s!=null&&n.unshift(Fm(a,s,i)),s=jm(a,e),s!=null&&n.push(Fm(a,s,i))),a=a.return}return n}function Ql(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function z1(a,e,t,n,i){for(var s=e._reactName,o=[];t!==null&&t!==n;){var l=t,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,i?(u=jm(t,s),u!=null&&o.unshift(Fm(t,u,l))):i||(u=jm(t,s),u!=null&&o.push(Fm(t,u,l)))),t=t.return}o.length!==0&&a.push({event:e,listeners:o})}var ij=/\r\n?/g,rj=/\u0000|\uFFFD/g;function H1(a){return(typeof a=="string"?a:""+a).replace(ij,`
`).replace(rj,"")}function Eg(a,e,t){if(e=H1(e),H1(a)!==e&&t)throw Error($(425))}function Gv(){}var W_=null,V_=null;function G_(a,e){return a==="textarea"||a==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Y_=typeof setTimeout=="function"?setTimeout:void 0,sj=typeof clearTimeout=="function"?clearTimeout:void 0,U1=typeof Promise=="function"?Promise:void 0,oj=typeof queueMicrotask=="function"?queueMicrotask:typeof U1<"u"?function(a){return U1.resolve(null).then(a).catch(hj)}:Y_;function hj(a){setTimeout(function(){throw a})}function a_(a,e){var t=e,n=0;do{var i=t.nextSibling;if(a.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){a.removeChild(i),Rm(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);Rm(e)}function zo(a){for(;a!=null;a=a.nextSibling){var e=a.nodeType;if(e===1||e===3)break;if(e===8){if(e=a.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return a}function W1(a){a=a.previousSibling;for(var e=0;a;){if(a.nodeType===8){var t=a.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return a;e--}else t==="/$"&&e++}a=a.previousSibling}return null}var bc=Math.random().toString(36).slice(2),br="__reactFiber$"+bc,zm="__reactProps$"+bc,xs="__reactContainer$"+bc,K_="__reactEvents$"+bc,lj="__reactListeners$"+bc,dj="__reactHandles$"+bc;function fh(a){var e=a[br];if(e)return e;for(var t=a.parentNode;t;){if(e=t[xs]||t[br]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(a=W1(a);a!==null;){if(t=a[br])return t;a=W1(a)}return e}a=t,t=a.parentNode}return null}function Fp(a){return a=a[br]||a[xs],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function fd(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error($(33))}function Wy(a){return a[zm]||null}var $_=[],pd=-1;function Qo(a){return{current:a}}function lt(a){0>pd||(a.current=$_[pd],$_[pd]=null,pd--)}function rt(a,e){pd++,$_[pd]=a.current,a.current=e}var Yo={},Nn=Qo(Yo),ha=Qo(!1),Ml=Yo;function hc(a,e){var t=a.type.contextTypes;if(!t)return Yo;var n=a.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return n&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=i),i}function la(a){return a=a.childContextTypes,a!=null}function Yv(){lt(ha),lt(Nn)}function V1(a,e,t){if(Nn.current!==Yo)throw Error($(168));rt(Nn,e),rt(ha,t)}function m2(a,e,t){var n=a.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error($(108,$L(a)||"Unknown",i));return wt({},t,n)}function Kv(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Yo,Ml=Nn.current,rt(Nn,a),rt(ha,ha.current),!0}function G1(a,e,t){var n=a.stateNode;if(!n)throw Error($(169));t?(a=m2(a,e,Ml),n.__reactInternalMemoizedMergedChildContext=a,lt(ha),lt(Nn),rt(Nn,a)):lt(ha),rt(ha,t)}var Or=null,Vy=!1,i_=!1;function f2(a){Or===null?Or=[a]:Or.push(a)}function uj(a){Vy=!0,f2(a)}function Jo(){if(!i_&&Or!==null){i_=!0;var a=0,e=Ge;try{var t=Or;for(Ge=1;a<t.length;a++){var n=t[a];do n=n(!0);while(n!==null)}Or=null,Vy=!1}catch(i){throw Or!==null&&(Or=Or.slice(a+1)),FA(e0,Jo),i}finally{Ge=e,i_=!1}}return null}var gd=[],vd=0,$v=null,qv=0,ni=[],ai=0,jl=null,vs=1,ys="";function sh(a,e){gd[vd++]=qv,gd[vd++]=$v,$v=a,qv=e}function p2(a,e,t){ni[ai++]=vs,ni[ai++]=ys,ni[ai++]=jl,jl=a;var n=vs;a=ys;var i=32-Ii(n)-1;n&=~(1<<i),t+=1;var s=32-Ii(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,vs=1<<32-Ii(e)+i|t<<i|n,ys=s+a}else vs=1<<s|t<<i|n,ys=a}function l0(a){a.return!==null&&(sh(a,1),p2(a,1,0))}function d0(a){for(;a===$v;)$v=gd[--vd],gd[vd]=null,qv=gd[--vd],gd[vd]=null;for(;a===jl;)jl=ni[--ai],ni[ai]=null,ys=ni[--ai],ni[ai]=null,vs=ni[--ai],ni[ai]=null}var Na=null,Ia=null,mt=!1,Mi=null;function g2(a,e){var t=si(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=a,e=a.deletions,e===null?(a.deletions=[t],a.flags|=16):e.push(t)}function Y1(a,e){switch(a.tag){case 5:var t=a.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(a.stateNode=e,Na=a,Ia=zo(e.firstChild),!0):!1;case 6:return e=a.pendingProps===""||e.nodeType!==3?null:e,e!==null?(a.stateNode=e,Na=a,Ia=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=jl!==null?{id:vs,overflow:ys}:null,a.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=si(18,null,null,0),t.stateNode=e,t.return=a,a.child=t,Na=a,Ia=null,!0):!1;default:return!1}}function q_(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Z_(a){if(mt){var e=Ia;if(e){var t=e;if(!Y1(a,e)){if(q_(a))throw Error($(418));e=zo(t.nextSibling);var n=Na;e&&Y1(a,e)?g2(n,t):(a.flags=a.flags&-4097|2,mt=!1,Na=a)}}else{if(q_(a))throw Error($(418));a.flags=a.flags&-4097|2,mt=!1,Na=a}}}function K1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Na=a}function Cg(a){if(a!==Na)return!1;if(!mt)return K1(a),mt=!0,!1;var e;if((e=a.tag!==3)&&!(e=a.tag!==5)&&(e=a.type,e=e!=="head"&&e!=="body"&&!G_(a.type,a.memoizedProps)),e&&(e=Ia)){if(q_(a))throw v2(),Error($(418));for(;e;)g2(a,e),e=zo(e.nextSibling)}if(K1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error($(317));e:{for(a=a.nextSibling,e=0;a;){if(a.nodeType===8){var t=a.data;if(t==="/$"){if(e===0){Ia=zo(a.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}a=a.nextSibling}Ia=null}}else Ia=Na?zo(a.stateNode.nextSibling):null;return!0}function v2(){for(var a=Ia;a;)a=zo(a.nextSibling)}function lc(){Ia=Na=null,mt=!1}function u0(a){Mi===null?Mi=[a]:Mi.push(a)}var cj=Ls.ReactCurrentBatchConfig;function Uc(a,e,t){if(a=t.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error($(309));var n=t.stateNode}if(!n)throw Error($(147,a));var i=n,s=""+a;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof a!="string")throw Error($(284));if(!t._owner)throw Error($(290,a))}return a}function Pg(a,e){throw a=Object.prototype.toString.call(e),Error($(31,a==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":a))}function $1(a){var e=a._init;return e(a._payload)}function y2(a){function e(w,T){if(a){var C=w.deletions;C===null?(w.deletions=[T],w.flags|=16):C.push(T)}}function t(w,T){if(!a)return null;for(;T!==null;)e(w,T),T=T.sibling;return null}function n(w,T){for(w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function i(w,T){return w=Vo(w,T),w.index=0,w.sibling=null,w}function s(w,T,C){return w.index=C,a?(C=w.alternate,C!==null?(C=C.index,C<T?(w.flags|=2,T):C):(w.flags|=2,T)):(w.flags|=1048576,T)}function o(w){return a&&w.alternate===null&&(w.flags|=2),w}function l(w,T,C,P){return T===null||T.tag!==6?(T=u_(C,w.mode,P),T.return=w,T):(T=i(T,C),T.return=w,T)}function u(w,T,C,P){var I=C.type;return I===dd?f(w,T,C.props.children,P,C.key):T!==null&&(T.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Os&&$1(I)===T.type)?(P=i(T,C.props),P.ref=Uc(w,T,C),P.return=w,P):(P=av(C.type,C.key,C.props,null,w.mode,P),P.ref=Uc(w,T,C),P.return=w,P)}function c(w,T,C,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=c_(C,w.mode,P),T.return=w,T):(T=i(T,C.children||[]),T.return=w,T)}function f(w,T,C,P,I){return T===null||T.tag!==7?(T=Ll(C,w.mode,P,I),T.return=w,T):(T=i(T,C),T.return=w,T)}function p(w,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return T=u_(""+T,w.mode,C),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case yg:return C=av(T.type,T.key,T.props,null,w.mode,C),C.ref=Uc(w,null,T),C.return=w,C;case ld:return T=c_(T,w.mode,C),T.return=w,T;case Os:var P=T._init;return p(w,P(T._payload),C)}if(Zc(T)||Dc(T))return T=Ll(T,w.mode,C,null),T.return=w,T;Pg(w,T)}return null}function g(w,T,C,P){var I=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return I!==null?null:l(w,T,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yg:return C.key===I?u(w,T,C,P):null;case ld:return C.key===I?c(w,T,C,P):null;case Os:return I=C._init,g(w,T,I(C._payload),P)}if(Zc(C)||Dc(C))return I!==null?null:f(w,T,C,P,null);Pg(w,C)}return null}function b(w,T,C,P,I){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(C)||null,l(T,w,""+P,I);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case yg:return w=w.get(P.key===null?C:P.key)||null,u(T,w,P,I);case ld:return w=w.get(P.key===null?C:P.key)||null,c(T,w,P,I);case Os:var N=P._init;return b(w,T,C,N(P._payload),I)}if(Zc(P)||Dc(P))return w=w.get(C)||null,f(T,w,P,I,null);Pg(T,P)}return null}function A(w,T,C,P){for(var I=null,N=null,O=T,D=T=0,U=null;O!==null&&D<C.length;D++){O.index>D?(U=O,O=null):U=O.sibling;var H=g(w,O,C[D],P);if(H===null){O===null&&(O=U);break}a&&O&&H.alternate===null&&e(w,O),T=s(H,T,D),N===null?I=H:N.sibling=H,N=H,O=U}if(D===C.length)return t(w,O),mt&&sh(w,D),I;if(O===null){for(;D<C.length;D++)O=p(w,C[D],P),O!==null&&(T=s(O,T,D),N===null?I=O:N.sibling=O,N=O);return mt&&sh(w,D),I}for(O=n(w,O);D<C.length;D++)U=b(O,w,D,C[D],P),U!==null&&(a&&U.alternate!==null&&O.delete(U.key===null?D:U.key),T=s(U,T,D),N===null?I=U:N.sibling=U,N=U);return a&&O.forEach(function(V){return e(w,V)}),mt&&sh(w,D),I}function x(w,T,C,P){var I=Dc(C);if(typeof I!="function")throw Error($(150));if(C=I.call(C),C==null)throw Error($(151));for(var N=I=null,O=T,D=T=0,U=null,H=C.next();O!==null&&!H.done;D++,H=C.next()){O.index>D?(U=O,O=null):U=O.sibling;var V=g(w,O,H.value,P);if(V===null){O===null&&(O=U);break}a&&O&&V.alternate===null&&e(w,O),T=s(V,T,D),N===null?I=V:N.sibling=V,N=V,O=U}if(H.done)return t(w,O),mt&&sh(w,D),I;if(O===null){for(;!H.done;D++,H=C.next())H=p(w,H.value,P),H!==null&&(T=s(H,T,D),N===null?I=H:N.sibling=H,N=H);return mt&&sh(w,D),I}for(O=n(w,O);!H.done;D++,H=C.next())H=b(O,w,D,H.value,P),H!==null&&(a&&H.alternate!==null&&O.delete(H.key===null?D:H.key),T=s(H,T,D),N===null?I=H:N.sibling=H,N=H);return a&&O.forEach(function(Z){return e(w,Z)}),mt&&sh(w,D),I}function M(w,T,C,P){if(typeof C=="object"&&C!==null&&C.type===dd&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case yg:e:{for(var I=C.key,N=T;N!==null;){if(N.key===I){if(I=C.type,I===dd){if(N.tag===7){t(w,N.sibling),T=i(N,C.props.children),T.return=w,w=T;break e}}else if(N.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Os&&$1(I)===N.type){t(w,N.sibling),T=i(N,C.props),T.ref=Uc(w,N,C),T.return=w,w=T;break e}t(w,N);break}else e(w,N);N=N.sibling}C.type===dd?(T=Ll(C.props.children,w.mode,P,C.key),T.return=w,w=T):(P=av(C.type,C.key,C.props,null,w.mode,P),P.ref=Uc(w,T,C),P.return=w,w=P)}return o(w);case ld:e:{for(N=C.key;T!==null;){if(T.key===N)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){t(w,T.sibling),T=i(T,C.children||[]),T.return=w,w=T;break e}else{t(w,T);break}else e(w,T);T=T.sibling}T=c_(C,w.mode,P),T.return=w,w=T}return o(w);case Os:return N=C._init,M(w,T,N(C._payload),P)}if(Zc(C))return A(w,T,C,P);if(Dc(C))return x(w,T,C,P);Pg(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,T!==null&&T.tag===6?(t(w,T.sibling),T=i(T,C),T.return=w,w=T):(t(w,T),T=u_(C,w.mode,P),T.return=w,w=T),o(w)):t(w,T)}return M}var dc=y2(!0),b2=y2(!1),Zv=Qo(null),Xv=null,yd=null,c0=null;function m0(){c0=yd=Xv=null}function f0(a){var e=Zv.current;lt(Zv),a._currentValue=e}function X_(a,e,t){for(;a!==null;){var n=a.alternate;if((a.childLanes&e)!==e?(a.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),a===t)break;a=a.return}}function Ld(a,e){Xv=a,c0=yd=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&e&&(oa=!0),a.firstContext=null)}function li(a){var e=a._currentValue;if(c0!==a)if(a={context:a,memoizedValue:e,next:null},yd===null){if(Xv===null)throw Error($(308));yd=a,Xv.dependencies={lanes:0,firstContext:a}}else yd=yd.next=a;return e}var ph=null;function p0(a){ph===null?ph=[a]:ph.push(a)}function _2(a,e,t,n){var i=e.interleaved;return i===null?(t.next=t,p0(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ss(a,n)}function Ss(a,e){a.lanes|=e;var t=a.alternate;for(t!==null&&(t.lanes|=e),t=a,a=a.return;a!==null;)a.childLanes|=e,t=a.alternate,t!==null&&(t.childLanes|=e),t=a,a=a.return;return t.tag===3?t.stateNode:null}var Ds=!1;function g0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w2(a,e){a=a.updateQueue,e.updateQueue===a&&(e.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function bs(a,e){return{eventTime:a,lane:e,tag:0,payload:null,callback:null,next:null}}function Ho(a,e,t){var n=a.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ss(a,t)}return i=n.interleaved,i===null?(e.next=e,p0(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ss(a,t)}function Xg(a,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=a.pendingLanes,t|=n,e.lanes=t,t0(a,t)}}function q1(a,e){var t=a.updateQueue,n=a.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},a.updateQueue=t;return}a=t.lastBaseUpdate,a===null?t.firstBaseUpdate=e:a.next=e,t.lastBaseUpdate=e}function Qv(a,e,t,n){var i=a.updateQueue;Ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=a.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=c=u=null,l=s;do{var g=l.lane,b=l.eventTime;if((n&g)===g){f!==null&&(f=f.next={eventTime:b,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var A=a,x=l;switch(g=e,b=t,x.tag){case 1:if(A=x.payload,typeof A=="function"){p=A.call(b,p,g);break e}p=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=x.payload,g=typeof A=="function"?A.call(b,p,g):A,g==null)break e;p=wt({},p,g);break e;case 2:Ds=!0}}l.callback!==null&&l.lane!==0&&(a.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else b={eventTime:b,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=b,u=p):f=f.next=b,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Nl|=o,a.lanes=o,a.memoizedState=p}}function Z1(a,e,t){if(a=e.effects,e.effects=null,a!==null)for(e=0;e<a.length;e++){var n=a[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error($(191,i));i.call(n)}}}var zp={},xr=Qo(zp),Hm=Qo(zp),Um=Qo(zp);function gh(a){if(a===zp)throw Error($(174));return a}function v0(a,e){switch(rt(Um,e),rt(Hm,a),rt(xr,zp),a=e.nodeType,a){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:M_(null,"");break;default:a=a===8?e.parentNode:e,e=a.namespaceURI||null,a=a.tagName,e=M_(e,a)}lt(xr),rt(xr,e)}function uc(){lt(xr),lt(Hm),lt(Um)}function k2(a){gh(Um.current);var e=gh(xr.current),t=M_(e,a.type);e!==t&&(rt(Hm,a),rt(xr,t))}function y0(a){Hm.current===a&&(lt(xr),lt(Hm))}var vt=Qo(0);function Jv(a){for(var e=a;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break;for(;e.sibling===null;){if(e.return===null||e.return===a)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var r_=[];function b0(){for(var a=0;a<r_.length;a++)r_[a]._workInProgressVersionPrimary=null;r_.length=0}var Qg=Ls.ReactCurrentDispatcher,s_=Ls.ReactCurrentBatchConfig,Il=0,bt=null,Gt=null,nn=null,ey=!1,Am=!1,Wm=0,mj=0;function kn(){throw Error($(321))}function _0(a,e){if(e===null)return!1;for(var t=0;t<e.length&&t<a.length;t++)if(!Ri(a[t],e[t]))return!1;return!0}function w0(a,e,t,n,i,s){if(Il=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qg.current=a===null||a.memoizedState===null?vj:yj,a=t(n,i),Am){s=0;do{if(Am=!1,Wm=0,25<=s)throw Error($(301));s+=1,nn=Gt=null,e.updateQueue=null,Qg.current=bj,a=t(n,i)}while(Am)}if(Qg.current=ty,e=Gt!==null&&Gt.next!==null,Il=0,nn=Gt=bt=null,ey=!1,e)throw Error($(300));return a}function k0(){var a=Wm!==0;return Wm=0,a}function qi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?bt.memoizedState=nn=a:nn=nn.next=a,nn}function di(){if(Gt===null){var a=bt.alternate;a=a!==null?a.memoizedState:null}else a=Gt.next;var e=nn===null?bt.memoizedState:nn.next;if(e!==null)nn=e,Gt=a;else{if(a===null)throw Error($(310));Gt=a,a={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},nn===null?bt.memoizedState=nn=a:nn=nn.next=a}return nn}function Vm(a,e){return typeof e=="function"?e(a):e}function o_(a){var e=di(),t=e.queue;if(t===null)throw Error($(311));t.lastRenderedReducer=a;var n=Gt,i=n.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,u=null,c=s;do{var f=c.lane;if((Il&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:a(n,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=n):u=u.next=p,bt.lanes|=f,Nl|=f}c=c.next}while(c!==null&&c!==s);u===null?o=n:u.next=l,Ri(n,e.memoizedState)||(oa=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,t.lastRenderedState=n}if(a=t.interleaved,a!==null){i=a;do s=i.lane,bt.lanes|=s,Nl|=s,i=i.next;while(i!==a)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function h_(a){var e=di(),t=e.queue;if(t===null)throw Error($(311));t.lastRenderedReducer=a;var n=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=a(s,o.action),o=o.next;while(o!==i);Ri(s,e.memoizedState)||(oa=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function x2(){}function S2(a,e){var t=bt,n=di(),i=e(),s=!Ri(n.memoizedState,i);if(s&&(n.memoizedState=i,oa=!0),n=n.queue,x0(E2.bind(null,t,n,a),[a]),n.getSnapshot!==e||s||nn!==null&&nn.memoizedState.tag&1){if(t.flags|=2048,Gm(9,T2.bind(null,t,n,i,e),void 0,null),an===null)throw Error($(349));Il&30||A2(t,e,i)}return i}function A2(a,e,t){a.flags|=16384,a={getSnapshot:e,value:t},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[a]):(t=e.stores,t===null?e.stores=[a]:t.push(a))}function T2(a,e,t,n){e.value=t,e.getSnapshot=n,C2(e)&&P2(a)}function E2(a,e,t){return t(function(){C2(e)&&P2(a)})}function C2(a){var e=a.getSnapshot;a=a.value;try{var t=e();return!Ri(a,t)}catch{return!0}}function P2(a){var e=Ss(a,1);e!==null&&Ni(e,a,1,-1)}function X1(a){var e=qi();return typeof a=="function"&&(a=a()),e.memoizedState=e.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vm,lastRenderedState:a},e.queue=a,a=a.dispatch=gj.bind(null,bt,a),[e.memoizedState,a]}function Gm(a,e,t,n){return a={tag:a,create:e,destroy:t,deps:n,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=a.next=a):(t=e.lastEffect,t===null?e.lastEffect=a.next=a:(n=t.next,t.next=a,a.next=n,e.lastEffect=a)),a}function L2(){return di().memoizedState}function Jg(a,e,t,n){var i=qi();bt.flags|=a,i.memoizedState=Gm(1|e,t,void 0,n===void 0?null:n)}function Gy(a,e,t,n){var i=di();n=n===void 0?null:n;var s=void 0;if(Gt!==null){var o=Gt.memoizedState;if(s=o.destroy,n!==null&&_0(n,o.deps)){i.memoizedState=Gm(e,t,s,n);return}}bt.flags|=a,i.memoizedState=Gm(1|e,t,s,n)}function Q1(a,e){return Jg(8390656,8,a,e)}function x0(a,e){return Gy(2048,8,a,e)}function M2(a,e){return Gy(4,2,a,e)}function j2(a,e){return Gy(4,4,a,e)}function I2(a,e){if(typeof e=="function")return a=a(),e(a),function(){e(null)};if(e!=null)return a=a(),e.current=a,function(){e.current=null}}function N2(a,e,t){return t=t!=null?t.concat([a]):null,Gy(4,4,I2.bind(null,e,a),t)}function S0(){}function R2(a,e){var t=di();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&_0(e,n[1])?n[0]:(t.memoizedState=[a,e],a)}function O2(a,e){var t=di();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&_0(e,n[1])?n[0]:(a=a(),t.memoizedState=[a,e],a)}function D2(a,e,t){return Il&21?(Ri(t,e)||(t=UA(),bt.lanes|=t,Nl|=t,a.baseState=!0),e):(a.baseState&&(a.baseState=!1,oa=!0),a.memoizedState=t)}function fj(a,e){var t=Ge;Ge=t!==0&&4>t?t:4,a(!0);var n=s_.transition;s_.transition={};try{a(!1),e()}finally{Ge=t,s_.transition=n}}function B2(){return di().memoizedState}function pj(a,e,t){var n=Wo(a);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},F2(a))z2(e,t);else if(t=_2(a,e,t,n),t!==null){var i=Gn();Ni(t,a,n,i),H2(t,e,n)}}function gj(a,e,t){var n=Wo(a),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(F2(a))z2(e,i);else{var s=a.alternate;if(a.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,t);if(i.hasEagerState=!0,i.eagerState=l,Ri(l,o)){var u=e.interleaved;u===null?(i.next=i,p0(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}t=_2(a,e,i,n),t!==null&&(i=Gn(),Ni(t,a,n,i),H2(t,e,n))}}function F2(a){var e=a.alternate;return a===bt||e!==null&&e===bt}function z2(a,e){Am=ey=!0;var t=a.pending;t===null?e.next=e:(e.next=t.next,t.next=e),a.pending=e}function H2(a,e,t){if(t&4194240){var n=e.lanes;n&=a.pendingLanes,t|=n,e.lanes=t,t0(a,t)}}var ty={readContext:li,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},vj={readContext:li,useCallback:function(a,e){return qi().memoizedState=[a,e===void 0?null:e],a},useContext:li,useEffect:Q1,useImperativeHandle:function(a,e,t){return t=t!=null?t.concat([a]):null,Jg(4194308,4,I2.bind(null,e,a),t)},useLayoutEffect:function(a,e){return Jg(4194308,4,a,e)},useInsertionEffect:function(a,e){return Jg(4,2,a,e)},useMemo:function(a,e){var t=qi();return e=e===void 0?null:e,a=a(),t.memoizedState=[a,e],a},useReducer:function(a,e,t){var n=qi();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:e},n.queue=a,a=a.dispatch=pj.bind(null,bt,a),[n.memoizedState,a]},useRef:function(a){var e=qi();return a={current:a},e.memoizedState=a},useState:X1,useDebugValue:S0,useDeferredValue:function(a){return qi().memoizedState=a},useTransition:function(){var a=X1(!1),e=a[0];return a=fj.bind(null,a[1]),qi().memoizedState=a,[e,a]},useMutableSource:function(){},useSyncExternalStore:function(a,e,t){var n=bt,i=qi();if(mt){if(t===void 0)throw Error($(407));t=t()}else{if(t=e(),an===null)throw Error($(349));Il&30||A2(n,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,Q1(E2.bind(null,n,s,a),[a]),n.flags|=2048,Gm(9,T2.bind(null,n,s,t,e),void 0,null),t},useId:function(){var a=qi(),e=an.identifierPrefix;if(mt){var t=ys,n=vs;t=(n&~(1<<32-Ii(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=Wm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=mj++,e=":"+e+"r"+t.toString(32)+":";return a.memoizedState=e},unstable_isNewReconciler:!1},yj={readContext:li,useCallback:R2,useContext:li,useEffect:x0,useImperativeHandle:N2,useInsertionEffect:M2,useLayoutEffect:j2,useMemo:O2,useReducer:o_,useRef:L2,useState:function(){return o_(Vm)},useDebugValue:S0,useDeferredValue:function(a){var e=di();return D2(e,Gt.memoizedState,a)},useTransition:function(){var a=o_(Vm)[0],e=di().memoizedState;return[a,e]},useMutableSource:x2,useSyncExternalStore:S2,useId:B2,unstable_isNewReconciler:!1},bj={readContext:li,useCallback:R2,useContext:li,useEffect:x0,useImperativeHandle:N2,useInsertionEffect:M2,useLayoutEffect:j2,useMemo:O2,useReducer:h_,useRef:L2,useState:function(){return h_(Vm)},useDebugValue:S0,useDeferredValue:function(a){var e=di();return Gt===null?e.memoizedState=a:D2(e,Gt.memoizedState,a)},useTransition:function(){var a=h_(Vm)[0],e=di().memoizedState;return[a,e]},useMutableSource:x2,useSyncExternalStore:S2,useId:B2,unstable_isNewReconciler:!1};function vi(a,e){if(a&&a.defaultProps){e=wt({},e),a=a.defaultProps;for(var t in a)e[t]===void 0&&(e[t]=a[t]);return e}return e}function Q_(a,e,t,n){e=a.memoizedState,t=t(n,e),t=t==null?e:wt({},e,t),a.memoizedState=t,a.lanes===0&&(a.updateQueue.baseState=t)}var Yy={isMounted:function(a){return(a=a._reactInternals)?Fl(a)===a:!1},enqueueSetState:function(a,e,t){a=a._reactInternals;var n=Gn(),i=Wo(a),s=bs(n,i);s.payload=e,t!=null&&(s.callback=t),e=Ho(a,s,i),e!==null&&(Ni(e,a,i,n),Xg(e,a,i))},enqueueReplaceState:function(a,e,t){a=a._reactInternals;var n=Gn(),i=Wo(a),s=bs(n,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ho(a,s,i),e!==null&&(Ni(e,a,i,n),Xg(e,a,i))},enqueueForceUpdate:function(a,e){a=a._reactInternals;var t=Gn(),n=Wo(a),i=bs(t,n);i.tag=2,e!=null&&(i.callback=e),e=Ho(a,i,n),e!==null&&(Ni(e,a,n,t),Xg(e,a,n))}};function J1(a,e,t,n,i,s,o){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dm(t,n)||!Dm(i,s):!0}function U2(a,e,t){var n=!1,i=Yo,s=e.contextType;return typeof s=="object"&&s!==null?s=li(s):(i=la(e)?Ml:Nn.current,n=e.contextTypes,s=(n=n!=null)?hc(a,i):Yo),e=new e(t,s),a.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yy,a.stateNode=e,e._reactInternals=a,n&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=i,a.__reactInternalMemoizedMaskedChildContext=s),e}function eS(a,e,t,n){a=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==a&&Yy.enqueueReplaceState(e,e.state,null)}function J_(a,e,t,n){var i=a.stateNode;i.props=t,i.state=a.memoizedState,i.refs={},g0(a);var s=e.contextType;typeof s=="object"&&s!==null?i.context=li(s):(s=la(e)?Ml:Nn.current,i.context=hc(a,s)),i.state=a.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Q_(a,e,s,t),i.state=a.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yy.enqueueReplaceState(i,i.state,null),Qv(a,t,i,n),i.state=a.memoizedState),typeof i.componentDidMount=="function"&&(a.flags|=4194308)}function cc(a,e){try{var t="",n=e;do t+=KL(n),n=n.return;while(n);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:a,source:e,stack:i,digest:null}}function l_(a,e,t){return{value:a,source:null,stack:t??null,digest:e??null}}function ew(a,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var _j=typeof WeakMap=="function"?WeakMap:Map;function W2(a,e,t){t=bs(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){ay||(ay=!0,dw=n),ew(a,e)},t}function V2(a,e,t){t=bs(-1,t),t.tag=3;var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){ew(a,e)}}var s=a.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){ew(a,e),typeof n!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function tS(a,e,t){var n=a.pingCache;if(n===null){n=a.pingCache=new _j;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),a=Nj.bind(null,a,e,t),e.then(a,a))}function nS(a){do{var e;if((e=a.tag===13)&&(e=a.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return a;a=a.return}while(a!==null);return null}function aS(a,e,t,n,i){return a.mode&1?(a.flags|=65536,a.lanes=i,a):(a===e?a.flags|=65536:(a.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=bs(-1,1),e.tag=2,Ho(t,e,1))),t.lanes|=1),a)}var wj=Ls.ReactCurrentOwner,oa=!1;function Wn(a,e,t,n){e.child=a===null?b2(e,null,t,n):dc(e,a.child,t,n)}function iS(a,e,t,n,i){t=t.render;var s=e.ref;return Ld(e,i),n=w0(a,e,t,n,s,i),t=k0(),a!==null&&!oa?(e.updateQueue=a.updateQueue,e.flags&=-2053,a.lanes&=~i,As(a,e,i)):(mt&&t&&l0(e),e.flags|=1,Wn(a,e,n,i),e.child)}function rS(a,e,t,n,i){if(a===null){var s=t.type;return typeof s=="function"&&!j0(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,G2(a,e,s,n,i)):(a=av(t.type,null,n,e,e.mode,i),a.ref=e.ref,a.return=e,e.child=a)}if(s=a.child,!(a.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Dm,t(o,n)&&a.ref===e.ref)return As(a,e,i)}return e.flags|=1,a=Vo(s,n),a.ref=e.ref,a.return=e,e.child=a}function G2(a,e,t,n,i){if(a!==null){var s=a.memoizedProps;if(Dm(s,n)&&a.ref===e.ref)if(oa=!1,e.pendingProps=n=s,(a.lanes&i)!==0)a.flags&131072&&(oa=!0);else return e.lanes=a.lanes,As(a,e,i)}return tw(a,e,t,n,i)}function Y2(a,e,t){var n=e.pendingProps,i=n.children,s=a!==null?a.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(_d,La),La|=t;else{if(!(t&1073741824))return a=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:a,cachePool:null,transitions:null},e.updateQueue=null,rt(_d,La),La|=a,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,rt(_d,La),La|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,rt(_d,La),La|=n;return Wn(a,e,i,t),e.child}function K2(a,e){var t=e.ref;(a===null&&t!==null||a!==null&&a.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function tw(a,e,t,n,i){var s=la(t)?Ml:Nn.current;return s=hc(e,s),Ld(e,i),t=w0(a,e,t,n,s,i),n=k0(),a!==null&&!oa?(e.updateQueue=a.updateQueue,e.flags&=-2053,a.lanes&=~i,As(a,e,i)):(mt&&n&&l0(e),e.flags|=1,Wn(a,e,t,i),e.child)}function sS(a,e,t,n,i){if(la(t)){var s=!0;Kv(e)}else s=!1;if(Ld(e,i),e.stateNode===null)ev(a,e),U2(e,t,n),J_(e,t,n,i),n=!0;else if(a===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=li(c):(c=la(t)?Ml:Nn.current,c=hc(e,c));var f=t.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==c)&&eS(e,o,n,c),Ds=!1;var g=e.memoizedState;o.state=g,Qv(e,n,o,i),u=e.memoizedState,l!==n||g!==u||ha.current||Ds?(typeof f=="function"&&(Q_(e,t,f,n),u=e.memoizedState),(l=Ds||J1(e,t,l,n,g,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,w2(a,e),l=e.memoizedProps,c=e.type===e.elementType?l:vi(e.type,l),o.props=c,p=e.pendingProps,g=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=li(u):(u=la(t)?Ml:Nn.current,u=hc(e,u));var b=t.getDerivedStateFromProps;(f=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==u)&&eS(e,o,n,u),Ds=!1,g=e.memoizedState,o.state=g,Qv(e,n,o,i);var A=e.memoizedState;l!==p||g!==A||ha.current||Ds?(typeof b=="function"&&(Q_(e,t,b,n),A=e.memoizedState),(c=Ds||J1(e,t,c,n,g,A,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,A,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,A,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===a.memoizedProps&&g===a.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===a.memoizedProps&&g===a.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=A),o.props=n,o.state=A,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||l===a.memoizedProps&&g===a.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===a.memoizedProps&&g===a.memoizedState||(e.flags|=1024),n=!1)}return nw(a,e,t,n,s,i)}function nw(a,e,t,n,i,s){K2(a,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&G1(e,t,!1),As(a,e,s);n=e.stateNode,wj.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,a!==null&&o?(e.child=dc(e,a.child,null,s),e.child=dc(e,null,l,s)):Wn(a,e,l,s),e.memoizedState=n.state,i&&G1(e,t,!0),e.child}function $2(a){var e=a.stateNode;e.pendingContext?V1(a,e.pendingContext,e.pendingContext!==e.context):e.context&&V1(a,e.context,!1),v0(a,e.containerInfo)}function oS(a,e,t,n,i){return lc(),u0(i),e.flags|=256,Wn(a,e,t,n),e.child}var aw={dehydrated:null,treeContext:null,retryLane:0};function iw(a){return{baseLanes:a,cachePool:null,transitions:null}}function q2(a,e,t){var n=e.pendingProps,i=vt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=a!==null&&a.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(a===null||a.memoizedState!==null)&&(i|=1),rt(vt,i&1),a===null)return Z_(e),a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(e.mode&1?a.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,a=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qy(o,n,0,null),a=Ll(a,n,t,null),s.return=e,a.return=e,s.sibling=a,e.child=s,e.child.memoizedState=iw(t),e.memoizedState=aw,a):A0(e,o));if(i=a.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return kj(a,e,o,n,l,i,t);if(s){s=n.fallback,o=e.mode,i=a.child,l=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Vo(i,u),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Vo(l,s):(s=Ll(s,o,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=a.child.memoizedState,o=o===null?iw(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=a.childLanes&~t,e.memoizedState=aw,n}return s=a.child,a=s.sibling,n=Vo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,a!==null&&(t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)),e.child=n,e.memoizedState=null,n}function A0(a,e){return e=qy({mode:"visible",children:e},a.mode,0,null),e.return=a,a.child=e}function Lg(a,e,t,n){return n!==null&&u0(n),dc(e,a.child,null,t),a=A0(e,e.pendingProps.children),a.flags|=2,e.memoizedState=null,a}function kj(a,e,t,n,i,s,o){if(t)return e.flags&256?(e.flags&=-257,n=l_(Error($(422))),Lg(a,e,o,n)):e.memoizedState!==null?(e.child=a.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=qy({mode:"visible",children:n.children},i,0,null),s=Ll(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&dc(e,a.child,null,o),e.child.memoizedState=iw(o),e.memoizedState=aw,s);if(!(e.mode&1))return Lg(a,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error($(419)),n=l_(s,n,void 0),Lg(a,e,o,n)}if(l=(o&a.childLanes)!==0,oa||l){if(n=an,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ss(a,i),Ni(n,a,i,-1))}return M0(),n=l_(Error($(421))),Lg(a,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=a.child,e=Rj.bind(null,a),i._reactRetry=e,null):(a=s.treeContext,Ia=zo(i.nextSibling),Na=e,mt=!0,Mi=null,a!==null&&(ni[ai++]=vs,ni[ai++]=ys,ni[ai++]=jl,vs=a.id,ys=a.overflow,jl=e),e=A0(e,n.children),e.flags|=4096,e)}function hS(a,e,t){a.lanes|=e;var n=a.alternate;n!==null&&(n.lanes|=e),X_(a.return,e,t)}function d_(a,e,t,n,i){var s=a.memoizedState;s===null?a.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=i)}function Z2(a,e,t){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Wn(a,e,n.children,t),n=vt.current,n&2)n=n&1|2,e.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=e.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&hS(a,t,e);else if(a.tag===19)hS(a,t,e);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}n&=1}if(rt(vt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)a=t.alternate,a!==null&&Jv(a)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),d_(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(a=i.alternate,a!==null&&Jv(a)===null){e.child=i;break}a=i.sibling,i.sibling=t,t=i,i=a}d_(e,!0,t,null,s);break;case"together":d_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ev(a,e){!(e.mode&1)&&a!==null&&(a.alternate=null,e.alternate=null,e.flags|=2)}function As(a,e,t){if(a!==null&&(e.dependencies=a.dependencies),Nl|=e.lanes,!(t&e.childLanes))return null;if(a!==null&&e.child!==a.child)throw Error($(153));if(e.child!==null){for(a=e.child,t=Vo(a,a.pendingProps),e.child=t,t.return=e;a.sibling!==null;)a=a.sibling,t=t.sibling=Vo(a,a.pendingProps),t.return=e;t.sibling=null}return e.child}function xj(a,e,t){switch(e.tag){case 3:$2(e),lc();break;case 5:k2(e);break;case 1:la(e.type)&&Kv(e);break;case 4:v0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;rt(Zv,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rt(vt,vt.current&1),e.flags|=128,null):t&e.child.childLanes?q2(a,e,t):(rt(vt,vt.current&1),a=As(a,e,t),a!==null?a.sibling:null);rt(vt,vt.current&1);break;case 19:if(n=(t&e.childLanes)!==0,a.flags&128){if(n)return Z2(a,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(vt,vt.current),n)break;return null;case 22:case 23:return e.lanes=0,Y2(a,e,t)}return As(a,e,t)}var X2,rw,Q2,J2;X2=function(a,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)a.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};rw=function(){};Q2=function(a,e,t,n){var i=a.memoizedProps;if(i!==n){a=e.stateNode,gh(xr.current);var s=null;switch(t){case"input":i=E_(a,i),n=E_(a,n),s=[];break;case"select":i=wt({},i,{value:void 0}),n=wt({},n,{value:void 0}),s=[];break;case"textarea":i=L_(a,i),n=L_(a,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(a.onclick=Gv)}j_(t,n);var o;t=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(l=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(c,t)),t=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lm.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ot("scroll",a),s||l===u||(s=[])):(s=s||[]).push(c,u))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};J2=function(a,e,t,n){t!==n&&(e.flags|=4)};function Wc(a,e){if(!mt)switch(a.tailMode){case"hidden":e=a.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?a.tail=null:t.sibling=null;break;case"collapsed":t=a.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||a.tail===null?a.tail=null:a.tail.sibling=null:n.sibling=null}}function xn(a){var e=a.alternate!==null&&a.alternate.child===a.child,t=0,n=0;if(e)for(var i=a.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=a,i=i.sibling;else for(i=a.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=a,i=i.sibling;return a.subtreeFlags|=n,a.childLanes=t,e}function Sj(a,e,t){var n=e.pendingProps;switch(d0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(e),null;case 1:return la(e.type)&&Yv(),xn(e),null;case 3:return n=e.stateNode,uc(),lt(ha),lt(Nn),b0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(a===null||a.child===null)&&(Cg(e)?e.flags|=4:a===null||a.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mi!==null&&(mw(Mi),Mi=null))),rw(a,e),xn(e),null;case 5:y0(e);var i=gh(Um.current);if(t=e.type,a!==null&&e.stateNode!=null)Q2(a,e,t,n,i),a.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error($(166));return xn(e),null}if(a=gh(xr.current),Cg(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[br]=e,n[zm]=s,a=(e.mode&1)!==0,t){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(i=0;i<Qc.length;i++)ot(Qc[i],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":v1(n,s),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ot("invalid",n);break;case"textarea":b1(n,s),ot("invalid",n)}j_(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Eg(n.textContent,l,a),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Eg(n.textContent,l,a),i=["children",""+l]):Lm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ot("scroll",n)}switch(t){case"input":bg(n),y1(n,s,!0);break;case"textarea":bg(n),_1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Gv)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=EA(t)),a==="http://www.w3.org/1999/xhtml"?t==="script"?(a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof n.is=="string"?a=o.createElement(t,{is:n.is}):(a=o.createElement(t),t==="select"&&(o=a,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):a=o.createElementNS(a,t),a[br]=e,a[zm]=n,X2(a,e,!1,!1),e.stateNode=a;e:{switch(o=I_(t,n),t){case"dialog":ot("cancel",a),ot("close",a),i=n;break;case"iframe":case"object":case"embed":ot("load",a),i=n;break;case"video":case"audio":for(i=0;i<Qc.length;i++)ot(Qc[i],a);i=n;break;case"source":ot("error",a),i=n;break;case"img":case"image":case"link":ot("error",a),ot("load",a),i=n;break;case"details":ot("toggle",a),i=n;break;case"input":v1(a,n),i=E_(a,n),ot("invalid",a);break;case"option":i=n;break;case"select":a._wrapperState={wasMultiple:!!n.multiple},i=wt({},n,{value:void 0}),ot("invalid",a);break;case"textarea":b1(a,n),i=L_(a,n),ot("invalid",a);break;default:i=n}j_(t,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?LA(a,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&CA(a,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&Mm(a,u):typeof u=="number"&&Mm(a,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lm.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ot("scroll",a):u!=null&&qk(a,s,u,o))}switch(t){case"input":bg(a),y1(a,n,!1);break;case"textarea":bg(a),_1(a);break;case"option":n.value!=null&&a.setAttribute("value",""+Go(n.value));break;case"select":a.multiple=!!n.multiple,s=n.value,s!=null?Td(a,!!n.multiple,s,!1):n.defaultValue!=null&&Td(a,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(a.onclick=Gv)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xn(e),null;case 6:if(a&&e.stateNode!=null)J2(a,e,a.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error($(166));if(t=gh(Um.current),gh(xr.current),Cg(e)){if(n=e.stateNode,t=e.memoizedProps,n[br]=e,(s=n.nodeValue!==t)&&(a=Na,a!==null))switch(a.tag){case 3:Eg(n.nodeValue,t,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Eg(n.nodeValue,t,(a.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[br]=e,e.stateNode=n}return xn(e),null;case 13:if(lt(vt),n=e.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(mt&&Ia!==null&&e.mode&1&&!(e.flags&128))v2(),lc(),e.flags|=98560,s=!1;else if(s=Cg(e),n!==null&&n.dehydrated!==null){if(a===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[br]=e}else lc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xn(e),s=!1}else Mi!==null&&(mw(Mi),Mi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(a!==null&&a.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(a===null||vt.current&1?Yt===0&&(Yt=3):M0())),e.updateQueue!==null&&(e.flags|=4),xn(e),null);case 4:return uc(),rw(a,e),a===null&&Bm(e.stateNode.containerInfo),xn(e),null;case 10:return f0(e.type._context),xn(e),null;case 17:return la(e.type)&&Yv(),xn(e),null;case 19:if(lt(vt),s=e.memoizedState,s===null)return xn(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Wc(s,!1);else{if(Yt!==0||a!==null&&a.flags&128)for(a=e.child;a!==null;){if(o=Jv(a),o!==null){for(e.flags|=128,Wc(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,a=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,a=o.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t=t.sibling;return rt(vt,vt.current&1|2),e.child}a=a.sibling}s.tail!==null&&Nt()>mc&&(e.flags|=128,n=!0,Wc(s,!1),e.lanes=4194304)}else{if(!n)if(a=Jv(o),a!==null){if(e.flags|=128,n=!0,t=a.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Wc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!mt)return xn(e),null}else 2*Nt()-s.renderingStartTime>mc&&t!==1073741824&&(e.flags|=128,n=!0,Wc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nt(),e.sibling=null,t=vt.current,rt(vt,n?t&1|2:t&1),e):(xn(e),null);case 22:case 23:return L0(),n=e.memoizedState!==null,a!==null&&a.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?La&1073741824&&(xn(e),e.subtreeFlags&6&&(e.flags|=8192)):xn(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Aj(a,e){switch(d0(e),e.tag){case 1:return la(e.type)&&Yv(),a=e.flags,a&65536?(e.flags=a&-65537|128,e):null;case 3:return uc(),lt(ha),lt(Nn),b0(),a=e.flags,a&65536&&!(a&128)?(e.flags=a&-65537|128,e):null;case 5:return y0(e),null;case 13:if(lt(vt),a=e.memoizedState,a!==null&&a.dehydrated!==null){if(e.alternate===null)throw Error($(340));lc()}return a=e.flags,a&65536?(e.flags=a&-65537|128,e):null;case 19:return lt(vt),null;case 4:return uc(),null;case 10:return f0(e.type._context),null;case 22:case 23:return L0(),null;case 24:return null;default:return null}}var Mg=!1,jn=!1,Tj=typeof WeakSet=="function"?WeakSet:Set,se=null;function bd(a,e){var t=a.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Ct(a,e,n)}else t.current=null}function sw(a,e,t){try{t()}catch(n){Ct(a,e,n)}}var lS=!1;function Ej(a,e){if(W_=Uv,a=i2(),h0(a)){if("selectionStart"in a)var t={start:a.selectionStart,end:a.selectionEnd};else e:{t=(t=a.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,l=-1,u=-1,c=0,f=0,p=a,g=null;t:for(;;){for(var b;p!==t||i!==0&&p.nodeType!==3||(l=o+i),p!==s||n!==0&&p.nodeType!==3||(u=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(b=p.firstChild)!==null;)g=p,p=b;for(;;){if(p===a)break t;if(g===t&&++c===i&&(l=o),g===s&&++f===n&&(u=o),(b=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=b}t=l===-1||u===-1?null:{start:l,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(V_={focusedElem:a,selectionRange:t},Uv=!1,se=e;se!==null;)if(e=se,a=e.child,(e.subtreeFlags&1028)!==0&&a!==null)a.return=e,se=a;else for(;se!==null;){e=se;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var x=A.memoizedProps,M=A.memoizedState,w=e.stateNode,T=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:vi(e.type,x),M);w.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(P){Ct(e,e.return,P)}if(a=e.sibling,a!==null){a.return=e.return,se=a;break}se=e.return}return A=lS,lS=!1,A}function Tm(a,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&a)===a){var s=i.destroy;i.destroy=void 0,s!==void 0&&sw(e,t,s)}i=i.next}while(i!==n)}}function Ky(a,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&a)===a){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function ow(a){var e=a.ref;if(e!==null){var t=a.stateNode;switch(a.tag){case 5:a=t;break;default:a=t}typeof e=="function"?e(a):e.current=a}}function eT(a){var e=a.alternate;e!==null&&(a.alternate=null,eT(e)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(e=a.stateNode,e!==null&&(delete e[br],delete e[zm],delete e[K_],delete e[lj],delete e[dj])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function tT(a){return a.tag===5||a.tag===3||a.tag===4}function dS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||tT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function hw(a,e,t){var n=a.tag;if(n===5||n===6)a=a.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(a,e):t.insertBefore(a,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(a,t)):(e=t,e.appendChild(a)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Gv));else if(n!==4&&(a=a.child,a!==null))for(hw(a,e,t),a=a.sibling;a!==null;)hw(a,e,t),a=a.sibling}function lw(a,e,t){var n=a.tag;if(n===5||n===6)a=a.stateNode,e?t.insertBefore(a,e):t.appendChild(a);else if(n!==4&&(a=a.child,a!==null))for(lw(a,e,t),a=a.sibling;a!==null;)lw(a,e,t),a=a.sibling}var pn=null,Li=!1;function Ns(a,e,t){for(t=t.child;t!==null;)nT(a,e,t),t=t.sibling}function nT(a,e,t){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Fy,t)}catch{}switch(t.tag){case 5:jn||bd(t,e);case 6:var n=pn,i=Li;pn=null,Ns(a,e,t),pn=n,Li=i,pn!==null&&(Li?(a=pn,t=t.stateNode,a.nodeType===8?a.parentNode.removeChild(t):a.removeChild(t)):pn.removeChild(t.stateNode));break;case 18:pn!==null&&(Li?(a=pn,t=t.stateNode,a.nodeType===8?a_(a.parentNode,t):a.nodeType===1&&a_(a,t),Rm(a)):a_(pn,t.stateNode));break;case 4:n=pn,i=Li,pn=t.stateNode.containerInfo,Li=!0,Ns(a,e,t),pn=n,Li=i;break;case 0:case 11:case 14:case 15:if(!jn&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sw(t,e,o),i=i.next}while(i!==n)}Ns(a,e,t);break;case 1:if(!jn&&(bd(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(l){Ct(t,e,l)}Ns(a,e,t);break;case 21:Ns(a,e,t);break;case 22:t.mode&1?(jn=(n=jn)||t.memoizedState!==null,Ns(a,e,t),jn=n):Ns(a,e,t);break;default:Ns(a,e,t)}}function uS(a){var e=a.updateQueue;if(e!==null){a.updateQueue=null;var t=a.stateNode;t===null&&(t=a.stateNode=new Tj),e.forEach(function(n){var i=Oj.bind(null,a,n);t.has(n)||(t.add(n),n.then(i,i))})}}function fi(a,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var s=a,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:pn=l.stateNode,Li=!1;break e;case 3:pn=l.stateNode.containerInfo,Li=!0;break e;case 4:pn=l.stateNode.containerInfo,Li=!0;break e}l=l.return}if(pn===null)throw Error($(160));nT(s,o,i),pn=null,Li=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ct(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aT(e,a),e=e.sibling}function aT(a,e){var t=a.alternate,n=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(fi(e,a),Gi(a),n&4){try{Tm(3,a,a.return),Ky(3,a)}catch(x){Ct(a,a.return,x)}try{Tm(5,a,a.return)}catch(x){Ct(a,a.return,x)}}break;case 1:fi(e,a),Gi(a),n&512&&t!==null&&bd(t,t.return);break;case 5:if(fi(e,a),Gi(a),n&512&&t!==null&&bd(t,t.return),a.flags&32){var i=a.stateNode;try{Mm(i,"")}catch(x){Ct(a,a.return,x)}}if(n&4&&(i=a.stateNode,i!=null)){var s=a.memoizedProps,o=t!==null?t.memoizedProps:s,l=a.type,u=a.updateQueue;if(a.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&AA(i,s),I_(l,o);var c=I_(l,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?LA(i,p):f==="dangerouslySetInnerHTML"?CA(i,p):f==="children"?Mm(i,p):qk(i,f,p,c)}switch(l){case"input":C_(i,s);break;case"textarea":TA(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?Td(i,!!s.multiple,b,!1):g!==!!s.multiple&&(s.defaultValue!=null?Td(i,!!s.multiple,s.defaultValue,!0):Td(i,!!s.multiple,s.multiple?[]:"",!1))}i[zm]=s}catch(x){Ct(a,a.return,x)}}break;case 6:if(fi(e,a),Gi(a),n&4){if(a.stateNode===null)throw Error($(162));i=a.stateNode,s=a.memoizedProps;try{i.nodeValue=s}catch(x){Ct(a,a.return,x)}}break;case 3:if(fi(e,a),Gi(a),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Rm(e.containerInfo)}catch(x){Ct(a,a.return,x)}break;case 4:fi(e,a),Gi(a);break;case 13:fi(e,a),Gi(a),i=a.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(C0=Nt())),n&4&&uS(a);break;case 22:if(f=t!==null&&t.memoizedState!==null,a.mode&1?(jn=(c=jn)||f,fi(e,a),jn=c):fi(e,a),Gi(a),n&8192){if(c=a.memoizedState!==null,(a.stateNode.isHidden=c)&&!f&&a.mode&1)for(se=a,f=a.child;f!==null;){for(p=se=f;se!==null;){switch(g=se,b=g.child,g.tag){case 0:case 11:case 14:case 15:Tm(4,g,g.return);break;case 1:bd(g,g.return);var A=g.stateNode;if(typeof A.componentWillUnmount=="function"){n=g,t=g.return;try{e=n,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(x){Ct(n,t,x)}}break;case 5:bd(g,g.return);break;case 22:if(g.memoizedState!==null){mS(p);continue}}b!==null?(b.return=g,se=b):mS(p)}f=f.sibling}e:for(f=null,p=a;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=PA("display",o))}catch(x){Ct(a,a.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){Ct(a,a.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===a)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fi(e,a),Gi(a),n&4&&uS(a);break;case 21:break;default:fi(e,a),Gi(a)}}function Gi(a){var e=a.flags;if(e&2){try{e:{for(var t=a.return;t!==null;){if(tT(t)){var n=t;break e}t=t.return}throw Error($(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Mm(i,""),n.flags&=-33);var s=dS(a);lw(a,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=dS(a);hw(a,l,o);break;default:throw Error($(161))}}catch(u){Ct(a,a.return,u)}a.flags&=-3}e&4096&&(a.flags&=-4097)}function Cj(a,e,t){se=a,iT(a)}function iT(a,e,t){for(var n=(a.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Mg;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||jn;l=Mg;var c=jn;if(Mg=o,(jn=u)&&!c)for(se=i;se!==null;)o=se,u=o.child,o.tag===22&&o.memoizedState!==null?fS(i):u!==null?(u.return=o,se=u):fS(i);for(;s!==null;)se=s,iT(s),s=s.sibling;se=i,Mg=l,jn=c}cS(a)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):cS(a)}}function cS(a){for(;se!==null;){var e=se;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||Ky(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!jn)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:vi(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Z1(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Z1(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Rm(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}jn||e.flags&512&&ow(e)}catch(g){Ct(e,e.return,g)}}if(e===a){se=null;break}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}}function mS(a){for(;se!==null;){var e=se;if(e===a){se=null;break}var t=e.sibling;if(t!==null){t.return=e.return,se=t;break}se=e.return}}function fS(a){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Ky(4,e)}catch(u){Ct(e,t,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){Ct(e,i,u)}}var s=e.return;try{ow(e)}catch(u){Ct(e,s,u)}break;case 5:var o=e.return;try{ow(e)}catch(u){Ct(e,o,u)}}}catch(u){Ct(e,e.return,u)}if(e===a){se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,se=l;break}se=e.return}}var Pj=Math.ceil,ny=Ls.ReactCurrentDispatcher,T0=Ls.ReactCurrentOwner,oi=Ls.ReactCurrentBatchConfig,Oe=0,an=null,Ft=null,bn=0,La=0,_d=Qo(0),Yt=0,Ym=null,Nl=0,$y=0,E0=0,Em=null,sa=null,C0=0,mc=1/0,Ir=null,ay=!1,dw=null,Uo=null,jg=!1,Oo=null,iy=0,Cm=0,uw=null,tv=-1,nv=0;function Gn(){return Oe&6?Nt():tv!==-1?tv:tv=Nt()}function Wo(a){return a.mode&1?Oe&2&&bn!==0?bn&-bn:cj.transition!==null?(nv===0&&(nv=UA()),nv):(a=Ge,a!==0||(a=window.event,a=a===void 0?16:qA(a.type)),a):1}function Ni(a,e,t,n){if(50<Cm)throw Cm=0,uw=null,Error($(185));Dp(a,t,n),(!(Oe&2)||a!==an)&&(a===an&&(!(Oe&2)&&($y|=t),Yt===4&&Fs(a,bn)),da(a,n),t===1&&Oe===0&&!(e.mode&1)&&(mc=Nt()+500,Vy&&Jo()))}function da(a,e){var t=a.callbackNode;cM(a,e);var n=Hv(a,a===an?bn:0);if(n===0)t!==null&&x1(t),a.callbackNode=null,a.callbackPriority=0;else if(e=n&-n,a.callbackPriority!==e){if(t!=null&&x1(t),e===1)a.tag===0?uj(pS.bind(null,a)):f2(pS.bind(null,a)),oj(function(){!(Oe&6)&&Jo()}),t=null;else{switch(WA(n)){case 1:t=e0;break;case 4:t=zA;break;case 16:t=zv;break;case 536870912:t=HA;break;default:t=zv}t=cT(t,rT.bind(null,a))}a.callbackPriority=e,a.callbackNode=t}}function rT(a,e){if(tv=-1,nv=0,Oe&6)throw Error($(327));var t=a.callbackNode;if(Md()&&a.callbackNode!==t)return null;var n=Hv(a,a===an?bn:0);if(n===0)return null;if(n&30||n&a.expiredLanes||e)e=ry(a,n);else{e=n;var i=Oe;Oe|=2;var s=oT();(an!==a||bn!==e)&&(Ir=null,mc=Nt()+500,Pl(a,e));do try{jj();break}catch(l){sT(a,l)}while(!0);m0(),ny.current=s,Oe=i,Ft!==null?e=0:(an=null,bn=0,e=Yt)}if(e!==0){if(e===2&&(i=B_(a),i!==0&&(n=i,e=cw(a,i))),e===1)throw t=Ym,Pl(a,0),Fs(a,n),da(a,Nt()),t;if(e===6)Fs(a,n);else{if(i=a.current.alternate,!(n&30)&&!Lj(i)&&(e=ry(a,n),e===2&&(s=B_(a),s!==0&&(n=s,e=cw(a,s))),e===1))throw t=Ym,Pl(a,0),Fs(a,n),da(a,Nt()),t;switch(a.finishedWork=i,a.finishedLanes=n,e){case 0:case 1:throw Error($(345));case 2:oh(a,sa,Ir);break;case 3:if(Fs(a,n),(n&130023424)===n&&(e=C0+500-Nt(),10<e)){if(Hv(a,0)!==0)break;if(i=a.suspendedLanes,(i&n)!==n){Gn(),a.pingedLanes|=a.suspendedLanes&i;break}a.timeoutHandle=Y_(oh.bind(null,a,sa,Ir),e);break}oh(a,sa,Ir);break;case 4:if(Fs(a,n),(n&4194240)===n)break;for(e=a.eventTimes,i=-1;0<n;){var o=31-Ii(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Pj(n/1960))-n,10<n){a.timeoutHandle=Y_(oh.bind(null,a,sa,Ir),n);break}oh(a,sa,Ir);break;case 5:oh(a,sa,Ir);break;default:throw Error($(329))}}}return da(a,Nt()),a.callbackNode===t?rT.bind(null,a):null}function cw(a,e){var t=Em;return a.current.memoizedState.isDehydrated&&(Pl(a,e).flags|=256),a=ry(a,e),a!==2&&(e=sa,sa=t,e!==null&&mw(e)),a}function mw(a){sa===null?sa=a:sa.push.apply(sa,a)}function Lj(a){for(var e=a;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],s=i.getSnapshot;i=i.value;try{if(!Ri(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===a)break;for(;e.sibling===null;){if(e.return===null||e.return===a)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(a,e){for(e&=~E0,e&=~$y,a.suspendedLanes|=e,a.pingedLanes&=~e,a=a.expirationTimes;0<e;){var t=31-Ii(e),n=1<<t;a[t]=-1,e&=~n}}function pS(a){if(Oe&6)throw Error($(327));Md();var e=Hv(a,0);if(!(e&1))return da(a,Nt()),null;var t=ry(a,e);if(a.tag!==0&&t===2){var n=B_(a);n!==0&&(e=n,t=cw(a,n))}if(t===1)throw t=Ym,Pl(a,0),Fs(a,e),da(a,Nt()),t;if(t===6)throw Error($(345));return a.finishedWork=a.current.alternate,a.finishedLanes=e,oh(a,sa,Ir),da(a,Nt()),null}function P0(a,e){var t=Oe;Oe|=1;try{return a(e)}finally{Oe=t,Oe===0&&(mc=Nt()+500,Vy&&Jo())}}function Rl(a){Oo!==null&&Oo.tag===0&&!(Oe&6)&&Md();var e=Oe;Oe|=1;var t=oi.transition,n=Ge;try{if(oi.transition=null,Ge=1,a)return a()}finally{Ge=n,oi.transition=t,Oe=e,!(Oe&6)&&Jo()}}function L0(){La=_d.current,lt(_d)}function Pl(a,e){a.finishedWork=null,a.finishedLanes=0;var t=a.timeoutHandle;if(t!==-1&&(a.timeoutHandle=-1,sj(t)),Ft!==null)for(t=Ft.return;t!==null;){var n=t;switch(d0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yv();break;case 3:uc(),lt(ha),lt(Nn),b0();break;case 5:y0(n);break;case 4:uc();break;case 13:lt(vt);break;case 19:lt(vt);break;case 10:f0(n.type._context);break;case 22:case 23:L0()}t=t.return}if(an=a,Ft=a=Vo(a.current,null),bn=La=e,Yt=0,Ym=null,E0=$y=Nl=0,sa=Em=null,ph!==null){for(e=0;e<ph.length;e++)if(t=ph[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}t.pending=n}ph=null}return a}function sT(a,e){do{var t=Ft;try{if(m0(),Qg.current=ty,ey){for(var n=bt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ey=!1}if(Il=0,nn=Gt=bt=null,Am=!1,Wm=0,T0.current=null,t===null||t.return===null){Yt=1,Ym=e,Ft=null;break}e:{var s=a,o=t.return,l=t,u=e;if(e=bn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var b=nS(o);if(b!==null){b.flags&=-257,aS(b,o,l,s,e),b.mode&1&&tS(s,c,e),e=b,u=c;var A=e.updateQueue;if(A===null){var x=new Set;x.add(u),e.updateQueue=x}else A.add(u);break e}else{if(!(e&1)){tS(s,c,e),M0();break e}u=Error($(426))}}else if(mt&&l.mode&1){var M=nS(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),aS(M,o,l,s,e),u0(cc(u,l));break e}}s=u=cc(u,l),Yt!==4&&(Yt=2),Em===null?Em=[s]:Em.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=W2(s,u,e);q1(s,w);break e;case 1:l=u;var T=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Uo===null||!Uo.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=V2(s,l,e);q1(s,P);break e}}s=s.return}while(s!==null)}lT(t)}catch(I){e=I,Ft===t&&t!==null&&(Ft=t=t.return);continue}break}while(!0)}function oT(){var a=ny.current;return ny.current=ty,a===null?ty:a}function M0(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),an===null||!(Nl&268435455)&&!($y&268435455)||Fs(an,bn)}function ry(a,e){var t=Oe;Oe|=2;var n=oT();(an!==a||bn!==e)&&(Ir=null,Pl(a,e));do try{Mj();break}catch(i){sT(a,i)}while(!0);if(m0(),Oe=t,ny.current=n,Ft!==null)throw Error($(261));return an=null,bn=0,Yt}function Mj(){for(;Ft!==null;)hT(Ft)}function jj(){for(;Ft!==null&&!aM();)hT(Ft)}function hT(a){var e=uT(a.alternate,a,La);a.memoizedProps=a.pendingProps,e===null?lT(a):Ft=e,T0.current=null}function lT(a){var e=a;do{var t=e.alternate;if(a=e.return,e.flags&32768){if(t=Aj(t,e),t!==null){t.flags&=32767,Ft=t;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Yt=6,Ft=null;return}}else if(t=Sj(t,e,La),t!==null){Ft=t;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=a}while(e!==null);Yt===0&&(Yt=5)}function oh(a,e,t){var n=Ge,i=oi.transition;try{oi.transition=null,Ge=1,Ij(a,e,t,n)}finally{oi.transition=i,Ge=n}return null}function Ij(a,e,t,n){do Md();while(Oo!==null);if(Oe&6)throw Error($(327));t=a.finishedWork;var i=a.finishedLanes;if(t===null)return null;if(a.finishedWork=null,a.finishedLanes=0,t===a.current)throw Error($(177));a.callbackNode=null,a.callbackPriority=0;var s=t.lanes|t.childLanes;if(mM(a,s),a===an&&(Ft=an=null,bn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||jg||(jg=!0,cT(zv,function(){return Md(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=oi.transition,oi.transition=null;var o=Ge;Ge=1;var l=Oe;Oe|=4,T0.current=null,Ej(a,t),aT(t,a),JM(V_),Uv=!!W_,V_=W_=null,a.current=t,Cj(t),iM(),Oe=l,Ge=o,oi.transition=s}else a.current=t;if(jg&&(jg=!1,Oo=a,iy=i),s=a.pendingLanes,s===0&&(Uo=null),oM(t.stateNode),da(a,Nt()),e!==null)for(n=a.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(ay)throw ay=!1,a=dw,dw=null,a;return iy&1&&a.tag!==0&&Md(),s=a.pendingLanes,s&1?a===uw?Cm++:(Cm=0,uw=a):Cm=0,Jo(),null}function Md(){if(Oo!==null){var a=WA(iy),e=oi.transition,t=Ge;try{if(oi.transition=null,Ge=16>a?16:a,Oo===null)var n=!1;else{if(a=Oo,Oo=null,iy=0,Oe&6)throw Error($(331));var i=Oe;for(Oe|=4,se=a.current;se!==null;){var s=se,o=s.child;if(se.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(se=c;se!==null;){var f=se;switch(f.tag){case 0:case 11:case 15:Tm(8,f,s)}var p=f.child;if(p!==null)p.return=f,se=p;else for(;se!==null;){f=se;var g=f.sibling,b=f.return;if(eT(f),f===c){se=null;break}if(g!==null){g.return=b,se=g;break}se=b}}}var A=s.alternate;if(A!==null){var x=A.child;if(x!==null){A.child=null;do{var M=x.sibling;x.sibling=null,x=M}while(x!==null)}}se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,se=o;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tm(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,se=w;break e}se=s.return}}var T=a.current;for(se=T;se!==null;){o=se;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,se=C;else e:for(o=T;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ky(9,l)}}catch(I){Ct(l,l.return,I)}if(l===o){se=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,se=P;break e}se=l.return}}if(Oe=i,Jo(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Fy,a)}catch{}n=!0}return n}finally{Ge=t,oi.transition=e}}return!1}function gS(a,e,t){e=cc(t,e),e=W2(a,e,1),a=Ho(a,e,1),e=Gn(),a!==null&&(Dp(a,1,e),da(a,e))}function Ct(a,e,t){if(a.tag===3)gS(a,a,t);else for(;e!==null;){if(e.tag===3){gS(e,a,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Uo===null||!Uo.has(n))){a=cc(t,a),a=V2(e,a,1),e=Ho(e,a,1),a=Gn(),e!==null&&(Dp(e,1,a),da(e,a));break}}e=e.return}}function Nj(a,e,t){var n=a.pingCache;n!==null&&n.delete(e),e=Gn(),a.pingedLanes|=a.suspendedLanes&t,an===a&&(bn&t)===t&&(Yt===4||Yt===3&&(bn&130023424)===bn&&500>Nt()-C0?Pl(a,0):E0|=t),da(a,e)}function dT(a,e){e===0&&(a.mode&1?(e=kg,kg<<=1,!(kg&130023424)&&(kg=4194304)):e=1);var t=Gn();a=Ss(a,e),a!==null&&(Dp(a,e,t),da(a,t))}function Rj(a){var e=a.memoizedState,t=0;e!==null&&(t=e.retryLane),dT(a,t)}function Oj(a,e){var t=0;switch(a.tag){case 13:var n=a.stateNode,i=a.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=a.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(e),dT(a,t)}var uT;uT=function(a,e,t){if(a!==null)if(a.memoizedProps!==e.pendingProps||ha.current)oa=!0;else{if(!(a.lanes&t)&&!(e.flags&128))return oa=!1,xj(a,e,t);oa=!!(a.flags&131072)}else oa=!1,mt&&e.flags&1048576&&p2(e,qv,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ev(a,e),a=e.pendingProps;var i=hc(e,Nn.current);Ld(e,t),i=w0(null,e,n,a,i,t);var s=k0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,la(n)?(s=!0,Kv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,g0(e),i.updater=Yy,e.stateNode=i,i._reactInternals=e,J_(e,n,a,t),e=nw(null,e,n,!0,s,t)):(e.tag=0,mt&&s&&l0(e),Wn(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(ev(a,e),a=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Bj(n),a=vi(n,a),i){case 0:e=tw(null,e,n,a,t);break e;case 1:e=sS(null,e,n,a,t);break e;case 11:e=iS(null,e,n,a,t);break e;case 14:e=rS(null,e,n,vi(n.type,a),t);break e}throw Error($(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),tw(a,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),sS(a,e,n,i,t);case 3:e:{if($2(e),a===null)throw Error($(387));n=e.pendingProps,s=e.memoizedState,i=s.element,w2(a,e),Qv(e,n,null,t);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cc(Error($(423)),e),e=oS(a,e,n,t,i);break e}else if(n!==i){i=cc(Error($(424)),e),e=oS(a,e,n,t,i);break e}else for(Ia=zo(e.stateNode.containerInfo.firstChild),Na=e,mt=!0,Mi=null,t=b2(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(lc(),n===i){e=As(a,e,t);break e}Wn(a,e,n,t)}e=e.child}return e;case 5:return k2(e),a===null&&Z_(e),n=e.type,i=e.pendingProps,s=a!==null?a.memoizedProps:null,o=i.children,G_(n,i)?o=null:s!==null&&G_(n,s)&&(e.flags|=32),K2(a,e),Wn(a,e,o,t),e.child;case 6:return a===null&&Z_(e),null;case 13:return q2(a,e,t);case 4:return v0(e,e.stateNode.containerInfo),n=e.pendingProps,a===null?e.child=dc(e,null,n,t):Wn(a,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),iS(a,e,n,i,t);case 7:return Wn(a,e,e.pendingProps,t),e.child;case 8:return Wn(a,e,e.pendingProps.children,t),e.child;case 12:return Wn(a,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(Zv,n._currentValue),n._currentValue=o,s!==null)if(Ri(s.value,o)){if(s.children===i.children&&!ha.current){e=As(a,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=bs(-1,t&-t),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),X_(s.return,t,e),l.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),X_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wn(a,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ld(e,t),i=li(i),n=n(i),e.flags|=1,Wn(a,e,n,t),e.child;case 14:return n=e.type,i=vi(n,e.pendingProps),i=vi(n.type,i),rS(a,e,n,i,t);case 15:return G2(a,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),ev(a,e),e.tag=1,la(n)?(a=!0,Kv(e)):a=!1,Ld(e,t),U2(e,n,i),J_(e,n,i,t),nw(null,e,n,!0,a,t);case 19:return Z2(a,e,t);case 22:return Y2(a,e,t)}throw Error($(156,e.tag))};function cT(a,e){return FA(a,e)}function Dj(a,e,t,n){this.tag=a,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(a,e,t,n){return new Dj(a,e,t,n)}function j0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Bj(a){if(typeof a=="function")return j0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Xk)return 11;if(a===Qk)return 14}return 2}function Vo(a,e){var t=a.alternate;return t===null?(t=si(a.tag,e,a.key,a.mode),t.elementType=a.elementType,t.type=a.type,t.stateNode=a.stateNode,t.alternate=a,a.alternate=t):(t.pendingProps=e,t.type=a.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=a.flags&14680064,t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,e=a.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=a.sibling,t.index=a.index,t.ref=a.ref,t}function av(a,e,t,n,i,s){var o=2;if(n=a,typeof a=="function")j0(a)&&(o=1);else if(typeof a=="string")o=5;else e:switch(a){case dd:return Ll(t.children,i,s,e);case Zk:o=8,i|=8;break;case x_:return a=si(12,t,e,i|2),a.elementType=x_,a.lanes=s,a;case S_:return a=si(13,t,e,i),a.elementType=S_,a.lanes=s,a;case A_:return a=si(19,t,e,i),a.elementType=A_,a.lanes=s,a;case kA:return qy(t,i,s,e);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case _A:o=10;break e;case wA:o=9;break e;case Xk:o=11;break e;case Qk:o=14;break e;case Os:o=16,n=null;break e}throw Error($(130,a==null?a:typeof a,""))}return e=si(o,t,e,i),e.elementType=a,e.type=n,e.lanes=s,e}function Ll(a,e,t,n){return a=si(7,a,n,e),a.lanes=t,a}function qy(a,e,t,n){return a=si(22,a,n,e),a.elementType=kA,a.lanes=t,a.stateNode={isHidden:!1},a}function u_(a,e,t){return a=si(6,a,null,e),a.lanes=t,a}function c_(a,e,t){return e=si(4,a.children!==null?a.children:[],a.key,e),e.lanes=t,e.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},e}function Fj(a,e,t,n,i){this.tag=e,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yb(0),this.expirationTimes=Yb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yb(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function I0(a,e,t,n,i,s,o,l,u){return a=new Fj(a,e,t,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=si(3,null,null,e),a.current=s,s.stateNode=a,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},g0(s),a}function zj(a,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ld,key:n==null?null:""+n,children:a,containerInfo:e,implementation:t}}function mT(a){if(!a)return Yo;a=a._reactInternals;e:{if(Fl(a)!==a||a.tag!==1)throw Error($(170));var e=a;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(la(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(a.tag===1){var t=a.type;if(la(t))return m2(a,t,e)}return e}function fT(a,e,t,n,i,s,o,l,u){return a=I0(t,n,!0,a,i,s,o,l,u),a.context=mT(null),t=a.current,n=Gn(),i=Wo(t),s=bs(n,i),s.callback=e??null,Ho(t,s,i),a.current.lanes=i,Dp(a,i,n),da(a,n),a}function Zy(a,e,t,n){var i=e.current,s=Gn(),o=Wo(i);return t=mT(t),e.context===null?e.context=t:e.pendingContext=t,e=bs(s,o),e.payload={element:a},n=n===void 0?null:n,n!==null&&(e.callback=n),a=Ho(i,e,o),a!==null&&(Ni(a,i,o,s),Xg(a,i,o)),o}function sy(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function vS(a,e){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var t=a.retryLane;a.retryLane=t!==0&&t<e?t:e}}function N0(a,e){vS(a,e),(a=a.alternate)&&vS(a,e)}function Hj(){return null}var pT=typeof reportError=="function"?reportError:function(a){console.error(a)};function R0(a){this._internalRoot=a}Xy.prototype.render=R0.prototype.render=function(a){var e=this._internalRoot;if(e===null)throw Error($(409));Zy(a,e,null,null)};Xy.prototype.unmount=R0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var e=a.containerInfo;Rl(function(){Zy(null,a,null,null)}),e[xs]=null}};function Xy(a){this._internalRoot=a}Xy.prototype.unstable_scheduleHydration=function(a){if(a){var e=YA();a={blockedOn:null,target:a,priority:e};for(var t=0;t<Bs.length&&e!==0&&e<Bs[t].priority;t++);Bs.splice(t,0,a),t===0&&$A(a)}};function O0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Qy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function yS(){}function Uj(a,e,t,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=sy(o);s.call(c)}}var o=fT(e,n,a,0,null,!1,!1,"",yS);return a._reactRootContainer=o,a[xs]=o.current,Bm(a.nodeType===8?a.parentNode:a),Rl(),o}for(;i=a.lastChild;)a.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var c=sy(u);l.call(c)}}var u=I0(a,0,!1,null,null,!1,!1,"",yS);return a._reactRootContainer=u,a[xs]=u.current,Bm(a.nodeType===8?a.parentNode:a),Rl(function(){Zy(e,u,t,n)}),u}function Jy(a,e,t,n,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=sy(o);l.call(u)}}Zy(e,o,a,i)}else o=Uj(t,e,a,i,n);return sy(o)}VA=function(a){switch(a.tag){case 3:var e=a.stateNode;if(e.current.memoizedState.isDehydrated){var t=Xc(e.pendingLanes);t!==0&&(t0(e,t|1),da(e,Nt()),!(Oe&6)&&(mc=Nt()+500,Jo()))}break;case 13:Rl(function(){var n=Ss(a,1);if(n!==null){var i=Gn();Ni(n,a,1,i)}}),N0(a,1)}};n0=function(a){if(a.tag===13){var e=Ss(a,134217728);if(e!==null){var t=Gn();Ni(e,a,134217728,t)}N0(a,134217728)}};GA=function(a){if(a.tag===13){var e=Wo(a),t=Ss(a,e);if(t!==null){var n=Gn();Ni(t,a,e,n)}N0(a,e)}};YA=function(){return Ge};KA=function(a,e){var t=Ge;try{return Ge=a,e()}finally{Ge=t}};R_=function(a,e,t){switch(e){case"input":if(C_(a,t),e=t.name,t.type==="radio"&&e!=null){for(t=a;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==a&&n.form===a.form){var i=Wy(n);if(!i)throw Error($(90));SA(n),C_(n,i)}}}break;case"textarea":TA(a,t);break;case"select":e=t.value,e!=null&&Td(a,!!t.multiple,e,!1)}};IA=P0;NA=Rl;var Wj={usingClientEntryPoint:!1,Events:[Fp,fd,Wy,MA,jA,P0]},Vc={findFiberByHostInstance:fh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vj={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=DA(a),a===null?null:a.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||Hj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ig.isDisabled&&Ig.supportsFiber)try{Fy=Ig.inject(Vj),kr=Ig}catch{}}Ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wj;Ba.createPortal=function(a,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O0(e))throw Error($(200));return zj(a,e,null,t)};Ba.createRoot=function(a,e){if(!O0(a))throw Error($(299));var t=!1,n="",i=pT;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=I0(a,1,!1,null,null,t,!1,n,i),a[xs]=e.current,Bm(a.nodeType===8?a.parentNode:a),new R0(e)};Ba.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var e=a._reactInternals;if(e===void 0)throw typeof a.render=="function"?Error($(188)):(a=Object.keys(a).join(","),Error($(268,a)));return a=DA(e),a=a===null?null:a.stateNode,a};Ba.flushSync=function(a){return Rl(a)};Ba.hydrate=function(a,e,t){if(!Qy(e))throw Error($(200));return Jy(null,a,e,!0,t)};Ba.hydrateRoot=function(a,e,t){if(!O0(a))throw Error($(405));var n=t!=null&&t.hydratedSources||null,i=!1,s="",o=pT;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=fT(e,null,a,1,t??null,i,!1,s,o),a[xs]=e.current,Bm(a),n)for(a=0;a<n.length;a++)t=n[a],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Xy(e)};Ba.render=function(a,e,t){if(!Qy(e))throw Error($(200));return Jy(null,a,e,!1,t)};Ba.unmountComponentAtNode=function(a){if(!Qy(a))throw Error($(40));return a._reactRootContainer?(Rl(function(){Jy(null,null,a,!1,function(){a._reactRootContainer=null,a[xs]=null})}),!0):!1};Ba.unstable_batchedUpdates=P0;Ba.unstable_renderSubtreeIntoContainer=function(a,e,t,n){if(!Qy(t))throw Error($(200));if(a==null||a._reactInternals===void 0)throw Error($(38));return Jy(a,e,t,!1,n)};Ba.version="18.3.1-next-f1338f8080-20240426";function gT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gT)}catch(a){console.error(a)}}gT(),gA.exports=Ba;var vT=gA.exports,bS=vT;w_.createRoot=bS.createRoot,w_.hydrateRoot=bS.hydrateRoot;const Gj=[{id:1,name:"",name_meaning:"Arjuna's Despondency",chapter_number:1,verses_count:47,summary:"On the battlefield of Kurukshetra, Arjuna faces a moral dilemma as he sees his relatives and teachers in the opposing army. Overwhelmed with grief, he lays down his weapons.",verses:[{id:1,verse_number:1,chapter_number:1,text:`  |
    |
    ||-||`,transliteration:`dhitarhtra uvcha
dharma-khetre kuru-khetre samavet yuyutsava
mmak pavhchaiva kim akurvata sajaya`,hindi_meaning:"  :  !                 ?",meaning:"Dhritarashtra said: O Sanjaya, after my sons and the sons of Pandu assembled in the place of pilgrimage at Kurukshetra, desiring to fight, what did they do?"},{id:2,verse_number:2,chapter_number:1,text:`  |
     |
   ||-||`,transliteration:`sajaya uvcha
dihv tu pavnka vyha duryodhanas tad
chryam upasagamya rj vachanam abravt`,hindi_meaning:"  :  !            ()      ",meaning:"Sanjaya said: O King, after looking at the army of the Pandavas drawn in military array, King Duryodhana went to his teacher Dronacharya and spoke the following words."},{id:3,verse_number:3,chapter_number:1,text:`    |
     ||-||`,transliteration:`pahyait pu-putrm chrya mahat chamm
vyh drupada-putrea tava hihyea dhmat`,hindi_meaning:" !      ()            ",meaning:"O my teacher, behold the great army of the sons of Pandu, so expertly arranged by your intelligent disciple, the son of Drupada."},{id:4,verse_number:4,chapter_number:1,text:`     |
    ||-||`,transliteration:`atra hr mahehvs bhmrjuna-sam yudhi
yuyudhno virah cha drupadah cha mah-ratha`,hindi_meaning:"             ; ,        ",meaning:"Here in this army are many heroic bowmen equal in fighting to Bhima and Arjuna; there are also great fighters like Yuyudhana, Virata, and Drupada."},{id:5,verse_number:5,chapter_number:1,text:`   |
   ||-||`,transliteration:`dhihaketuh chekitna khirjah cha vryavn
purujit kuntibhojah cha haibyah cha nara-pugava`,hindi_meaning:", ,  , ,      ,        ",meaning:"There are also Dhrishtaketu, Cekitana, Kasiraja, Purujit, Kuntibhoja, and Saibya, all possessing great prowess and strength."},{id:6,verse_number:6,chapter_number:1,text:`    |
     ||-||`,transliteration:`yudhmanyuh cha vikrnta uttamaujh cha vryavn
saubhadro draupadeyh cha sarva eva mah-rath`,hindi_meaning:" ,   ,              ",meaning:"There are the mighty Yudhamanyu, the very powerful Uttamaujas, the son of Subhadra and the sons of Draupadi. All these warriors are great chariot fighters."},{id:7,verse_number:7,chapter_number:1,text:`      |
      ||-||`,transliteration:`asmka tu vihih ye tn nibodha dwijottama
nyak mama sainyasya sajrtha tn bravmi te`,hindi_meaning:" !       ,              ",meaning:"But for your information, O best of the brahmanas, let me tell you about the captains who are especially qualified to lead my military force."},{id:8,verse_number:8,chapter_number:1,text:`    |
    ||-||`,transliteration:`bhavn bhhmah cha karah cha kipah cha samitijaya
ahvatthm vikarah cha saumadattis tathaiva cha`,hindi_meaning:" , , , , ,       ,       ",meaning:"There are personalities like yourself, Bhishma, Karna, Kripa, Asvatthama, Vikarna, and the son of Somadatta called Bhurisrava, who are always victorious in battle."},{id:9,verse_number:9,chapter_number:1,text:`      |
   ||-||`,transliteration:`anye cha bahava hr mad-arthe tyakta-jvit
nn-hastra-prahara sarve yuddha-vihrad`,hindi_meaning:"                            ",meaning:"There are many other heroes who are prepared to lay down their lives for my sake. All of them are well equipped with different kinds of weapons, and all are experienced in military science."},{id:10,verse_number:10,chapter_number:1,text:`    |
    ||-||`,transliteration:`aparypta tad asmka bala bhhmbhirakhitam
parypta tv idam eteh bala bhmbhirakhitam`,hindi_meaning:"      ,         ",meaning:"Our strength is immeasurable, and we are perfectly protected by Grandfather Bhishma, whereas the strength of the Pandavas, carefully protected by Bhima, is limited."},{id:11,verse_number:11,chapter_number:1,text:`    |
     ||-||`,transliteration:`ayanehu cha sarvehu yath-bhgam avasthit
bhhmam evbhirakhantu bhavanta sarva eva hi`,hindi_meaning:" !    -           ",meaning:"Now all of you must give full support to Grandfather Bhishma, as you stand at your respective strategic points of entrance into the phalanx of the army."},{id:12,verse_number:12,chapter_number:1,text:`    |
     ||-||`,transliteration:`tasya sajanayan harha kuru-viddha pitmaha
siha-nda vinadyochchai hakha dadhmau pratpavn`,hindi_meaning:"      ,    ,   ,       ,     ",meaning:"Then Bhishma, the great valiant grandsire of the Kuru dynasty, the grandfather of the fighters, blew his conchshell very loudly, making a sound like the roar of a lion, giving Duryodhana joy."},{id:13,verse_number:13,chapter_number:1,text:`    |
   ||-||`,transliteration:`tata hakhh cha bheryah cha paavnaka-gomukh
sahasaivbhyahanyanta sa habdas tumulo bhavat`,hindi_meaning:" , , ,                ",meaning:"After that, the conchshells, drums, bugles, trumpets and horns were all suddenly sounded, and the combined sound was tumultuous."},{id:14,verse_number:14,chapter_number:1,text:`     |
     ||-||`,transliteration:`tata hvetair hayair yukte mahati syandane sthitau
mdhava pavah chaiva divyau hakhau pradadhmatu`,hindi_meaning:"          ()   ()     ",meaning:"On the other side, both Lord Krishna and Arjuna, stationed on a great chariot drawn by white horses, sounded their transcendental conchshells."},{id:15,verse_number:15,chapter_number:1,text:`    |
     ||-||`,transliteration:`pchajanya hihkeho devadatta dhanajaya
paura dadhmau mah-hakha bhma-karm vikodara`,hindi_meaning:" ()  ,  ()     ()    ",meaning:"Lord Krishna blew His conchshell, called Pancajanya; Arjuna blew his, the Devadatta; and Bhima, the voracious eater and performer of Herculean tasks, blew his terrific conchshell, called Paundra."},{id:16,verse_number:16,chapter_number:1,text:`    |
   ||-||`,transliteration:`anantavijaya rj kunt-putro yudhihhira
nakula sahadevah cha sughoha-maipuhpakau`,hindi_meaning:"      -     ",meaning:"King Yudhishthira, the son of Kunti, blew his conchshell, the Anantavijaya, and Nakula and Sahadeva blew the Sughosha and Manipushpaka."},{id:17,verse_number:17,chapter_number:1,text:`     |
   ||-||`,transliteration:`khyah cha paramehvsa hikha cha mah-ratha
dhihadyumno virah cha styakih chparjita`,hindi_meaning:"  ,  , ,    ...",meaning:"That great archer the King of Kasi, the great fighter Sikhandi, Dhrishtadyumna, Virata, the unconquerable Satyaki..."},{id:18,verse_number:18,chapter_number:1,text:`    |
    ||-||`,transliteration:`drupado draupadeyh cha sarvaha pithiv-pate
saubhadrah cha mah-bhu hakhn dadhmu pithak pithak`,hindi_meaning:" ! ,            -  ",meaning:"Drupada, the sons of Draupadi, and the others, O King, such as the mighty-armed son of Subhadra, all blew their respective conchshells."},{id:19,verse_number:19,chapter_number:1,text:`     |
     ||-||`,transliteration:`sa ghoho dhrtarhr hidayni vyadrayat
nabhah cha pithiv chaiva tumulo vyanundayan`,hindi_meaning:"                      ",meaning:"The blowing of these different conchshells became uproarious. Vibrating both in the sky and on the earth, it shattered the hearts of the sons of Dhritarashtra."},{id:20,verse_number:20,chapter_number:1,text:`    |
    |
    ||-||`,transliteration:`atha vyavasthitn dihv dhrtarhrn kapi-dhwaja
pravitte hastra-sampte dhanur udyamya pava
hihkeha tad vkyam idam ha mah-pate`,hindi_meaning:"  ()         ,        ,     ",meaning:"At that time Arjuna, the son of Pandu, seated in the chariot bearing the flag of Hanuman, took up his bow and prepared to shoot his arrows. O King, after looking at the sons of Dhritarashtra drawn in military array, Arjuna then spoke to Lord Krishna these words."},{id:21,verse_number:21,chapter_number:1,text:`  |
    |
  ||-||`,transliteration:`arjuna uvcha
senayor ubhayor madhye ratha sthpaya me chyuta
yvad etn nirkhe ha yoddhu-kmn avasthitn`,hindi_meaning:"  :  !         ,             ",meaning:"Arjuna said: O infallible one, please draw my chariot between the two armies so that I may see those present here, who desire to fight, and with whom I must contend in this great trial of arms."},{id:22,verse_number:22,chapter_number:1,text:"   ||-||",transliteration:"kair may saha yoddhavyam asmin raa-samudyame",hindi_meaning:"        -          ",meaning:"Let me see those who have come here to fight, wishing to please the evil-minded son of Dhritarashtra."},{id:23,verse_number:23,chapter_number:1,text:`  |
    |
   ||-||`,transliteration:`sajaya uvcha
evam ukto hihkeho gukehena bhrata
senayor ubhayor madhye sthpayitv rathottamam`,hindi_meaning:"  :  !     ,  ()          ",meaning:"Sanjaya said: O descendant of Bharata, having been thus addressed by Arjuna, Lord Krishna drew up the fine chariot in the midst of the armies of both parties."},{id:24,verse_number:24,chapter_number:1,text:`    |
   ||-||`,transliteration:`bhhma-droa-pramukhata sarveh cha mah-khitm
uvcha prtha pahyaitn samavetn kurn iti`,hindi_meaning:"         ,  !     ,  ",meaning:"In the presence of Bhishma, Drona and all the other chieftains of the world, the Lord said, Just behold, Partha, all the Kurus assembled here."},{id:25,verse_number:25,chapter_number:1,text:`   |
 ||-||`,transliteration:`tatrpahyat sthitn prtha pitin atha pitmahn
chryn mtuln bhrtin putrn pautrn sakhs tath`,hindi_meaning:"  ()     , , , , , , ,   ",meaning:"There Arjuna could see, within the midst of the armies of both parties, his fathers, grandfathers, teachers, maternal uncles, brothers, sons, grandsons, friends..."},{id:26,verse_number:26,chapter_number:1,text:`  |
    ||-||`,transliteration:`hvahurn suhidah chaiva senayor ubhayor api
tn samkhya sa kaunteya sarvn bandhn avasthitn`,hindi_meaning:"               ()   ",meaning:"...and also his fathers-in-law and well-wishers. When the son of Kunti, Arjuna, saw all these different grades of friends and relatives, he became overwhelmed with compassion and spoke thus."},{id:27,verse_number:27,chapter_number:1,text:`   |
  |
     ||-||`,transliteration:`kipay parayviho vihdann idam abravt
arjuna uvcha
dihvema sva-jana kiha yuyutsu samupasthitam`,hindi_meaning:"    ,      :  !         ",meaning:"Arjuna said: My dear Krishna, seeing my friends and relatives present before me in such a fighting spirit, I feel the limbs of my body quivering and my mouth drying up."},{id:28,verse_number:28,chapter_number:1,text:`      |
     ||-||`,transliteration:`sdanti mama gtri mukha cha parihuhyati
vepathuh cha harre me roma-harhah cha jyate`,hindi_meaning:"     ,    ,           ",meaning:"My whole body is trembling, my hair is standing on end, my bow Gandiva is slipping from my hand, and my skin is burning."},{id:29,verse_number:29,chapter_number:1,text:`    |
       ||-||`,transliteration:`gva srasate hastt tvak chaiva paridahyate
na cha haknomy avasthtu bhramatva cha me mana`,hindi_meaning:"                       ",meaning:"I am now unable to stand here any longer. I am forgetting myself, and my mind is reeling. I see only causes of misfortune, O Krishna, killer of the Kesi demon."},{id:30,verse_number:30,chapter_number:1,text:`     |
     ||-||`,transliteration:`nimittni cha pahymi vipartni kehava
na cha hreyo nupahymi hatv sva-janam have`,hindi_meaning:" !                  ",meaning:"I do not see how any good can come from killing my own kinsmen in this battle, nor can I, my dear Krishna, desire any subsequent victory, kingdom, or happiness."},{id:31,verse_number:31,chapter_number:1,text:`         |
       ||-||`,transliteration:`na kkhe vijaya kiha na cha rjya sukhni cha
ki no rjyena govinda ki bhogair jvitena v`,hindi_meaning:" !  ,         !   ,       ?",meaning:"O Govinda, of what avail to us are a kingdom, happiness or even life itself when all those for whom we may desire them are now arrayed on this battlefield?"},{id:32,verse_number:32,chapter_number:1,text:`       |
      ||-||`,transliteration:`yehm arthe kkhita no rjya bhog sukhni cha
ta ime vasthit yuddhe prs tyaktv dhanni cha`,hindi_meaning:"   ,       ,      ,    ",meaning:"O Madhusudana, when teachers, fathers, sons, grandfathers, maternal uncles, fathers-in-law, grandsons, brothers-in-law and other relatives are ready to give up their lives and properties and are standing before me, why should I wish to kill them, even though they might otherwise kill me?"},{id:33,verse_number:33,chapter_number:1,text:`     |
     ||-||`,transliteration:`chry pitara putrs tathaiva cha pitmah
mtul hvahur pautr hyl sambandhinas tath`,hindi_meaning:" ! , , , , , , ,     ",meaning:"Teachers, fathers, sons, grandfathers, maternal uncles, fathers-in-law, grandsons, brothers-in-law and other relatives are ready to give up their lives and properties and are standing before me."},{id:34,verse_number:34,chapter_number:1,text:`    |
      ||-||`,transliteration:`etn na hantum ichchhmi ghnato pi madhusdana
api trailokya-rjyasya heto ki nu mah-kite`,hindi_meaning:" !    ,      ,        ,       ?",meaning:"O maintainer of all living entities, I am not prepared to fight with them even in exchange for the three worlds, let alone this earth. What pleasure will we derive from killing the sons of Dhritarashtra?"},{id:35,verse_number:35,chapter_number:1,text:`     |
 ||-||`,transliteration:`nihatya dhrtarhrn na k prti syj janrdana
ppam evhrayed asmn hatvaitn tatyina`,hindi_meaning:" !         ?         ?",meaning:"Sin will overcome us if we slay such aggressors. Therefore it is not proper for us to kill the sons of Dhritarashtra and our friends. What should we gain, O Krishna, husband of the goddess of fortune, and how could we be happy by killing our own kinsmen?"},{id:36,verse_number:36,chapter_number:1,text:`    |
       ||-||`,transliteration:`tasmn nrh vaya hantu dhrtarhrn sa-bndhavn
sva-jana hi katha hatv sukhina syma mdhava`,hindi_meaning:" !              ",meaning:"Therefore, it is not proper for us to kill the sons of Dhritarashtra and our friends. What should we gain, O Krishna, husband of the goddess of fortune, and how could we be happy by killing our own kinsmen?"},{id:37,verse_number:37,chapter_number:1,text:`    |
     ||-||`,transliteration:`yady apy ete na pahyanti lobhopahata-chetasa
kula-khaya-kita doha mitra-drohe cha ptakam`,hindi_meaning:" !      ,         ",meaning:"O Janardana, although these men, their hearts overtaken by greed, see no fault in killing ones family or quarreling with friends, why should we, who can see the crime in destroying a family, engage in these acts of sin?"},{id:38,verse_number:38,chapter_number:1,text:`    |
   ||-||`,transliteration:`katha na jeyam asmbhi ppd asmn nivartitum
kula-khaya-kita doha prapahyadbhir janrdana`,hindi_meaning:" !                     ",meaning:"Why should we, who can see the crime in destroying a family, engage in these acts of sin?"},{id:39,verse_number:39,chapter_number:1,text:`    |
    ||-||`,transliteration:`kula-khaye praahyanti kula-dharm santan
dharme nahe kula kitsnam adharmo bhibhavaty uta`,hindi_meaning:" !      ,         ,         ",meaning:"With the destruction of dynasty, the eternal family tradition is vanquished, and thus the rest of the family becomes involved in irreligion."},{id:40,verse_number:40,chapter_number:1,text:`   |
     ||-||`,transliteration:`adharmbhibhavt kiha praduhyanti kula-striya
strhu duhsu vrheya jyate vara-sakara`,hindi_meaning:" !        ,        ",meaning:"When irreligion is prominent in the family, O Krishna, the women of the family become polluted, and from the degradation of womanhood, O descendant of Vrishni, comes unwanted progeny."},{id:41,verse_number:41,chapter_number:1,text:`     |
    ||-||`,transliteration:`sakaro narakyaiva kula-ghnn kulasya cha
patanti pitaro hy eh lupta-piodaka-kriy`,hindi_meaning:" !     ,           ",meaning:"An increase of unwanted population certainly causes hellish life both for the family and for those who destroy the family tradition. The ancestors of such corrupt families fall down, because the performances for offering them food and water are entirely stopped."},{id:42,verse_number:42,chapter_number:1,text:`   |
    ||-||`,transliteration:`dohair etai kula-ghnn vara-sakara-krakai
utsdyante jti-dharm kula-dharmh cha hhvat`,hindi_meaning:" !         ,      ",meaning:"By the evil deeds of those who destroy the family tradition and thus give rise to unwanted children, all kinds of community projects and family welfare activities are devastated."},{id:43,verse_number:43,chapter_number:1,text:`   |
    ||-||`,transliteration:`utsanna-kula-dharm manuhy janrdana
narake niyata vso bhavatty anuhuhruma`,hindi_meaning:"  :  !   ,        -           ,     ",meaning:"O Krishna, maintainer of the people, I have heard by disciplic succession that those who destroy family traditions dwell always in hell."},{id:44,verse_number:44,chapter_number:1,text:`      |
   ||-||`,transliteration:`aho bata mahat ppa kartu vyavasit vayam
yad rjya-sukha-lobhena hantu sva-janam udyat`,hindi_meaning:" !      ?            ",meaning:"Alas, how strange it is that we are preparing to commit greatly sinful acts. Driven by the desire to enjoy royal happiness, we are intent on killing our own kinsmen."},{id:45,verse_number:45,chapter_number:1,text:`   |
     ||-||`,transliteration:`yadi mm apratkram ahastra hastra-paya
dhrtarhr rae hanyus tan me khematara bhavet`,hindi_meaning:" !      ,                ",meaning:"Better for me if the sons of Dhritarashtra, weapons in hand, were to kill me unarmed and unresisting on the battlefield."},{id:46,verse_number:46,chapter_number:1,text:`  |
    |
    ||-||`,transliteration:`sajaya uvcha
evam uktv rjuna sakhye rathopastha upvihat
visijya sa-hara chpa hoka-savigna-mnasa`,hindi_meaning:" !       ?            ",meaning:"Sanjaya said: Arjuna, having thus spoken on the battlefield, cast aside his bow and arrows and sat down on the chariot, his mind overwhelmed with grief."},{id:47,verse_number:47,chapter_number:1,text:`  
  
  `,transliteration:`o tat sad iti hrmad bhagavad gtspanihatsu
brahma vidyy yoga hstre hr kihrjuna savde
arjuna vihdayogo nma prathamo dhyya`,hindi_meaning:" !      ?            ",meaning:"Thus in the Upanishads of the glorious Bhagavad Gita, the science of the Eternal, the scripture of Yoga, the dialogue between Sri Krishna and Arjuna, ends the first discourse entitled: The Yoga of Arjuna's Dejection."}]},{id:2,name:"",name_meaning:"The Yoga of Knowledge",chapter_number:2,verses_count:72,summary:"Lord Krishna imparts wisdom to the grieving Arjuna, explaining the eternal nature of the soul, the concept of duty (dharma), and the path of selfless action (Karma Yoga).",verses:[{id:48,verse_number:1,chapter_number:2,text:`  |
   |
   ||-||`,transliteration:`sajaya uvcha
ta tath kipayviham ahru-prkulekhaam
vihdantam ida vkyam uvcha madhusdana`,hindi_meaning:"  :   ,          ,     ",meaning:"Sanjaya said: Seeing Arjuna full of compassion, his mind depressed, his eyes full of tears, Madhusudana, Krishna, spoke the following words."},{id:49,verse_number:2,chapter_number:2,text:` |
    |
 ||-||`,transliteration:`hr bhagavn uvcha
kutas tv kahmalam ida vihame samupasthitam
anrya-juham asvargyam akrti-karam arjuna`,hindi_meaning:"   :  !            ?       ,            ",meaning:"The Supreme Personality of Godhead said: My dear Arjuna, how have these impurities come upon you? They are not at all befitting a man who knows the value of life. They lead not to higher planets but to infamy."},{id:50,verse_number:3,chapter_number:2,text:`      |
    ||-||`,transliteration:`klaibya m sma gama prtha naitat tvayy upapadyate
khudra hidaya-daurbalya tyaktvottihha parantapa`,hindi_meaning:" !   ,              ,  !",meaning:"O son of Pritha, do not yield to this degrading impotence. It does not become you. Give up such petty weakness of heart and arise, O chastiser of the enemy."},{id:51,verse_number:4,chapter_number:2,text:`  |
      |
   ||-||`,transliteration:`arjuna uvcha
katha bhhmam aha sakhye droa cha madhusdana
ihubhi pratiyotsymi pjrhv arisdana`,hindi_meaning:"  :   ,          ,     ",meaning:"Arjuna said: O killer of enemies, O killer of Madhu, how can I counterattack with arrows in battle men like Bhishma and Drona, who are worthy of my worship?"},{id:52,verse_number:5,chapter_number:2,text:`  
    |
 
  ||-||`,transliteration:`gurn ahatv hi mahnubhvn
hreyo bhoktu bhaikhyam apha loke
hatvrtha-kms tu gurn ihaiva
bhujya bhogn rudhira-pradigdhn`,hindi_meaning:"   :  !            ?       ,            ",meaning:"It would be better to live in this world by begging than to live at the cost of the lives of great souls who are my teachers. Even though desiring worldly gain, they are superiors. If they are killed, everything we enjoy will be tainted with blood."},{id:53,verse_number:6,chapter_number:2,text:`   
      |
   
   ||-||`,transliteration:`na chaitad vidma kataran no garyo
yad v jayema yadi v no jayeyu
yn eva hatv na jijvihmas
te vasthit pramukhe dhrtarhr`,hindi_meaning:" !   ,              ,  !",meaning:"Nor do we know which is betterconquering them or being conquered by them. If we killed the sons of Dhritarashtra, we should not care to live. Yet they are now standing before us on the battlefield."},{id:54,verse_number:7,chapter_number:2,text:`
   |
   
     ||-||`,transliteration:`krpaya-dohopahata-svabhva
pichchhmi tv dharma-sammha-chet
yach chhreya syn nihchita brhi tan me
hihyas te ha hdhi m tv prapannam`,hindi_meaning:"  :  !  !               ?",meaning:"Now I am confused about my duty and have lost all composure because of miserly weakness. In this condition I am asking You to tell me for certain what is best for me. Now I am Your disciple, and a soul surrendered unto You. Please instruct me."},{id:55,verse_number:8,chapter_number:2,text:`   
 |
 
   ||-||`,transliteration:`na hi prapahymi mampanudyd
yach chhokam uchchhohaam indriym
avpya bhmv asapatnam iddha
rjya surm api chdhipatyam`,hindi_meaning:"     ,                   ,        ",meaning:"I can find no means to drive away this grief which is drying up my senses. I will not be able to dispel it even if I win a prosperous, unrivaled kingdom on earth with sovereignty like the demigods in heaven."},{id:56,verse_number:9,chapter_number:2,text:`  |
    |
       ||-||`,transliteration:`sajaya uvcha
evam uktv hihkeha gukeha parantapa
na yotsya iti govindam uktv th babhva ha`,hindi_meaning:"  :   ,          ,     ",meaning:"Sanjaya said: Having spoken thus, Arjuna, chastiser of enemies, told Krishna, 'Govinda, I shall not fight,' and fell silent."},{id:57,verse_number:10,chapter_number:2,text:`    |
   ||-||`,transliteration:`tam uvcha hihkeha prahasann iva bhrata
senayor ubhayor madhye vihdantam ida vacha`,hindi_meaning:"   :  !            ?       ,            ",meaning:"O descendant of Bharata, at that time Krishna, smiling, in the midst of both the armies, spoke the following words to the grief-stricken Arjuna."},{id:58,verse_number:11,chapter_number:2,text:` |
   |
   ||-||`,transliteration:`hr bhagavn uvcha
ahochyn anvahochas tva praj-vdh cha bhhase
gatsn agatsh cha nnuhochanti pait`,hindi_meaning:"   :       ,                             ",meaning:"The Supreme Personality of Godhead said: While speaking learned words, you are mourning for what is not worthy of grief. Those who are wise lament neither for the living nor for the dead."},{id:59,verse_number:12,chapter_number:2,text:`        |
       ||-||`,transliteration:`na tv evha jtu nsa na tva neme jandhip
na chaiva na bhavihyma sarve vayam ata param`,hindi_meaning:"     ,  ,    ;           ",meaning:"Never was there a time when I did not exist, nor you, nor all these kings; nor in the future shall any of us cease to be."},{id:60,verse_number:13,chapter_number:2,text:`     |
    ||-||`,transliteration:`dehino smin yath dehe kaumra yauvana jar
tath dehntara-prptir dhras tatra na muhyati`,hindi_meaning:"     () ,      ,                    ",meaning:"As the embodied soul continuously passes, in this body, from boyhood to youth to old age, the soul similarly passes into another body at death. A sober person is not bewildered by such a change."},{id:61,verse_number:14,chapter_number:2,text:`   |
  ||-||`,transliteration:`mtr-sparhs tu kaunteya htoha-sukha-dukha-d
gampyino nitys ts titikhasva bhrata`,hindi_meaning:" !      -, -  -  ,    !    ",meaning:"O son of Kunti, the nonpermanent appearance of happiness and distress, and their disappearance in due course, are like the appearance and disappearance of winter and summer seasons. They arise from sense perception, O scion of Bharata, and one must learn to tolerate them without being disturbed."},{id:62,verse_number:15,chapter_number:2,text:`      |
    ||-||`,transliteration:`ya hi na vyathayanty ete puruha puruharhabha
sama-dukha-sukha dhra so mitatvya kalpate`,hindi_meaning:" !     (-)   ,  -      ,     ",meaning:"O best among men [Arjuna], the person who is not disturbed by happiness and distress and is steady in both is certainly eligible for liberation."},{id:63,verse_number:16,chapter_number:2,text:`      |
  ||-||`,transliteration:`nsato vidyate bhvo nbhvo vidyate sata
ubhayor api diho ntas tv anayos tattva-darhibhi`,hindi_meaning:"  ,      ()         ()     ",meaning:"Those who are seers of the truth have concluded that of the nonexistent [the material body] there is no endurance and of the eternal [the soul] there is no change. This they have concluded by studying the nature of both."},{id:64,verse_number:17,chapter_number:2,text:`      |
   ||-||`,transliteration:`avinhi tu tad viddhi yena sarvam ida tatam
vinham avyayasysya na kahchit kartum arhati`,hindi_meaning:"         ,            ",meaning:"That which pervades the entire body you should know to be indestructible. No one is able to destroy that imperishable soul."},{id:65,verse_number:18,chapter_number:2,text:`     |
   ||-||`,transliteration:`antavanta ime deh nityasyokt harria
anhino prameyasya tasmd yudhyasva bhrata`,hindi_meaning:" !   ,          ;    ",meaning:"The material body of the indestructible, immeasurable and eternal living entity is sure to come to an end; therefore, fight, O descendant of Bharata."},{id:66,verse_number:19,chapter_number:2,text:`       |
        ||-||`,transliteration:`ya ena vetti hantra yah chaina manyate hatam
ubhau tau na vijnto nya hanti na hanyate`,hindi_meaning:"          ,    ;             ",meaning:"Neither he who thinks the living entity the slayer nor he who thinks it slain is in knowledge, for the self slays not nor is slain."},{id:67,verse_number:20,chapter_number:2,text:`    
      |
   
    ||-||`,transliteration:`na jyate mriyate v kadchin
nya bhtv bhavit v na bhya
ajo nitya hhvato ya puro
na hanyate hanyamne harre`,hindi_meaning:"              ,        , ,              ",meaning:"For the soul there is neither birth nor death at any time. He has not come into being, does not come into being, and will not come into being. He is unborn, eternal, ever-existing and primeval. He is not slain when the body is slain."},{id:68,verse_number:21,chapter_number:2,text:`    |
        ||-||`,transliteration:`vedvinhina nitya ya enam ajam avyayam
katha sa puruha prtha ka ghtayati hanti kam`,hindi_meaning:" !    ,       ,           ?",meaning:"O Partha, how can a person who knows that the soul is indestructible, eternal, unborn and immutable kill anyone or cause anyone to kill?"},{id:69,verse_number:22,chapter_number:2,text:`   
   |
   
    ||-||`,transliteration:`vssi jrni yath vihya
navni gihti naro pari
tath harri vihya jrny
anyni sayti navni deh`,hindi_meaning:"          ,    ()          ",meaning:"As a person puts on new garments, giving up old ones, the soul similarly accepts new material bodies, giving up the old and useless ones."},{id:70,verse_number:23,chapter_number:2,text:`      |
      ||-||`,transliteration:`naina chhindanti hastri naina dahati pvaka
na chaina kledayanty po na hohayati mruta`,hindi_meaning:"      ,    ,          ",meaning:"The soul can never be cut to pieces by any weapon, nor burned by fire, nor moistened by water, nor withered by the wind."},{id:71,verse_number:24,chapter_number:2,text:`   |
    ||-||`,transliteration:`achchhedyo yam adhyo yam akledyo hohya eva cha
nitya sarva-gata sthur achalo ya santana`,hindi_meaning:" , ,      , , ,    ",meaning:"This individual soul is unbreakable and insoluble, and can be neither burned nor dried. He is everlasting, present everywhere, unchangeable, immovable and eternally the same."},{id:72,verse_number:25,chapter_number:2,text:` |
   ||-||`,transliteration:`avyakto yam achintyo yam avikryo yam uchyate
tasmd eva viditvaina nnuhochitum arhasi`,hindi_meaning:" ,                ",meaning:"It is said that the soul is invisible, inconceivable and immutable. Knowing this, you should not grieve for the body."},{id:73,verse_number:26,chapter_number:2,text:`       |
     ||-||`,transliteration:`atha chaina nitya-jta nitya v manyase mitam
tathpi tva mah-bho naina hochitum arhasi`,hindi_meaning:" !             ,         ",meaning:"If, however, you think that the soul [or the symptoms of life] is always born and dies forever, you still have no reason to lament, O mighty-armed."},{id:74,verse_number:27,chapter_number:2,text:`       |
   h ||-||`,transliteration:`jtasya hi dhruvo mityur dhruva janma mitasya cha
tasmd aparihrye rthe na tva hochitum arhasi`,hindi_meaning:"                       ",meaning:"One who has taken his birth is sure to die, and after death one is sure to take birth again. Therefore, in the unavoidable discharge of your duty, you should not lament."},{id:75,verse_number:28,chapter_number:2,text:`    |
    ||-||`,transliteration:`avyaktdni bhtni vyakta-madhyni bhrata
avyakta-nidhanny eva tatra k paridevan`,hindi_meaning:" !     ,              ?",meaning:"All created beings are unmanifest in their beginning, manifest in their interim state, and unmanifest again when annihilated. So what need is there for lamentation?"},{id:76,verse_number:29,chapter_number:2,text:` 
   |
 
     ||-||`,transliteration:`hcharya-vat pahyati kahchid enam
hcharya-vad vadati tathaiva chnya
hcharya-vach chainam anya hioti
hrutvpy ena veda na chaiva kahchit`,hindi_meaning:"      ,      ,             ",meaning:"Some look on the soul as amazing, some describe him as amazing, and some hear of him as amazing, while others, even after hearing about him, cannot understand him at all."},{id:77,verse_number:30,chapter_number:2,text:`     |
     ||-||`,transliteration:`deh nityam avadhyo ya dehe sarvasya bhrata
tasmt sarvi bhtni na tva hochitum arhasi`,hindi_meaning:" !                     ",meaning:"O descendant of Bharata, he who dwells in the body can never be slain. Therefore you need not grieve for any living being."},{id:78,verse_number:31,chapter_number:2,text:`    |
    ||-||`,transliteration:`sva-dharmam api chvekhya na vikampitum arhasi
dharmyd dhi yuddhch chhreyo nyat khatriyasya na vidyate`,hindi_meaning:" !           ;            ",meaning:"Considering your specific duty as a kshatriya, you should know that there is no better engagement for you than fighting on religious principles; and so there is no need for hesitation."},{id:79,verse_number:32,chapter_number:2,text:`   |
     ||-||`,transliteration:`yadichchhay chopapanna svarga-dvram apvitam
sukhina khatriy prtha labhante yuddham diham`,hindi_meaning:" !         ,               ",meaning:"O Partha, happy are the kshatriyas to whom such fighting opportunities come unsought, opening for them the doors of the heavenly planets."},{id:80,verse_number:33,chapter_number:2,text:`      |
      ||-||`,transliteration:`atha chet tvam ima dharmya sagrma na karihyasi
tata sva-dharma krti cha hitv ppam avpsyasi`,hindi_meaning:"      ,           ",meaning:"If, however, you do not perform your religious duty of fighting, then you will certainly incur sins for neglecting your duties and thus lose your reputation as a fighter."},{id:81,verse_number:34,chapter_number:2,text:`     |
  ||-||`,transliteration:`akrti chpi bhtni kathayihyanti te vyaym
sambhvitasya chkrtir marad atirichyate`,hindi_meaning:"             ,     ",meaning:"People will always speak of your infamy, and for a respectable person, dishonor is worse than death."},{id:82,verse_number:35,chapter_number:2,text:`    |
       ||-||`,transliteration:`bhayd rad uparata masyante tv mah-rath
yeh cha tva bahu-mato bhtv ysyasi lghavam`,hindi_meaning:"             ",meaning:"The great generals who have held your name and fame in high esteem will think that you have left the battlefield out of fear only, and thus they will consider you insignificant."},{id:83,verse_number:36,chapter_number:2,text:`   |
      ||-||`,transliteration:`avchya-vdh cha bahn vadihyanti tavhit
nindantas tava smarthya tato dukhatara nu kim`,hindi_meaning:"                      ?",meaning:"Your enemies will describe you in many unkind words and scorn your ability. What could be more painful for you?"},{id:84,verse_number:37,chapter_number:2,text:`        |
    ||-||`,transliteration:`hato v prpsyasi svarga jitv v bhokhyase mahm
tasmd uttihha kaunteya yuddhya kita-nihchaya`,hindi_meaning:" !    ,     ;   ,           ",meaning:"O son of Kunti, either you will be killed on the battlefield and attain the heavenly planets, or you will conquer and enjoy the earthly kingdom. Therefore, get up with determination and fight."},{id:85,verse_number:38,chapter_number:2,text:`     |
     ||-||`,transliteration:`sukha-dukhe same kitv lbhlbhau jayjayau
tato yuddhya yujyasva naiva ppam avpsyasi`,hindi_meaning:"-, -, -                 ",meaning:"Do thou fight for the sake of fighting, without considering happiness or distress, loss or gain, victory or defeatand by so doing you shall never incur sin."},{id:86,verse_number:39,chapter_number:2,text:`      |
      ||-||`,transliteration:`eh te bhihit skhye buddhir yoge tv im hiu
buddhy yukto yay prtha karma-bandha prahsyasi`,hindi_meaning:" !       ()     ,        ",meaning:"Thus far I have described this knowledge to you through analytical study. Now listen as I explain it in terms of working without fruitive results. O son of Pritha, when you act in such knowledge you can free yourself from the bondage of works."},{id:87,verse_number:40,chapter_number:2,text:`    |
     ||-||`,transliteration:`nehbhikrama-nho sti pratyavyo na vidyate
sv-alpam apy asya dharmasya tryate mahato bhayt`,hindi_meaning:"            ,         ",meaning:"In this endeavor there is no loss or diminution, and a little advancement on this path can protect one from the most dangerous type of fear."},{id:88,verse_number:41,chapter_number:2,text:`   |
   ||-||`,transliteration:`vyavasytmik buddhir ekeha kuru-nandana
bahu-hkh hy ananth cha buddhayo vyavasyinm`,hindi_meaning:" !        ,          ",meaning:"Those who are on this path are resolute in purpose, and their aim is one. O beloved child of the Kurus, the intelligence of those who are irresolute is many-branched."},{id:89,verse_number:42,chapter_number:2,text:`    |
    ||-||`,transliteration:`ym im puhpit vcha pravadanty avipahchita
veda-vda-rat prtha nnyad astti vdina`,hindi_meaning:" !                 ,     ",meaning:"Men of small knowledge are very much attached to the flowery words of the Vedas, which recommend various fruitive activities for elevation to heavenly planets, resultant good birth, power, and so forth."},{id:90,verse_number:43,chapter_number:2,text:`   |
   ||-||`,transliteration:`kmtmna svarga-par janma-karma-phala-pradm
kriy-viheha-bahul bhogaihvarya-gati prati`,hindi_meaning:"       ,     ,  -      ",meaning:"Being desirous of sense gratification and opulent life, they say that there is nothing more than this."},{id:91,verse_number:44,chapter_number:2,text:`  |
     ||-||`,transliteration:`bhogaihvarya-prasaktn taypahita-chetasm
vyavasytmik buddhi samdhau na vidhyate`,hindi_meaning:"         ,     ",meaning:"In the minds of those who are too attached to sense enjoyment and material opulence, and who are bewildered by such things, the resolute determination for devotional service to the Supreme Lord does not take place."},{id:92,verse_number:45,chapter_number:2,text:`    |
    ||-||`,transliteration:`trai-guya-vihay ved nistrai-guyo bhavrjuna
nirdvandvo nitya-sattva-stho niryoga-khema tmavn`,hindi_meaning:"   (, , )      !        ,     ,        -   ",meaning:"The Vedas deal mainly with the subject of the three modes of material nature. O Arjuna, become transcendental to these three modes. Be free from all dualities and from all anxieties for gain and safety, and be established in the self."},{id:93,verse_number:46,chapter_number:2,text:`    |
    ||-||`,transliteration:`yvn artha udapne sarvata samplutodake
tvn sarvehu vedehu brhmaasya vijnata`,hindi_meaning:"         ,               ",meaning:"All purposes served by a small well can at once be served by a great reservoir of water. Similarly, all the purposes of the Vedas can be served to one who knows the purpose behind them."},{id:94,verse_number:47,chapter_number:2,text:`    |
    ||-||`,transliteration:`karmay-evdhikras te m phalehu kadchana
m karma-phala-hetur bhr m te sago stvakarmai`,hindi_meaning:"      ,                     ",meaning:"You have a right to perform your prescribed duty, but you are not entitled to the fruits of action. Never consider yourself the cause of the results of your activities, and never be attached to not doing your duty."},{id:95,verse_number:48,chapter_number:2,text:`      |
      ||-||`,transliteration:`yoga-stha kuru karmi saga tyaktv dhanajaya
siddhy-asiddhyo samo bhtv samatva yoga uchyate`,hindi_meaning:" !      , -         ",meaning:"Perform your duty equipoised, O Arjuna, abandoning all attachment to success or failure. Such equanimity is called yoga."},{id:96,verse_number:49,chapter_number:2,text:`    |
    ||-||`,transliteration:`drea hy avara karma buddhi-yogd dhanajaya
buddhau haraam anvichchha kipa phala-hetava`,hindi_meaning:" !          ()       ,        ",meaning:"O Dhananjaya, keep all abominable activities far distant by devotional service, and in that consciousness surrender unto the Lord. Those who want to enjoy the fruits of their work are misers."},{id:97,verse_number:50,chapter_number:2,text:`    |
     ||-||`,transliteration:`buddhi-yukto jahtha ubhe sukita-duhkite
tasmd yogya yujyasva yoga karmasu kauhalam`,hindi_meaning:"     ,                    ",meaning:"A man engaged in devotional service rids himself of both good and bad actions even in this life. Therefore strive for yoga, which is the art of all work."},{id:98,verse_number:51,chapter_number:2,text:`      |
   ||-||`,transliteration:`karma-ja buddhi-yukt hi phala tyaktv manhia
janma-bandha-vinirmukt pada gachchhanty anmayam`,hindi_meaning:"                       ,    ",meaning:"By thus engaging in devotional service to the Lord, great sages or devotees free themselves from the results of work in the material world. In this way they become free from the cycle of birth and death and attain the state beyond all miseries [by going back to Godhead]."},{id:99,verse_number:52,chapter_number:2,text:`    |
      ||-||`,transliteration:`yad te moha-kalila buddhir vyatitarihyati
tad gantsi nirveda hrotavyasya hrutasya cha`,hindi_meaning:"       ,           ",meaning:"When your intelligence has passed out of the dense forest of delusion, you shall become indifferent to all that has been heard and all that is to be heard."},{id:100,verse_number:53,chapter_number:2,text:`     |
   ||-||`,transliteration:`hruti-vipratipann te yad sthsyati nihchal
samdhv achal buddhis tad yogam avpsyasi`,hindi_meaning:" !                 ,      ",meaning:"When your mind is no longer disturbed by the flowery language of the Vedas, and when it remains fixed in the trance of self-realization, then you will have attained the divine consciousness."},{id:101,verse_number:54,chapter_number:2,text:`  |
     |
      ||-||`,transliteration:`arjuna uvcha
sthita-prajasya k bhh samdhi-sthasya kehava
sthita-dh ki prabhheta kim sta vrajeta kim`,hindi_meaning:"  :  !      ,    ,    ?    ,       ?",meaning:"Arjuna said: O Krishna, what are the symptoms of one whose consciousness is thus merged in transcendence? How does he speak, and what is his language? How does he sit, and how does he walk?"},{id:102,verse_number:55,chapter_number:2,text:` |
    |
   ||-||`,transliteration:`hr bhagavn uvcha
prajahti yad kmn sarvn prtha mano-gatn
tmany evtman tuha sthita-prajas tadochyate`,hindi_meaning:"   :  !               ,     ",meaning:"The Supreme Personality of Godhead said: O Partha, when a man gives up all varieties of desire for sense gratification, which arise from mental concoction, and when his mind, thus purified, finds satisfaction in the self alone, then he is said to be in pure transcendental consciousness."},{id:103,verse_number:56,chapter_number:2,text:`   |
  ||-||`,transliteration:`dukhehv anudvigna-man sukhehu vigata-spiha
vta-rga-bhaya-krodha sthita-dhr munir uchyate`,hindi_meaning:"     ,     ,  ,      ,    ",meaning:"One who is not disturbed in mind even amidst the threefold miseries or elated when there is happiness, and who is free from attachment, fear and anger, is called a sage of steady mind."},{id:104,verse_number:57,chapter_number:2,text:`   |
      ||-||`,transliteration:`ya sarvatrn abhisnehas tat tat prpya hubhhubham
nbhinandati na dvehi tasya praj pratihhit`,hindi_meaning:"      , -    ,     ",meaning:"In the material world, one who is unaffected by whatever good or evil he may obtain, neither praising it nor despising it, is firmly fixed in perfect knowledge."},{id:105,verse_number:58,chapter_number:2,text:`     |
   ||-||`,transliteration:`yad saharate chya krmo gnva sarvaha
indriyndriyrthebyas tasya praj pratihhit`,hindi_meaning:"     -  ,         ,    ",meaning:"One who is able to withdraw his senses from sense objects, as the tortoise draws its limbs within the shell, is firmly fixed in perfect consciousness."},{id:106,verse_number:59,chapter_number:2,text:`    |
     ||-||`,transliteration:`vihay vinivartante nirhrasya dehina
rasa-varja raso py asya para dihv nivartate`,hindi_meaning:"-         ,                 ",meaning:"Though the embodied soul may be restricted from sense enjoyment, the taste for sense objects remains. But, ceasing such engagements by experiencing a higher taste, he is fixed in consciousness."},{id:107,verse_number:60,chapter_number:2,text:`     |
     ||-||`,transliteration:`yatato hy api kaunteya puruhasya vipahchita
indriyi pramthni haranti prasabha mana`,hindi_meaning:" !             ",meaning:"The senses are so strong and impetuous, O Arjuna, that they forcibly carry away the mind even of a man of discrimination who is endeavoring to control them."},{id:108,verse_number:61,chapter_number:2,text:`      |
      ||-||`,transliteration:`tni sarvi sayamya yukta sta mat-para
vahe hi yasyendriyi tasya praj pratihhit`,hindi_meaning:" !            ,    ",meaning:"One who restrains his senses, keeping them under full control, and fixes his consciousness upon Me, is known as a man of steady intelligence."},{id:109,verse_number:62,chapter_number:2,text:`   |
   ||-||`,transliteration:`dhyyato vihayn pusa sagas tehpajyate
sagt sajyate kma kmt krodho bhijyate`,hindi_meaning:" !       ,                    ",meaning:"While contemplating the objects of the senses, a person develops attachment for them, and from such attachment lust develops, and from lust anger arises."},{id:110,verse_number:63,chapter_number:2,text:`   |
  ||-||`,transliteration:`krodhd bhavati sammoha sammoht smiti-vibhrama
smiti-bhrahd buddhi-nho buddhi-nht praahyati`,hindi_meaning:"     ,      ,                      ",meaning:"From anger, complete delusion arises, and from delusion bewilderment of memory. When memory is bewildered, intelligence is lost, and when intelligence is lost one falls down again into the material pool."},{id:111,verse_number:64,chapter_number:2,text:`  |
  ||-||`,transliteration:`rga-dveha-vimuktais tu vihayn indriyaih charan
tma-vahyair vidheytm prasdam adhigachchhati`,hindi_meaning:"       , -   ,      ,     ",meaning:"But a person free from all attachment and aversion and able to control his senses through regulative principles of freedom can obtain the complete mercy of the Lord."},{id:112,verse_number:65,chapter_number:2,text:`   |
    ||-||`,transliteration:`prasde sarva-dukhn hnir asyopajyate
prasanna-chetaso hy hu buddhi paryavatihhate`,hindi_meaning:"                     ",meaning:"For one thus satisfied [in Krishna consciousness], the threefold miseries of material existence exist no longer; in such satisfied consciousness, ones intelligence is soon well established."},{id:113,verse_number:66,chapter_number:2,text:`     |
     ||-||`,transliteration:`nsti buddhir ayuktasya na chyuktasya bhvan
na chbhvayata hntir ahntasya kuta sukham`,hindi_meaning:"      ,                       ?",meaning:"One who is not connected with the Supreme [in Krishna consciousness] can have neither transcendental intelligence nor a steady mind, without which there is no possibility of peace. And how can there be any happiness without peace?"},{id:114,verse_number:67,chapter_number:2,text:`    |
    ||-||`,transliteration:`indriy hi charat yan mano nuvidhyate
tad asya harati praj vyur nvam ivmbhasi`,hindi_meaning:"   ,          -  ,        ",meaning:"As a strong wind sweeps away a boat on the water, even one of the roaming senses on which the mind focuses can carry away a mans intelligence."},{id:115,verse_number:68,chapter_number:2,text:`    |
   ||-||`,transliteration:`tasmd yasya mah-bho nigihtni sarvaha
indriyndriyrthebyas tasya praj pratihhit`,hindi_meaning:" !       -     ,    ",meaning:"Therefore, O mighty-armed Arjuna, one whose senses are restrained from their objects is certainly of steady intelligence."},{id:116,verse_number:69,chapter_number:2,text:`      |
       ||-||`,transliteration:`y nih sarva-bhtn tasy jgarti sayam
yasy jgrati bhtni s nih pahyato mune`,hindi_meaning:"      ,               ,       ",meaning:"What is night for all beings is the time of awakening for the self-controlled; and the time of awakening for all beings is night for the introspective sage."},{id:117,verse_number:70,chapter_number:2,text:`
   |
   
    ||-||`,transliteration:`pryamam achala-pratihha
samudram pa pravihanti yadvat
tadvat km ya pravihanti sarve
sa hntim pnoti na kma-km`,hindi_meaning:"       -   ,            ,     ",meaning:"A person who is not disturbed by the incessant flow of desiresthat enter like rivers into the ocean, which is ever being filled but is always stillcan alone achieve peace, and not the man who strives to satisfy such desires."},{id:118,verse_number:71,chapter_number:2,text:`    |
    ||-||`,transliteration:`vihya kmn ya sarvn pumnh charati nispiha
nirmamo nirahakra sa hntim adhigachchhati`,hindi_meaning:" !      ,      ,     ",meaning:"A person who has given up all desires for sense gratification, who lives free from desires, who has given up all sense of proprietorship and is devoid of false egohe alone can attain real peace."},{id:119,verse_number:72,chapter_number:2,text:`       |
  ||-||`,transliteration:`eh brhm sthiti prtha nain prpya vimuhyati
sthitvsym anta-kle pi brahma-nirvam ichchhati`,hindi_meaning:" !                 ,    ,  -    ",meaning:"That is the way of the spiritual and godly life, after attaining which a man is not bewildered. If one is thus situated even at the hour of death, one can enter into the kingdom of God."}]},{id:3,name:"",name_meaning:"The Yoga of Action",chapter_number:3,verses_count:43,summary:"Krishna elaborates on Karma Yoga, the path of selfless action. He emphasizes that performing one's duties without attachment to the results is the key to spiritual progress and liberation.",verses:[{id:120,verse_number:1,chapter_number:3,text:`  |
    |
      ||-||`,transliteration:`arjuna uvcha
jyyas chet karmaas te mat buddhir janrdana
tat ki karmai ghore m niyojayasi kehava`,hindi_meaning:"   :       ,                             ",meaning:"Arjuna said: O Janardana, O Kesava, why do You want to engage me in this ghastly warfare, if You think that intelligence is better than fruitive work?"},{id:121,verse_number:2,chapter_number:3,text:`     |
     ||-||`,transliteration:`vymihreeva vkyena buddhi mohayasva me
tad eka vada nihchitya yena hreyo ham pnuym`,hindi_meaning:"     ,  ,    ;           ",meaning:"My intelligence is bewildered by Your equivocal instructions. Therefore, please tell me decisively which will be most beneficial for me."},{id:122,verse_number:3,chapter_number:3,text:` |
     |
    ||-||`,transliteration:`hr bhagavn uvcha
loke smin dvi-vidh nihh pur prokt maynagha
jna-yogena skhyn karma-yogena yoginm`,hindi_meaning:"     () ,      ,                    ",meaning:"The Supreme Personality of Godhead said: O sinless Arjuna, I have already explained that there are two classes of men who try to realize the self. Some are inclined to understand it by empirical, philosophical speculation, and others by devotional service."},{id:123,verse_number:4,chapter_number:3,text:`   |
     ||-||`,transliteration:`na karmam anrambhn naihkarmya puruho hnute
na cha sannyasand eva siddhi samadhigachchhati`,hindi_meaning:" !      -, -  -  ,    !    ",meaning:"Not by merely abstaining from work can one achieve freedom from reaction, nor by renunciation alone can one attain perfection."},{id:124,verse_number:5,chapter_number:3,text:`     |
     ||-||`,transliteration:`na hi kahchit khaam api jtu tihhaty akarma-kit
kryate hy avaha karma sarva prakiti-jair guai`,hindi_meaning:" !     (-)   ,  -      ,     ",meaning:"Everyone is forced to act helplessly according to the qualities he has acquired from the modes of material nature; therefore no one can refrain from doing something, not even for a moment."},{id:125,verse_number:6,chapter_number:3,text:`      |
    ||-||`,transliteration:`karmendriyi sayamya ya ste manas smaran
indriyrthn vimhtm mithychra sa uchyate`,hindi_meaning:"  ,      ()         ()     ",meaning:"One who restrains the senses of action but whose mind dwells on sense objects certainly deludes himself and is called a pretender."},{id:126,verse_number:7,chapter_number:3,text:`   |
    ||-||`,transliteration:`yas tv indriyi manas niyamyrabhate rjuna
karmendriyai karma-yogam asakta sa vihihyate`,hindi_meaning:"         ,            ",meaning:"On the other hand, if a sincere person tries to control the active senses by the mind and begins karma-yoga [in Krishna consciousness] without attachment, he is by far superior."},{id:127,verse_number:8,chapter_number:3,text:`       |
     ||-||`,transliteration:`niyata kuru karma tva karma jyyo hy akarmaa
harra-ytrpi cha te na prasiddhyed akarmaa`,hindi_meaning:" !   ,          ;    ",meaning:"Perform your prescribed duty, for doing so is better than not working. One cannot even maintain ones physical body without work."},{id:128,verse_number:9,chapter_number:3,text:`   |
     ||-||`,transliteration:`yajrtht karmao nyatra loko ya karma-bandhana
tad-artha karma kaunteya mukta-saga samchara`,hindi_meaning:"          ,    ;             ",meaning:"Work done as a sacrifice for Vishnu has to be performed; otherwise work causes bondage in this material world. Therefore, O son of Kunti, perform your prescribed duties for His satisfaction, and in that way you will always remain free from bondage."},{id:129,verse_number:10,chapter_number:3,text:`     |
   ||-||`,transliteration:`saha-yaj praj sihv purovcha prajpati
anena prasavihyadhvam eha vo stv iha-kma-dhuk`,hindi_meaning:"              ,        , ,              ",meaning:"In the beginning of creation, the Lord of all creatures sent forth generations of men and demigods, along with sacrifices for Vishnu, and blessed them by saying, Be thou happy by this yajna [sacrifice] because its performance will bestow upon you everything desirable for living happily and achieving liberation."},{id:130,verse_number:11,chapter_number:3,text:`     |
    ||-||`,transliteration:`devn bhvayatnena te dev bhvayantu va
paraspara bhvayanta hreya param avpsyatha`,hindi_meaning:" !    ,       ,           ?",meaning:"The demigods, being pleased by sacrifices, will also please you, and thus, by cooperation between men and demigods, prosperity will reign for all."},{id:131,verse_number:12,chapter_number:3,text:`     |
      ||-||`,transliteration:`ihn bhogn hi vo dev dsyante yaja-bhvit
tair dattn apradyaibhyo yo bhukte stena eva sa`,hindi_meaning:"          ,    ()          ",meaning:"In charge of the various necessities of life, the demigods, being satisfied by the performance of yajna [sacrifice], will supply all necessities to you. But he who enjoys such gifts without offering them to the demigods in return is certainly a thief."},{id:132,verse_number:13,chapter_number:3,text:`    |
      ||-||`,transliteration:`yaja-hihhina santo muchyante sarva-kilbihai
bhujate te tv agha pp ye pachanty tma-krat`,hindi_meaning:"      ,    ,          ",meaning:"The devotees of the Lord are released from all kinds of sins because they eat food which is offered first for sacrifice. Others, who prepare food for personal sense enjoyment, verily eat only sin."},{id:133,verse_number:14,chapter_number:3,text:`   |
    ||-||`,transliteration:`annd bhavanti bhtni parjanyd anna-sambhava
yajd bhavati parjanyo yaja karma-samudbhava`,hindi_meaning:" , ,      , , ,    ",meaning:"All living bodies subsist on food grains, which are produced from rains. Rains are produced by performance of yajna [sacrifice], and yajna is born of prescribed duties."},{id:134,verse_number:15,chapter_number:3,text:`    |
     ||-||`,transliteration:`karma brahmodbhava viddhi brahmkhara-samudbhavam
tasmt sarva-gata brahma nitya yaje pratihhitam`,hindi_meaning:" ,                ",meaning:"Regulated activities are prescribed in the Vedas, and the Vedas are directly manifested from the Supreme Personality of Godhead. Consequently the all-pervading Transcendence is eternally situated in acts of sacrifice."},{id:135,verse_number:16,chapter_number:3,text:`     |
     ||-||`,transliteration:`eva pravartita chakra nnuvartayatha ya
aghyur indriyrmo mogha prtha sa jvati`,hindi_meaning:" !             ,         ",meaning:"My dear Arjuna, one who does not follow in human life the cycle of sacrifice thus established by the Vedas certainly leads a life full of sin. Living only for the satisfaction of the senses, such a person lives in vain."},{id:136,verse_number:17,chapter_number:3,text:`   |
      ||-||`,transliteration:`yas tv tma-ratir eva syd tma-tiptah cha mnava
tmany eva cha santuhas tasya krya na vidyate`,hindi_meaning:"                       ",meaning:"But for one who takes pleasure in the self, whose human life is one of self-realization, and who is satisfied in the self only, fully satiatedfor him there is no duty."},{id:137,verse_number:18,chapter_number:3,text:`     |
    ||-||`,transliteration:`naiva tasya kitenrtho nkiteneha kahchana
na chsya sarva-bhtehu kahchid artha-vyaphraya`,hindi_meaning:" !     ,              ?",meaning:"A self-realized man has no purpose to fulfill in the discharge of his prescribed duties, nor has he any reason not to perform such work. Nor has he any need to depend on any other living being."},{id:138,verse_number:19,chapter_number:3,text:`     |
    ||-||`,transliteration:`tasmd asakta satata krya karma samchara
asakto hy charan karma param pnoti pruha`,hindi_meaning:"      ,      ,             ",meaning:"Therefore, without being attached to the fruits of activities, one should act as a matter of duty, for by working without attachment one attains the Supreme."},{id:139,verse_number:20,chapter_number:3,text:`    |
  ||-||`,transliteration:`karmaaiva hi sasiddhim sthit janakdaya
loka-sagraham evpi sampahyan kartum arhasi`,hindi_meaning:" !                     ",meaning:"Kings such as Janaka attained perfection solely by performance of prescribed duties. Therefore, just for the sake of educating the people in general, you should perform your work."},{id:140,verse_number:21,chapter_number:3,text:`   |
    ||-||`,transliteration:`yad yad charati hrehhas tat tad evetaro jana
sa yat prama kurute lokas tad anuvartate`,hindi_meaning:" !           ;            ",meaning:"Whatever action a great man performs, common men follow. And whatever standards he sets by exemplary acts, all the world pursues."},{id:141,verse_number:22,chapter_number:3,text:`       |
     ||-||`,transliteration:`na me prthsti kartavya trihu lokehu kichana
nnavptam avptavya varta eva cha karmai`,hindi_meaning:" !         ,               ",meaning:"O son of Pritha, there is no work prescribed for Me within all the three planetary systems. Nor am I in want of anything, nor have I a need to obtain anythingand yet I am engaged in prescribed duties."},{id:142,verse_number:23,chapter_number:3,text:`      |
     ||-||`,transliteration:`yadi hy aha na varteya jtu karmay atandrita
mama vartmnuvartante manuhy prtha sarvaha`,hindi_meaning:"      ,           ",meaning:"For if I ever failed to engage in carefully performing prescribed duties, O Partha, certainly all men would follow My path."},{id:143,verse_number:24,chapter_number:3,text:`      |
     ||-||`,transliteration:`utsdeyur ime lok na kury karma ched aham
sakarasya cha kart sym upahanym im praj`,hindi_meaning:"             ,     ",meaning:"If I did not perform prescribed duties, all these worlds would be put to ruination. I would be the cause of creating unwanted population, and I would thereby destroy the peace of all living beings."},{id:144,verse_number:25,chapter_number:3,text:`     |
 ||-||`,transliteration:`sakt karmay avidvso yath kurvanti bhrata
kuryd vidvs tathsaktah chikrhur loka-sagraham`,hindi_meaning:"             ",meaning:"As the ignorant perform their duties with attachment to results, the learned may similarly act, but without attachment, for the sake of leading people on the right path."},{id:145,verse_number:26,chapter_number:3,text:`    |
   ||-||`,transliteration:`na buddhi-bheda janayed ajn karma-saginm
johayet sarva-karmi vidvn yukta samcharan`,hindi_meaning:"                      ?",meaning:"So as not to disrupt the minds of ignorant men attached to the fruitive results of prescribed duties, a learned person should not induce them to stop work. Rather, by working in the spirit of devotion, he should engage them in all sorts of activities [for the gradual development of Krishna consciousness]."},{id:146,verse_number:27,chapter_number:3,text:`     |
   ||-||`,transliteration:`prakite kriyamni guai karmi sarvaha
ahakra-vimhtm kartham iti manyate`,hindi_meaning:" !    ,     ;   ,           ",meaning:"The spirit soul bewildered by the influence of false ego thinks himself the doer of activities that are in actuality carried out by the three modes of material nature."},{id:147,verse_number:28,chapter_number:3,text:`   |
       ||-||`,transliteration:`tattva-vit tu mah-bho gua-karma-vibhgayo
gu guehu vartanta iti matv na sajjate`,hindi_meaning:"-, -, -                 ",meaning:"One who is in knowledge of the Absolute Truth, O mighty-armed, does not engage himself in the senses and sense gratification, knowing well the differences between work in devotion and work for fruitive results."},{id:148,verse_number:29,chapter_number:3,text:`   |
   ||-||`,transliteration:`prakiter gua-sammh sajjante gua-karmasu
tn akitsna-vido mandn kitsna-vin na vichlayet`,hindi_meaning:" !       ()     ,        ",meaning:"Bewildered by the modes of material nature, the ignorant fully engage themselves in material activities and become attached. But the wise should not unsettle them, although these duties are inferior due to the performers lack of knowledge."},{id:149,verse_number:30,chapter_number:3,text:`    |
    ||-||`,transliteration:`mayi sarvi karmi sannyasydhytma-chetas
nirhr nirmamo bhtv yudhyasva vigata-jvara`,hindi_meaning:"            ,         ",meaning:"Therefore, O Arjuna, surrendering all your works unto Me, with full knowledge of Me, without desires for profit, with no claims to proprietorship, and free from lethargy, fight."},{id:150,verse_number:31,chapter_number:3,text:`     |
    ||-||`,transliteration:`ye me matam ida nityam anutihhanti mnav
hraddhvanto nasyanto muchyante te pi karmabhi`,hindi_meaning:" !        ,          ",meaning:"Those persons who execute their duties according to My injunctions and who follow this teaching faithfully, without envy, become free from the bondage of fruitive actions."},{id:151,verse_number:32,chapter_number:3,text:`     |
  ||-||`,transliteration:`ye tv etad abhyasyanto nnutihhanti me matam
sarva-jna-vimhs tn viddhi nahn achetasa`,hindi_meaning:" !                 ,     ",meaning:"But those who, out of envy, disregard these teachings and do not follow them are to be considered bereft of all knowledge, befooled, and ruined in their endeavors for perfection."},{id:152,verse_number:33,chapter_number:3,text:`    |
      ||-||`,transliteration:`sadiha chehate svasy prakiter jnavn api
prakiti ynti bhtni nigraha ki karihyati`,hindi_meaning:"       ,     ,  -      ",meaning:"Even a man of knowledge acts according to his own nature, for everyone follows the nature he has acquired from the three modes. What can repression accomplish?"},{id:153,verse_number:34,chapter_number:3,text:`   |
    ||-||`,transliteration:`indriyasyendriyasyrthe rga-dvehau vyavasthitau
tayor na vaham gachchhet tau hy asya paripanthinau`,hindi_meaning:"         ,     ",meaning:"There are principles to regulate attachment and aversion pertaining to the senses and their objects. One should not come under the control of such attachment and aversion, because they are stumbling blocks on the path of self-realization."},{id:154,verse_number:35,chapter_number:3,text:`   |
     ||-||`,transliteration:`hreyn sva-dharmo vigua para-dharmt sv-anuhhitt
sva-dharme nidhana hreya para-dharmo bhayvaha`,hindi_meaning:"   (, , )      !        ,     ,        -   ",meaning:"It is far better to discharge ones prescribed duties, even though faultily, than anothers duties perfectly. Destruction in the course of performing ones own duty is better than engaging in anothers duties, for to follow anothers path is dangerous."},{id:155,verse_number:36,chapter_number:3,text:`  |
      |
    ||-||`,transliteration:`arjuna uvcha
atha kena prayukto ya ppa charati pruha
anichchhann api vrheya bald iva niyojita`,hindi_meaning:"         ,               ",meaning:"Arjuna said: O descendant of Vrishni, by what is one impelled to sinful acts, even unwillingly, as if engaged by force?"},{id:156,verse_number:37,chapter_number:3,text:` |
     |
    ||-||`,transliteration:`hr bhagavn uvcha
kma eha krodha eha rajo-gua-samudbhava
mahhano mah-ppm viddhy enam iha vairiam`,hindi_meaning:"      ,                     ",meaning:"The Supreme Personality of Godhead said: It is lust only, Arjuna, which is born of contact with the material mode of passion and later transformed into wrath, and which is the all-devouring sinful enemy of this world."},{id:157,verse_number:38,chapter_number:3,text:`    |
   ||-||`,transliteration:`dhmenvriyate vahnir yathdarho malena cha
yatholbenvito garbhas tath tenedam vitam`,hindi_meaning:" !      , -         ",meaning:"As fire is covered by smoke, as a mirror is covered by dust, or as the embryo is covered by the womb, the living entity is similarly covered by different degrees of this lust."},{id:158,verse_number:39,chapter_number:3,text:`    |
    ||-||`,transliteration:`vita jnam etena jnino nitya-vairi
kma-rpea kaunteya duhprenalena cha`,hindi_meaning:" !          ()       ,        ",meaning:"Thus the wise living entitys pure consciousness becomes covered by his eternal enemy in the form of lust, which is never satisfied and which burns like fire."},{id:159,verse_number:40,chapter_number:3,text:`   |
   ||-||`,transliteration:`indriyi mano buddhir asydhihhnam uchyate
etair vimohayaty eha jnam vitya dehinam`,hindi_meaning:"     ,                    ",meaning:"The senses, the mind and the intelligence are the sitting places of this lust. Through them lust covers the real knowledge of the living entity and bewilders him."},{id:160,verse_number:41,chapter_number:3,text:`   |
    ||-||`,transliteration:`tasmt tvam indriyy dau niyamya bharatarhabha
ppmna prajahi hy ena jna-vijna-nhanam`,hindi_meaning:"                       ,    ",meaning:"Therefore, O Arjuna, best of the Bharatas, in the very beginning curb this great symbol of sin [lust] by regulating the senses, and slay this destroyer of knowledge and self-realization."},{id:161,verse_number:42,chapter_number:3,text:`    |
      ||-||`,transliteration:`indriyi pary hur indriyebhya para mana
manasas tu par buddhir yo buddhe paratas tu sa`,hindi_meaning:"       ,           ",meaning:"The working senses are superior to dull matter; mind is higher than the senses; intelligence is still higher than the mind; and he [the soul] is even higher than the intelligence."},{id:162,verse_number:43,chapter_number:3,text:`     |
     ||-||`,transliteration:`eva buddhe para buddhv sastabhytmnam tman
jahi hatru mah-bho kma-rpa dursadam`,hindi_meaning:" !                 ,      ",meaning:"Thus knowing oneself to be transcendental to the material senses, mind and intelligence, O mighty-armed Arjuna, one should steady the mind by deliberate spiritual intelligence [Krishna consciousness] and thusby spiritual strengthconquer this insatiable enemy known as lust."}]},{id:4,name:"",name_meaning:"The Yoga of Knowledge and the Renunciation of Action",chapter_number:4,verses_count:42,summary:"Krishna reveals the ancient history of this divine knowledge, explaining that He has taught it in previous ages. He discusses the nature of divine incarnations (avatars) and the importance of finding a true spiritual master.",verses:[{id:163,verse_number:1,chapter_number:4,text:` |
    |
   ||-||`,transliteration:`hr bhagavn uvcha
ima vivasvate yoga proktavn aham avyayam
vivasvn manave prha manur ikhvkave bravt`,hindi_meaning:"  :  !      ,    ,    ?    ,       ?",meaning:"The Personality of Godhead, Lord Sri Krishna, said: I instructed this imperishable science of yoga to the sun-god, Vivasvan, and Vivasvan instructed it to Manu, the father of mankind, and Manu in turn instructed it to Iksvaku."},{id:164,verse_number:2,chapter_number:4,text:`    |
      ||-||`,transliteration:`eva parampar-prptam ima rjarhayo vidu
sa kleneha mahat yogo naha parantapa`,hindi_meaning:"   :  !               ,     ",meaning:"This supreme science was thus received through the chain of disciplic succession, and the saintly kings understood it in that way. But in course of time the succession was broken, and therefore the science as it is appears to be lost."},{id:165,verse_number:3,chapter_number:4,text:`       |
      ||-||`,transliteration:`sa evya may te dya yoga prokta purtana
bhakto si me sakh cheti rahasya hy etad uttamam`,hindi_meaning:"     ,     ,  ,      ,    ",meaning:"That very ancient science of the relationship with the Supreme is today told by Me to you because you are My devotee as well as My friend and can therefore understand the transcendental mystery of this science."},{id:166,verse_number:4,chapter_number:4,text:`  |
      |
   ||-||`,transliteration:`arjuna uvcha
apara bhavato janma para janma vivasvata
katham etad vijny tvam dau proktavn iti`,hindi_meaning:"      , -    ,     ",meaning:"Arjuna said: The sun-god Vivasvan is senior by birth to You. How am I to understand that in the beginning You instructed this science to him?"},{id:167,verse_number:5,chapter_number:4,text:` |
      |
       ||-||`,transliteration:`hr bhagavn uvcha
bahni me vyattni janmni tava chrjuna
tny aha veda sarvi na tva vettha parantapa`,hindi_meaning:"     -  ,         ,    ",meaning:"The Personality of Godhead said: Many, many births both you and I have passed. I can remember all of them, but you cannot, O subduer of the enemy!"},{id:168,verse_number:6,chapter_number:4,text:`    |
   ||-||`,transliteration:`ajo pi sann avyaytm bhtnm hvaro pi san
prakiti svm adhihhya sambhavmy tma-myay`,hindi_meaning:"-         ,                 ",meaning:"Although I am unborn and My transcendental body never deteriorates, and although I am the Lord of all living entities, I still appear in every millennium in My original transcendental form."},{id:169,verse_number:7,chapter_number:4,text:`      |
   ||-||`,transliteration:`yad yad hi dharmasya glnir bhavati bhrata
abhyutthnam adharmasya tadtmna sijmy aham`,hindi_meaning:" !             ",meaning:"Whenever and wherever there is a decline in religious practice, O descendant of Bharata, and a predominant rise of irreligionat that time I descend Myself."},{id:170,verse_number:8,chapter_number:4,text:`     |
    ||-||`,transliteration:`paritrya sdhn vinhya cha duhkitm
dharma-sasthpanrthya sambhavmi yuge yuge`,hindi_meaning:" !            ,    ",meaning:"To deliver the pious and to annihilate the miscreants, as well as to reestablish the principles of religion, I Myself appear, millennium after millennium."},{id:171,verse_number:9,chapter_number:4,text:`        |
 h     ||-||`,transliteration:`janma karma cha me divyam eva yo vetti tattvata
tyaktv deha punar janma naiti mm eti so rjuna`,hindi_meaning:" !       ,                    ",meaning:"One who knows the transcendental nature of My appearance and activities does not, upon leaving the body, take his birth again in this material world, but attains My eternal abode, O Arjuna."},{id:172,verse_number:10,chapter_number:4,text:`   |
    ||-||`,transliteration:`vta-rga-bhaya-krodh man-may mm uphrit
bahavo jna-tapas pt mad-bhvam gat`,hindi_meaning:"     ,      ,                      ",meaning:"Being freed from attachment, fear and anger, being fully absorbed in Me and taking refuge in Me, many, many persons in the past became purified by knowledge of Meand thus they all attained transcendental love for Me."},{id:173,verse_number:11,chapter_number:4,text:`      |
     ||-||`,transliteration:`ye yath m prapadyante ts tathaiva bhajmy aham
mama vartmnuvartante manuhy prtha sarvaha`,hindi_meaning:"       , -   ,      ,     ",meaning:"As all surrender unto Me, I reward them accordingly. Everyone follows My path in all respects, O son of Pritha."},{id:174,verse_number:12,chapter_number:4,text:`      |
      ||-||`,transliteration:`kkhanta karma siddhi yajanta iha devat
khipra hi mnuhe loke siddhir bhavati karma-j`,hindi_meaning:"                     ",meaning:"Men in this world desire success in fruitive activities, and therefore they worship the demigods. Quickly, of course, men get results from fruitive work in this world."},{id:175,verse_number:13,chapter_number:4,text:`    |
    ||-||`,transliteration:`chtur-varya may siha gua-karma-vibhgaha
tasya kartram api m viddhy akartram avyayam`,hindi_meaning:"      ,                       ?",meaning:"According to the three modes of material nature and the work associated with them, the four divisions of human society are created by Me. And although I am the creator of this system, you should know that I am yet the nondoer, being unchangeable."},{id:176,verse_number:14,chapter_number:4,text:`        |
      ||-||`,transliteration:`na m karmi limpanti na me karma-phale spih
iti m yo bhijnti karmabhir na sa badhyate`,hindi_meaning:"   ,          -  ,        ",meaning:"There is no work that affects Me; nor do I aspire for the fruits of action. One who understands this truth about Me also does not become entangled in the fruitive reactions of work."},{id:177,verse_number:15,chapter_number:4,text:`      |
      ||-||`,transliteration:`eva jtv kita karma prvair api mumukhubhi
kuru karmaiva tasmt tva prvai prvatara kitam`,hindi_meaning:" !       -     ,    ",meaning:"All the liberated souls in ancient times acted with this understanding of My transcendental nature. Therefore you should perform your duty, following in their footsteps."},{id:178,verse_number:16,chapter_number:4,text:`     |
     ||-||`,transliteration:`ki karma kim akarmeti kavayo py atra mohit
tat te karma pravakhymi yaj jtv mokhyase hubht`,hindi_meaning:"      ,               ,       ",meaning:"Even the intelligent are bewildered in determining what is action and what is inaction. Now I shall explain to you what action is, knowing which you shall be liberated from all misfortune."},{id:179,verse_number:17,chapter_number:4,text:`      |
     ||-||`,transliteration:`karmao hy api boddhavya boddhavya cha vikarmaa
akarmaah cha boddhavya gahan karmao gati`,hindi_meaning:"       -   ,            ,     ",meaning:"The intricacies of action are very hard to understand. Therefore one should know properly what action is, what forbidden action is, and what inaction is."},{id:180,verse_number:18,chapter_number:4,text:`      |
     ||-||`,transliteration:`karmay akarma ya pahyed akarmai cha karma ya
sa buddhimn manuhyehu sa yukta kitsna-karma-kit`,hindi_meaning:" !      ,      ,     ",meaning:"One who sees inaction in action, and action in inaction, is intelligent among men, and he is in the transcendental position, although engaged in all sorts of activities."},{id:181,verse_number:19,chapter_number:4,text:`    |
    ||-||`,transliteration:`yasya sarve samrambh kma-sakalpa-varjit
jngni-dagdha-karma tam hu paita budh`,hindi_meaning:" !                 ,    ,  -    ",meaning:"One is understood to be in full knowledge whose every endeavor is devoid of desire for sense gratification. He is said by sages to be a worker for whom the reactions of work have been burned up by the fire of perfect knowledge."},{id:182,verse_number:20,chapter_number:4,text:`    |
    ||-||`,transliteration:`tyaktv karma-phalsaga nitya-tipto nirhraya
karmay abhipravitto pi naiva kichit karoti sa`,hindi_meaning:"   :       ,                             ",meaning:"Abandoning all attachment to the results of his activities, ever satisfied and independent, he performs no fruitive action, although engaged in all kinds of undertakings."},{id:183,verse_number:21,chapter_number:4,text:`  |
     ||-||`,transliteration:`nirhr yata-chitttm tyakta-sarva-parigraha
hrra kevala karma kurvan npnoti kilbiham`,hindi_meaning:"     ,  ,    ;           ",meaning:"Such a man of understanding acts with mind and intelligence perfectly controlled, gives up all sense of proprietorship over his possessions, and acts only for the bare necessities of life. Thus working, he is not affected by sinful reactions."},{id:184,verse_number:22,chapter_number:4,text:`   |
      ||-||`,transliteration:`yadichchh-lbha-santuho dvandvtto vimatsara
sama siddhv asiddhau cha kitvpi na nibadhyate`,hindi_meaning:"     () ,      ,                    ",meaning:"He who is satisfied with gain which comes of its own accord, who is free from duality and does not envy, who is steady in both success and failure, is never entangled, although performing actions."},{id:185,verse_number:23,chapter_number:4,text:`   |
    ||-||`,transliteration:`gata-sagasya muktasya jnvasthita-chetasa
yajycharata karma samagra pravilyate`,hindi_meaning:" !      -, -  -  ,    !    ",meaning:"The work of a man who is unattached to the modes of material nature and who is fully situated in transcendental knowledge merges entirely into transcendence."},{id:186,verse_number:24,chapter_number:4,text:`     |
    ||-||`,transliteration:`brahmrpaa brahma havir brahmgnau brahma hutam
brahmaiva tena gantavya brahma-karma-samdhin`,hindi_meaning:" !     (-)   ,  -      ,     ",meaning:"A person who is fully absorbed in Krishna consciousness is sure to attain the spiritual kingdom because of his full contribution to spiritual activities, in which the consummation is absolute and that which is offered is of the same spiritual nature."},{id:187,verse_number:25,chapter_number:4,text:`    |
   ||-||`,transliteration:`daivam evpare yaja yogina paryupsate
brahmgnv apare yaja yajenaivopajuhvati`,hindi_meaning:"  ,      ()         ()     ",meaning:"Some yogis perfectly worship the demigods by offering different sacrifices to them, and some of them offer sacrifices in the fire of the Supreme Brahman."},{id:188,verse_number:26,chapter_number:4,text:`   |
   ||-||`,transliteration:`hrotrdnndriyy anye sayamgnihu juhvati
habddn vihayn anya indriygnihu juhvati`,hindi_meaning:"         ,            ",meaning:"Some [the unadulterated brahmacharis] sacrifice the hearing process and the senses in the fire of mental control, and others [the regulated householders] sacrifice the objects of the senses in the fire of the senses."},{id:189,verse_number:27,chapter_number:4,text:`   |
   ||-||`,transliteration:`sarvndriya-karmi pra-karmi chpare
tma-sayama-yoggnau juhvati jna-dpite`,hindi_meaning:" !   ,          ;    ",meaning:"Others, who are interested in achieving self-realization through control of the mind and senses, offer the functions of all the senses, and of the life breath, as oblations into the fire of the controlled mind."},{id:190,verse_number:28,chapter_number:4,text:`  |
   ||-||`,transliteration:`dravya-yajs tapo-yaj yoga-yajs tathpare
svdhyya-jna-yajh cha yataya sahita-vrat`,hindi_meaning:"          ,    ;             ",meaning:"Having accepted strict vows, some become enlightened by sacrificing their possessions, and others by performing severe austerities, by practicing the yoga of eightfold mysticism, or by studying the Vedas to advance in transcendental knowledge."},{id:191,verse_number:29,chapter_number:4,text:`     |
   |
    ||-||`,transliteration:`apne juhvati pra pre pna tathpare
prpna-gat ruddhv pryma-parya
apare niyathr prn prehu juhvati`,hindi_meaning:"              ,        , ,              ",meaning:"Still others, who are inclined to the process of breath restraint to remain in trance, practice by offering the movement of the outgoing breath into the incoming, and the incoming breath into the outgoing, and thus at last remain in trance, stopping all breathing. Others, curtailing the eating process, offer the outgoing breath into itself as a sacrifice."},{id:192,verse_number:30,chapter_number:4,text:`   |
    ||-||`,transliteration:`sarve py ete yaja-vido yaja-khapita-kalmah
yaja-hihmita-bhujo ynti brahma santanam`,hindi_meaning:" !    ,       ,           ?",meaning:"All these performers who know the meaning of sacrifice become cleansed of sinful reactions, and, having tasted the nectar of the results of sacrifices, they advance toward the supreme eternal atmosphere."},{id:193,verse_number:31,chapter_number:4,text:"    ||-||",transliteration:"nya loko sty ayajasya kuto nya kuru-sattama",hindi_meaning:"          ,    ()          ",meaning:"O best of the Kuru dynasty, without sacrifice one can never live happily on this planet or in this life: what then of the next?"},{id:194,verse_number:32,chapter_number:4,text:`      |
    ||-||`,transliteration:`eva bahu-vidh yaj vitat brahmao mukhe
karma-jn viddhi tn sarvn eva jtv vimokhyase`,hindi_meaning:"      ,    ,          ",meaning:"All these different types of sacrifice are approved by the Vedas, and all of them are born of different types of work. Knowing them as such, you will become liberated."},{id:195,verse_number:33,chapter_number:4,text:`  |
     ||-||`,transliteration:`hreyn dravya-mayd yajj jna-yaja parantapa
sarva karmkhila prtha jne parisampyate`,hindi_meaning:" , ,      , , ,    ",meaning:"O chastiser of the enemy, the sacrifice performed in knowledge is better than the mere sacrifice of material possessions. After all, O son of Pritha, all sacrifices of work culminate in transcendental knowledge."},{id:196,verse_number:34,chapter_number:4,text:`    |
    ||-||`,transliteration:`tad viddhi praiptena pariprahnena sevay
upadekhyanti te jna jninas tattva-darhina`,hindi_meaning:" ,                ",meaning:"Just try to learn the truth by approaching a spiritual master. Inquire from him submissively and render service unto him. The self-realized souls can impart knowledge unto you because they have seen the truth."},{id:197,verse_number:35,chapter_number:4,text:`     |
    ||-||`,transliteration:`yaj jtv na punar moham eva ysyasi pava
yena bhtny ahehea drakhyasy tmany atho mayi`,hindi_meaning:" !             ,         ",meaning:"Having obtained real knowledge from a self-realized soul, you will never fall again into such illusion, for by this knowledge you will see that all living beings are but part of the Supreme, or, in other words, that they are Mine."},{id:198,verse_number:36,chapter_number:4,text:`     |
    ||-||`,transliteration:`api ched asi ppebhya sarvebhya ppa-kit-tama
sarva jna-plavenaiva vijina santarihyasi`,hindi_meaning:"                       ",meaning:"Even if you are considered to be the most sinful of all sinners, when you are situated in the boat of transcendental knowledge you will be able to cross over the ocean of miseries."},{id:199,verse_number:37,chapter_number:4,text:`  |
    ||-||`,transliteration:`yathaidhsi samiddho gnir bhasma-st kurute rjuna
jngni sarva-karmi bhasma-st kurute tath`,hindi_meaning:" !     ,              ?",meaning:"As a blazing fire turns firewood to ashes, O Arjuna, so does the fire of knowledge burn to ashes all reactions to material activities."},{id:200,verse_number:38,chapter_number:4,text:`      |
    ||-||`,transliteration:`na hi jnena sadiha pavitram iha vidyate
tat svaya yoga-sasiddha klentmani vindati`,hindi_meaning:"      ,      ,             ",meaning:"In this world, there is nothing so sublime and pure as transcendental knowledge. Such knowledge is the mature fruit of all mysticism. And one who has become accomplished in the practice of devotional service enjoys this knowledge within himself in due course of time."},{id:201,verse_number:39,chapter_number:4,text:`    |
    ||-||`,transliteration:`hraddhv labhate jna tat-para sayatendriya
jna labdhv par hntim achiredhigachchhati`,hindi_meaning:" !                     ",meaning:"A faithful man who is dedicated to transcendental knowledge and who subdues his senses is eligible to achieve such knowledge, and having achieved it he quickly attains the supreme spiritual peace."},{id:202,verse_number:40,chapter_number:4,text:`   |
       ||-||`,transliteration:`ajah chhraddadhnah cha sahaytm vinahyati
nya loko sti na paro na sukha sahaytmana`,hindi_meaning:" !           ;            ",meaning:"But ignorant and faithless persons who doubt the revealed scriptures do not attain God consciousness; they fall down. For the doubting soul there is happiness neither in this world nor in the next."},{id:203,verse_number:41,chapter_number:4,text:`  |
     ||-||`,transliteration:`yoga-sannyasta-karma jna-sachhinna-sahayam
tmavanta na karmi nibadhnanti dhanajaya`,hindi_meaning:" !         ,               ",meaning:"One who acts in devotional service, renouncing the fruits of his actions, and whose doubts have been destroyed by transcendental knowledge, is situated factually in the self. Thus he is not bound by the reactions of work, O conqueror of riches."},{id:204,verse_number:42,chapter_number:4,text:`   |
    ||-||`,transliteration:`tasmd ajna-sambhta hit-stha jnsintmana
chhittvaina sahaya yogam tihhottihha bhrata`,hindi_meaning:"      ,           ",meaning:"Therefore the doubts which have arisen in your heart out of ignorance should be slashed by the weapon of knowledge. Armed with yoga, O Bharata, stand and fight."}]},{id:5,name:"",name_meaning:"The Yoga of Renunciation of Action",chapter_number:5,verses_count:29,summary:"Arjuna is confused about whether it is better to renounce actions or perform them. Krishna clarifies that both paths can lead to liberation, but acting without attachment (Karma Yoga) is superior and more practical for most people.",verses:[{id:205,verse_number:1,chapter_number:5,text:`  |
      |
     ||-||`,transliteration:`arjuna uvcha
sannysa karma kiha punar yoga cha hasasi
yach chhreya etayor eka tan me brhi sunihchitam`,hindi_meaning:"             ,     ",meaning:"Arjuna said: O Krishna, first of all You ask me to renounce work, and then again You recommend work with devotion. Now will You kindly tell me definitely which of the two is more beneficial?"},{id:206,verse_number:2,chapter_number:5,text:` |
   |
   ||-||`,transliteration:`hr bhagavn uvcha
sannysa karma-yogah cha nihreyasa-karv ubhau
tayos tu karma-sannyst karma-yogo vihihyate`,hindi_meaning:"             ",meaning:"The Personality of Godhead replied: The renunciation of work and work in devotion are both good for liberation. But, of the two, work in devotional service is better than renunciation of work."},{id:207,verse_number:3,chapter_number:5,text:`        |
     ||-||`,transliteration:`jeya sa nitya-sannys yo na dvehi na kkhati
nirdvandvo hi mah-bho sukha bandht pramuchyate`,hindi_meaning:"                      ?",meaning:"One who neither hates nor desires the fruits of his activities is known to be always renounced. Such a person, free from all dualities, easily overcomes material bondage and is completely liberated, O mighty-armed Arjuna."},{id:208,verse_number:4,chapter_number:5,text:`     |
   ||-||`,transliteration:`skhya-yogau pithag bl pravadanti na pait
ekam apy sthita samyag ubhayor vindate phalam`,hindi_meaning:" !    ,     ;   ,           ",meaning:"Only the ignorant speak of devotional service [karma-yoga] as being different from the analytical study of the material world [Sankhya]. Those who are actually learned say that he who applies himself well to one of these paths achieves the results of both."},{id:209,verse_number:5,chapter_number:5,text:`     |
         ||-||`,transliteration:`yat skhyai prpyate sthna tad yogair api gamyate
eka skhya cha yoga cha ya pahyati sa pahyati`,hindi_meaning:"-, -, -                 ",meaning:"One who knows that the position reached by means of analytical study can also be attained by devotional service, and who therefore sees analytical study and devotional service to be on the same level, sees things as they are."},{id:210,verse_number:6,chapter_number:5,text:`   |
   ||-||`,transliteration:`sannysas tu mah-bho dukham ptum ayogata
yoga-yukto munir brahma na chiredhigachchhati`,hindi_meaning:" !       ()     ,        ",meaning:"Merely renouncing all activities yet not engaging in the devotional service of the Lord cannot make one happy. But a thoughtful person engaged in devotional service can achieve the Supreme without delay."},{id:211,verse_number:7,chapter_number:5,text:`    |
    ||-||`,transliteration:`yoga-yukto vihuddhtm vijittm jitendriya
sarva-bhttma-bhttm kurvann api na lipyate`,hindi_meaning:"            ,         ",meaning:"One who works in devotion, who is a pure soul, and who controls his mind and senses is dear to everyone, and everyone is dear to him. Though always working, such a man is never entangled."},{id:212,verse_number:8,chapter_number:5,text:`     |
 ||-||`,transliteration:`naiva kichit karomti yukto manyeta tattva-vit
pahya hivan spiha jighrann ahnan gachchhan svapan hvasan`,hindi_meaning:" !        ,          ",meaning:"A person in the divine consciousness, although engaged in seeing, hearing, touching, smelling, eating, moving about, sleeping and breathing, always knows within himself that he actually does nothing at all."},{id:213,verse_number:9,chapter_number:5,text:` |
    ||-||`,transliteration:`pralapan visijan gihann unmihan nimihann api
indriyndriyrthehu vartanta iti dhrayan`,hindi_meaning:" !                 ,     ",meaning:"Because while speaking, evacuating, receiving, or opening or closing his eyes, he always knows that only the material senses are engaged with their objects and that he is aloof from them."},{id:214,verse_number:10,chapter_number:5,text:`      |
     ||-||`,transliteration:`brahmay dhya karmi saga tyaktv karoti ya
lipyate na sa ppena padma-patram ivmbhas`,hindi_meaning:"       ,     ,  -      ",meaning:"One who performs his duty without attachment, surrendering the results unto the Supreme Lord, is unaffected by sinful action, as the lotus leaf is untouched by water."},{id:215,verse_number:11,chapter_number:5,text:`    |
     ||-||`,transliteration:`kyena manas buddhy kevalair indriyair api
yogina karma kurvanti saga tyaktvtma-huddhaye`,hindi_meaning:"         ,     ",meaning:"The yogis, abandoning attachment, act with body, mind, intelligence and even with the senses, only for the purpose of purification."},{id:216,verse_number:12,chapter_number:5,text:`     |
     ||-||`,transliteration:`yukta karma-phala tyaktv hntim pnoti naihhikm
ayukta kma-krea phale sakto nibadhyate`,hindi_meaning:"   (, , )      !        ,     ,        -   ",meaning:"The steadily devoted soul attains unadulterated peace because he offers the result of all activities to Me; whereas a person who is not in union with the Divine, who is greedy for the fruits of his labor, becomes entangled."},{id:217,verse_number:13,chapter_number:5,text:`     |
      ||-||`,transliteration:`sarva-karmi manas sannyasyste sukha vah
nava-dvre pure deh naiva kurvan na krayan`,hindi_meaning:"         ,               ",meaning:"When the embodied living being controls his nature and mentally renounces all actions, he resides happily in the city of nine gates [the material body], neither working nor causing work to be done."},{id:218,verse_number:14,chapter_number:5,text:`       |
    ||-||`,transliteration:`na kartitva na karmi lokasya sijati prabhu
na karma-phala-sayoga svabhvas tu pravartate`,hindi_meaning:"      ,                     ",meaning:"The embodied spirit, master of the city of his body, does not create activities, nor does he induce people to act, nor does he create the fruits of action. All this is enacted by the modes of material nature."},{id:219,verse_number:15,chapter_number:5,text:`      |
     ||-||`,transliteration:`ndatte kasyachit ppa na chaiva sukita vibhu
ajnenvita jna tena muhyanti jantava`,hindi_meaning:" !      , -         ",meaning:"Nor does the Supreme Lord assume anyones sinful or pious activities. Embodied beings, however, are bewildered because of the ignorance which covers their real knowledge."},{id:220,verse_number:16,chapter_number:5,text:`     |
   ||-||`,transliteration:`jnena tu tad ajna yeh nhitam tmana
tehm ditya-vaj jna prakhayati tat param`,hindi_meaning:" !          ()       ,        ",meaning:"When, however, one is enlightened with the knowledge by which nescience is destroyed, then his knowledge reveals everything, as the sun lights up everything in the daytime."},{id:221,verse_number:17,chapter_number:5,text:` |
  ||-||`,transliteration:`tad-buddhayas tad-tmnas tan-nihhs tat-parya
gachchhanty apunar-vitti jna-nirdhta-kalmah`,hindi_meaning:"     ,                    ",meaning:"When ones intelligence, mind, faith and refuge are all fixed in the Supreme, then one becomes fully cleansed of misgivings through complete knowledge and thus proceeds straight on the path of liberation."},{id:222,verse_number:18,chapter_number:5,text:`    |
      ||-||`,transliteration:`vidy-vinaya-sampanne brhmae gavi hastini
huni chaiva hva-pke cha pait sama-darhina`,hindi_meaning:"                       ,    ",meaning:"The humble sages, by virtue of true knowledge, see with equal vision a learned and gentle brahmana, a cow, an elephant, a dog and a dog-eater [outcaste]."},{id:223,verse_number:19,chapter_number:5,text:`       |
       ||-||`,transliteration:`ihaiva tair jita sargo yeh smye sthita mana
nirdoha hi sama brahma tasmd brahmai te sthit`,hindi_meaning:"       ,           ",meaning:"Those whose minds are established in sameness and equanimity have already conquered the conditions of birth and death. They are flawless like Brahman, and thus they are already situated in Brahman."},{id:224,verse_number:20,chapter_number:5,text:`     |
   ||-||`,transliteration:`na prahihyet priya prpya nodvijet prpya chpriyam
sthira-buddhir asammho brahma-vid brahmai sthita`,hindi_meaning:" !                 ,      ",meaning:"A person who neither rejoices upon achieving something pleasant nor laments upon obtaining something unpleasant, who is self-intelligent, who is unbewildered, and who knows the science of God, is already situated in transcendence."},{id:225,verse_number:21,chapter_number:5,text:`   |
   ||-||`,transliteration:`bhya-sparhehv asakttm vindaty tmani yat sukham
sa brahma-yoga-yukttm sukham akhayam ahnute`,hindi_meaning:"  :  !      ,    ,    ?    ,       ?",meaning:"Such a liberated person is not attracted to material sense pleasure but is always in trance, enjoying the pleasure within. In this way the self-realized person enjoys unlimited happiness, for he concentrates on the Supreme."},{id:226,verse_number:22,chapter_number:5,text:`       |
      ||-||`,transliteration:`ye hi sasparha-j bhog dukha-yonaya eva te
dy-antavanta kaunteya na tehu ramate budha`,hindi_meaning:"   :  !               ,     ",meaning:"An intelligent person does not take part in the sources of misery, which are due to contact with the material senses. O son of Kunti, such pleasures have a beginning and an end, and so the wise man does not delight in them."},{id:227,verse_number:23,chapter_number:5,text:`    |
       ||-||`,transliteration:`haknothaiva ya sohu prk harra-vimokhat
kma-krodhodbhava vega sa yukta sa sukh nara`,hindi_meaning:"     ,     ,  ,      ,    ",meaning:"Before giving up this present body, if one is able to tolerate the urges of the material senses and check the force of desire and anger, he is well situated and is happy in this world."},{id:228,verse_number:24,chapter_number:5,text:`  |
    ||-||`,transliteration:`yo nta-sukho ntar-rmas tathntar-jyotir eva ya
sa yog brahma-nirva brahma-bhto dhigachchhati`,hindi_meaning:"      , -    ,     ",meaning:"One whose happiness is within, who is active and rejoices within, and whose aim is inward is actually the perfect mystic. He is liberated in the Supreme, and ultimately he attains the Supreme."},{id:229,verse_number:25,chapter_number:5,text:`   |
    ||-||`,transliteration:`labhante brahma-nirvam ihaya kha-kalmah
chhinna-dvaidh yattmna sarva-bhta-hite rat`,hindi_meaning:"     -  ,         ,    ",meaning:"Those who are beyond the dualities that arise from doubts, whose minds are engaged within, who are always busy working for the welfare of all living beings, and who are free from all sins achieve liberation in the Supreme."},{id:230,verse_number:26,chapter_number:5,text:`   |
    ||-||`,transliteration:`kma-krodha-vimuktn yatn yata-chetasm
abhito brahma-nirva vartate vidittmanm`,hindi_meaning:"-         ,                 ",meaning:"Those who are free from anger and all material desires, who are self-realized, self-disciplined and constantly endeavoring for perfection, are assured of liberation in the Supreme in the very near future."},{id:231,verse_number:27,chapter_number:5,text:`   |
    ||-||`,transliteration:`sparhn kitv bahir bhyh chakhuh chaivntare bhruvo
prpnau samau kitv nsbhyantara-chriau`,hindi_meaning:" !             ",meaning:"Shutting out all external sense objects, keeping the eyes and vision concentrated between the two eyebrows, suspending the inward and outward breaths within the nostrils..."},{id:232,verse_number:28,chapter_number:5,text:` |
      ||-||`,transliteration:`yatendriya-mano-buddhir munir mokha-paryaa
vigatechchh-bhaya-krodho ya sad mukta eva sa`,hindi_meaning:" !            ,    ",meaning:"...and thus controlling the mind, senses and intelligence, the transcendentalist aiming at liberation becomes free from desire, fear and anger. One who is always in this state is certainly liberated."},{id:233,verse_number:29,chapter_number:5,text:`   |
     ||-||`,transliteration:`bhoktra yaja-tapas sarva-loka-mahehvaram
suhida sarva-bhtn jtv m hntim ichchhati`,hindi_meaning:" !       ,                    ",meaning:"A person in full consciousness of Me, knowing Me to be the ultimate beneficiary of all sacrifices and austerities, the Supreme Lord of all planets and demigods, and the benefactor and well-wisher of all living entities, attains peace from the pangs of material miseries."}]},{id:6,name:"",name_meaning:"The Yoga of Self-Control",chapter_number:6,verses_count:47,summary:"Krishna describes the practice of meditation (Dhyana Yoga) as a means to control the mind and senses. He outlines the lifestyle, posture, and focus required for successful meditation and explains what happens to a yogi who is unsuccessful.",verses:[{id:234,verse_number:1,chapter_number:6,text:` |
      |
        ||-||`,transliteration:`hr bhagavn uvcha
anhrita karma-phala krya karma karoti ya
sa sannys cha yog cha na niragnir na chkriya`,hindi_meaning:"     ,      ,                      ",meaning:"The Supreme Personality of Godhead said: One who is unattached to the fruits of his work and who works as he is obligated is in the renounced order of life, and he is the true mystic, not he who lights no fire and performs no duty."},{id:235,verse_number:2,chapter_number:6,text:`      |
     ||-||`,transliteration:`ya sannysam iti prhur yoga ta viddhi pava
na hy asannyasta-sakalpo yog bhavati kahchana`,hindi_meaning:"       , -   ,      ,     ",meaning:"What is called renunciation you should know to be the same as yoga, or linking oneself with the Supreme, O son of Pandu, for one can never become a yogi unless he renounces the desire for sense gratification."},{id:236,verse_number:3,chapter_number:6,text:`   |
    ||-||`,transliteration:`rurukhor muner yoga karma kraam uchyate
yogrhasya tasyaiva hama kraam uchyate`,hindi_meaning:"                     ",meaning:"For one who is a neophyte in the eightfold yoga system, work is said to be the means; and for one who is already elevated in yoga, cessation of all material activities is said to be the means."},{id:237,verse_number:4,chapter_number:6,text:`     |
  ||-||`,transliteration:`yad hi nendriyrthehu na karmasv anuhajjate
sarva-sakalpa-sannys yogrhas tadochyate`,hindi_meaning:"      ,                       ?",meaning:"A person is said to be elevated in yoga when, having renounced all material desires, he neither acts for sense gratification nor engages in fruitive activities."},{id:238,verse_number:5,chapter_number:6,text:`  |
    ||-||`,transliteration:`uddhared tmantmna ntmnam avasdayet
tmaiva hy tmano bandhur tmaiva ripur tmana`,hindi_meaning:"   ,          -  ,        ",meaning:"One must deliver himself with the help of his mind, and not degrade himself. The mind is the friend of the conditioned soul, and his enemy as well."},{id:239,verse_number:6,chapter_number:6,text:`   |
    ||-||`,transliteration:`bandhur tmtmanas tasya yentmaivtman jita
antmanas tu hatrutve vartettmaiva hatru-vat`,hindi_meaning:" !       -     ,    ",meaning:"For him who has conquered the mind, the mind is the best of friends; but for one who has failed to do so, his mind will remain the greatest enemy."},{id:240,verse_number:7,chapter_number:6,text:`    |
   ||-||`,transliteration:`jittmana prahntasya paramtm samhita
htoha-sukha-dukhehu tath mnpamnayo`,hindi_meaning:"      ,               ,       ",meaning:"For one who has conquered the mind, the Supersoul is already reached, for he has attained tranquility. To such a man happiness and distress, heat and cold, honor and dishonor are all the same."},{id:241,verse_number:8,chapter_number:6,text:`   |
    ||-||`,transliteration:`jna-vijna-tipttm ka-stho vijitendriya
yukta ity uchyate yog sama-lohrhma-kchana`,hindi_meaning:"       -   ,            ,     ",meaning:"A person is said to be established in self-realization and is called a yogi [or mystic] when he is fully satisfied by virtue of acquired knowledge and realization. Such a person is situated in transcendence and is self-controlled. He sees everythingwhether it be pebbles, stones or goldas the same."},{id:242,verse_number:9,chapter_number:6,text:` |
    ||-||`,transliteration:`suhin-mitrry-udsna-madhyastha-dvehya-bandhuhu
sdhuhv api cha ppehu sama-buddhir vihihyate`,hindi_meaning:" !      ,      ,     ",meaning:"A person is considered still further advanced when he regards allthe honest well-wisher, friends and enemies, the envious, the pious, the sinner and those who are indifferent and impartialwith an equal mind."},{id:243,verse_number:10,chapter_number:6,text:`     |
   ||-||`,transliteration:`yog yujta satatam tmna rahasi sthita
ekk yata-chitttm nirhr aparigraha`,hindi_meaning:" !                 ,    ,  -    ",meaning:"A transcendentalist should always engage his body, mind and self in relationship with the Supreme; he should live alone in a secluded place and should always carefully control his mind. He should be free from desires and feelings of possessiveness."},{id:244,verse_number:11,chapter_number:6,text:`    |
   ||-||`,transliteration:`huchau dehe pratihhpya sthiram sanam tmana
nty-uchchhrita nti-ncha chailjina-kuhottaram`,hindi_meaning:"   :       ,                             ",meaning:"To practice yoga, one should go to a secluded place and should lay kusa grass on the ground and then cover it with a deerskin and a soft cloth. The seat should be neither too high nor too low and should be situated in a sacred place."},{id:245,verse_number:12,chapter_number:6,text:`    |
  ||-||`,transliteration:`tatraikgra mana kitv yata-chittendriya-kriya
upavihysane yujyd yogam tma-vihuddhaye`,hindi_meaning:"     ,  ,    ;           ",meaning:"The yogi should then sit on it very firmly and practice yoga to purify the heart by controlling his mind, senses and activities and fixing the mind on one point."},{id:246,verse_number:13,chapter_number:6,text:`    |
    ||-||`,transliteration:`sama kya-hiro-grva dhrayann achala sthira
samprekhya nsikgra sva dihah chnavalokayan`,hindi_meaning:"     () ,      ,                    ",meaning:"One should hold ones body, neck and head erect in a straight line and stare steadily at the tip of the nose."},{id:247,verse_number:14,chapter_number:6,text:`   |
      ||-||`,transliteration:`prahnttm vigata-bhr brahmachri-vrate sthita
mana sayamya mach-chitto yukta sta mat-para`,hindi_meaning:" !      -, -  -  ,    !    ",meaning:"Thus, with an unagitated, subdued mind, devoid of fear, completely free from sex life, one should meditate upon Me within the heart and make Me the ultimate goal of life."},{id:248,verse_number:15,chapter_number:6,text:`    |
   ||-||`,transliteration:`yujann eva sadtmna yog niyata-mnasa
hnti nirva-param mat-sasthm adhigachchhati`,hindi_meaning:" !     (-)   ,  -      ,     ",meaning:"Thus practicing constant control of the body, mind and activities, the mystic transcendentalist, his mind regulated, attains to the kingdom of God [or the abode of Krishna] by cessation of material existence."},{id:249,verse_number:16,chapter_number:6,text:`    |
      ||-||`,transliteration:`ntyahnatas tu yogo sti na chaikntam anahnata
na chti-svapna-hlasya jgrato naiva chrjuna`,hindi_meaning:"  ,      ()         ()     ",meaning:"There is no possibility of ones becoming a yogi, O Arjuna, if one eats too much or eats too little, sleeps too much or does not sleep enough."},{id:250,verse_number:17,chapter_number:6,text:`   |
    ||-||`,transliteration:`yukthra-vihrasya yukta-chehasya karmasu
yukta-svapnvabodhasya yogo bhavati dukha-h`,hindi_meaning:"         ,            ",meaning:"He who is regulated in his habits of eating, sleeping, recreation and work can mitigate all material pains by practicing the yoga system."},{id:251,verse_number:18,chapter_number:6,text:`   |
     ||-||`,transliteration:`yad viniyata chittam tmany evvatihhate
nispiha sarva-kmebhyo yukta ity uchyate tad`,hindi_meaning:" !   ,          ;    ",meaning:"When the yogi, by practice of yoga, disciplines his mental activities and becomes situated in transcendencedevoid of all material desireshe is said to be well established in yoga."},{id:252,verse_number:19,chapter_number:6,text:`      |
    ||-||`,transliteration:`yath dpo nivta-stho negate sopam smit
yogino yata-chittasya yujato yogam tmana`,hindi_meaning:"          ,    ;             ",meaning:"As a lamp in a windless place does not waver, so the transcendentalist, whose mind is controlled, remains always steady in his meditation on the transcendent self."},{id:253,verse_number:20,chapter_number:6,text:`    |
    ||-||`,transliteration:`yatroparamate chitta niruddha yoga-sevay
yatra chaivtmantmna pahyann tmani tuhyati`,hindi_meaning:"              ,        , ,              ",meaning:"In the stage of perfection called trance, or samadhi, ones mind is completely restrained from material mental activities by practice of yoga. This perfection is characterized by ones ability to see the self by the pure mind and to relish and rejoice in the self."},{id:254,verse_number:21,chapter_number:6,text:`  |
      ||-||`,transliteration:`sukham tyantika yat tad buddhi-grhyam atndriyam
vetti yatra na chaivya sthitah chalati tattvata`,hindi_meaning:" !    ,       ,           ?",meaning:"In that joyous state, one is situated in boundless transcendental happiness and enjoys himself through transcendental senses. Established thus, one never departs from the truth."},{id:255,verse_number:22,chapter_number:6,text:`       |
     ||-||`,transliteration:`ya labdhv chpara lbha manyate ndhika tata
yasmin sthito na dukhena gurupi vichlyate`,hindi_meaning:"          ,    ()          ",meaning:"And upon gaining this he thinks there is no greater gain. Being situated in such a position, one is never shaken, even in the midst of greatest difficulty."},{id:256,verse_number:23,chapter_number:6,text:`   |
    ||-||`,transliteration:`ta vidyd dukha-sayoga-viyoga yoga-sajitam
sa nihchayena yoktavyo yogo nirvia-chetas`,hindi_meaning:"      ,    ,          ",meaning:"This indeed is actual freedom from all miseries arising from material contact. One should engage oneself in the practice of yoga with determination and faith and not be deviated from the path."},{id:257,verse_number:24,chapter_number:6,text:`  |
   ||-||`,transliteration:`sakalpa-prabhavn kms tyaktv sarvn ahehata
manasaivendriya-grma viniyamya samantata`,hindi_meaning:" , ,      , , ,    ",meaning:"One should abandon without exception all material desires born of mental speculation and thus control all the senses on all sides by the mind."},{id:258,verse_number:25,chapter_number:6,text:`   |
      ||-||`,transliteration:`hanai hanair uparamed buddhy dhiti-gihtay
tma-sastha mana kitv na kichid api chintayet`,hindi_meaning:" ,                ",meaning:"Gradually, step by step, one should become situated in trance by means of intelligence sustained by full conviction, and thus the mind should be fixed on the self alone and should think of nothing else."},{id:259,verse_number:26,chapter_number:6,text:`    |
    ||-||`,transliteration:`yato yato nihcharati manah chachalam asthiram
tatas tato niyamyaitad tmany eva vaha nayet`,hindi_meaning:" !             ,         ",meaning:"From wherever the mind wanders due to its flickering and unsteady nature, one must certainly withdraw it and bring it back under the control of the self."},{id:260,verse_number:27,chapter_number:6,text:`    |
   ||-||`,transliteration:`prahnta-manasa hy ena yogina sukham uttamam
upaiti hnta-rajasa brahma-bhtam akalmaham`,hindi_meaning:"                       ",meaning:"The yogi whose mind is fixed on Me verily attains the highest perfection of transcendental happiness. He is beyond the mode of passion, he realizes his qualitative identity with the Supreme, and thus he is freed from all reactions to past deeds."},{id:261,verse_number:28,chapter_number:6,text:`    |
   ||-||`,transliteration:`yujann eva sadtmna yog vigata-kalmaha
sukhena brahma-sasparham atyanta sukham ahnute`,hindi_meaning:" !     ,              ?",meaning:"Thus the self-controlled yogi, constantly engaged in yoga practice, becomes free from all material contamination and achieves the highest stage of perfect happiness in transcendental loving service to the Lord."},{id:262,verse_number:29,chapter_number:6,text:`   |
    ||-||`,transliteration:`sarva-bhta-stham tmna sarva-bhtni chtmani
khate yoga-yukttm sarvatra sama-darhana`,hindi_meaning:"      ,      ,             ",meaning:"A true yogi observes Me in all beings and also sees every being in Me. Indeed, the self-realized person sees Me, the same Supreme Lord, everywhere."},{id:263,verse_number:30,chapter_number:6,text:`        |
        ||-||`,transliteration:`yo m pahyati sarvatra sarva cha mayi pahyati
tasyha na praahymi sa cha me na praahyati`,hindi_meaning:" !                     ",meaning:"For one who sees Me everywhere and sees everything in Me, I am never lost, nor is he ever lost to Me."},{id:264,verse_number:31,chapter_number:6,text:`    |
      ||-||`,transliteration:`sarva-bhta-sthita yo m bhajaty ekatvam sthita
sarvath vartamno pi sa yog mayi vartate`,hindi_meaning:" !           ;            ",meaning:"Such a yogi, who engages in the worshipful service of the Supersoul, knowing that I and the Supersoul are one, remains always in Me in all circumstances."},{id:265,verse_number:32,chapter_number:6,text:`     |
         ||-||`,transliteration:`tmaupamyena sarvatra sama pahyati yo rjuna
sukha v yadi v dukha sa yog paramo mata`,hindi_meaning:" !         ,               ",meaning:"He is a perfect yogi who, by comparison to his own self, sees the true equality of all beings, in both their happiness and their distress, O Arjuna!"},{id:266,verse_number:33,chapter_number:6,text:`  |
     |
     ||-||`,transliteration:`arjuna uvcha
yo ya yogas tvay prokta smyena madhusdana
etasyha na pahymi chachalatvt sthiti sthirm`,hindi_meaning:"      ,           ",meaning:"Arjuna said: O Madhusudana, the system of yoga which You have summarized appears impractical and unendurable to me, for the mind is restless and unsteady."},{id:267,verse_number:34,chapter_number:6,text:`      |
     ||-||`,transliteration:`chachala hi mana kiha pramthi balavad diham
tasyha nigraha manye vyor iva su-duhkaram`,hindi_meaning:"             ,     ",meaning:"For the mind is restless, turbulent, obstinate and very strong, O Krishna, and to subdue it, I think, is more difficult than controlling the wind."},{id:268,verse_number:35,chapter_number:6,text:` |
     |
      ||-||`,transliteration:`hr bhagavn uvcha
asahaya mah-bho mano durnigraha chalam
abhysena tu kaunteya vairgyea cha gihyate`,hindi_meaning:"             ",meaning:"Lord Sri Krishna said: O mighty-armed son of Kunti, it is undoubtedly very difficult to curb the restless mind, but it is possible by suitable practice and by detachment."},{id:269,verse_number:36,chapter_number:6,text:`      |
    ||-||`,transliteration:`asayattman yogo duhprpa iti me mati
vahytman tu yatat hakyo vptum upyata`,hindi_meaning:"                      ?",meaning:"For one whose mind is unbridled, self-realization is difficult work. But he whose mind is controlled and who strives by appropriate means is assured of success. That is My opinion."},{id:270,verse_number:37,chapter_number:6,text:`  |
   |
      ||-||`,transliteration:`arjuna uvcha
ayati hraddhayopeto yogch chalita-mnasa
aprpya yoga-sasiddhi k gati kiha gachchhati`,hindi_meaning:" !    ,     ;   ,           ",meaning:"Arjuna said: O Krishna, what is the destination of the unsuccessful transcendentalist, who in the beginning takes to the process of self-realization with faith but who later desists due to worldly-mindedness and thus does not attain perfection in mysticism?"},{id:271,verse_number:38,chapter_number:6,text:`  |
     ||-||`,transliteration:`kachchin nobhaya-vibhrahah chhinnbhram iva nahyati
apratihho mah-bho vimho brahmaa pathi`,hindi_meaning:"-, -, -                 ",meaning:"O mighty-armed Krishna, does not such a man, being deviated from the path of Transcendence, perish like a riven cloud, with no position in any sphere?"},{id:272,verse_number:39,chapter_number:6,text:`    |
     ||-||`,transliteration:`etan me sahaya kiha chhettum arhasy ahehata
tvad-anya sahayasysya chhett na hy upapadyate`,hindi_meaning:" !       ()     ,        ",meaning:"This is my doubt, O Krishna, and I ask You to dispel it completely. But for You, no one is to be found who can destroy this doubt."},{id:273,verse_number:40,chapter_number:6,text:` |
     |
     ||-||`,transliteration:`hr bhagavn uvcha
prtha naiveha nmutra vinhas tasya vidyate
na hi kalya-kit kahchid durgati tta gachchhati`,hindi_meaning:"            ,         ",meaning:"The Supreme Personality of Godhead said: Son of Pritha, a transcendentalist engaged in auspicious activities does not meet with destruction either in this world or in the spiritual world; one who does good, My friend, is never overcome by evil."},{id:274,verse_number:41,chapter_number:6,text:`     |
    ||-||`,transliteration:`prpya puya-kit lokn uhitv hhvat sam
huchn hrmat gehe yoga-bhraho bhijyate`,hindi_meaning:" !        ,          ",meaning:"The unsuccessful yogi, after many, many years of enjoyment on the planets of the pious living entities, is born into a family of righteous people, or into a family of rich aristocracy."},{id:275,verse_number:42,chapter_number:6,text:`     |
     ||-||`,transliteration:`athav yoginm eva kule bhavati dhmatm
etad dhi durlabhatara loke janma yad diham`,hindi_meaning:" !                 ,     ",meaning:"Or [if unsuccessful after long practice of yoga] he takes his birth in a family of transcendentalists who are surely great in wisdom. Certainly, such a birth is rare in this world."},{id:276,verse_number:43,chapter_number:6,text:`     |
      ||-||`,transliteration:`tatra ta buddhi-sayoga labhate paurva-dehikam
yatate cha tato bhya sasiddhau kuru-nandana`,hindi_meaning:"       ,     ,  -      ",meaning:"On taking such a birth, he revives the divine consciousness of his previous life, and he again tries to make further progress in order to achieve complete success, O son of Kuru."},{id:277,verse_number:44,chapter_number:6,text:`     |
   ||-||`,transliteration:`prvbhysena tenaiva hriyate hy avaho pi sa
jijsur api yogasya habda-brahmtivartate`,hindi_meaning:"         ,     ",meaning:"By virtue of the divine consciousness of his previous life, he automatically becomes attracted to the yogic principleseven without seeking them. Such an inquisitive transcendentalist stands always above the ritualistic principles of the scriptures."},{id:278,verse_number:45,chapter_number:6,text:`   |
    ||-||`,transliteration:`prayatnd yatamnas tu yog sahuddha-kilbiha
aneka-janma-sasiddhas tato yti par gatim`,hindi_meaning:"   (, , )      !        ,     ,        -   ",meaning:"And when the yogi engages himself with sincere endeavor in making further progress, being washed of all contaminations, then ultimately, achieving perfection after many, many births of practice, he attains the supreme goal."},{id:279,verse_number:46,chapter_number:6,text:`    |
    ||-||`,transliteration:`tapasvibhyo dhiko yog jnibhyo pi mato dhika
karmibhyah chdhiko yog tasmd yog bhavrjuna`,hindi_meaning:"         ,               ",meaning:"A yogi is greater than the ascetic, greater than the empiricist and greater than the fruitive worker. Therefore, O Arjuna, in all circumstances, be a yogi."},{id:280,verse_number:47,chapter_number:6,text:`   |
       ||-||`,transliteration:`yoginm api sarveh mad-gatenntar-tman
hraddhvn bhajate yo m sa me yuktatamo mata`,hindi_meaning:"      ,                     ",meaning:"And of all yogis, the one with great faith who always abides in Me, thinks of Me within himself, and renders transcendental loving service to Mehe is the most intimately united with Me in yoga and is the highest of all. That is My opinion."}]},{id:7,name:"",name_meaning:"The Yoga of Knowledge and Realization",chapter_number:7,verses_count:30,summary:"Krishna explains the nature of the Absolute Truth. He describes His material and spiritual energies and reveals Himself as the source of all creation. He also discusses who can and cannot surrender to Him.",verses:[{id:281,verse_number:1,chapter_number:7,text:` |
    |
      ||-||`,transliteration:`hr bhagavn uvcha
mayy sakta-man prtha yoga yujan mad-hraya
asahaya samagra m yath jsyasi tach chhiu`,hindi_meaning:" !      , -         ",meaning:"The Supreme Personality of Godhead said: Now hear, O son of Pritha, how by practicing yoga in full consciousness of Me, with mind attached to Me, you can know Me in full, free from doubt."},{id:282,verse_number:2,chapter_number:7,text:`    |
   ||-||`,transliteration:`jna te ha sa-vijnam ida vakhymy ahehata
yaj jtv neha bhyo nyaj jtavyam avahihyate`,hindi_meaning:" !          ()       ,        ",meaning:"I shall now declare unto you in full this knowledge, both phenomenal and numinous. This being known, nothing further shall remain for you to know."},{id:283,verse_number:3,chapter_number:7,text:`    |
     ||-||`,transliteration:`manuhy sahasrehu kahchid yatati siddhaye
yatatm api siddhn kahchin m vetti tattvata`,hindi_meaning:"     ,                    ",meaning:"Out of many thousands among men, one may endeavor for perfection, and of those who have achieved perfection, hardly one knows Me in truth."},{id:284,verse_number:4,chapter_number:7,text:`      |
     ||-||`,transliteration:`bhmir po nalo vyu kha mano buddhir eva cha
ahakra itya me bhinn prakitir ahadh`,hindi_meaning:"                       ,    ",meaning:"Earth, water, fire, air, ether, mind, intelligence and false egoall together these eight constitute My separated material energies."},{id:285,verse_number:5,chapter_number:7,text:`     |
     ||-||`,transliteration:`apareyam itas tv any prakiti viddhi me parm
jva-bht mah-bho yayeda dhryate jagat`,hindi_meaning:"       ,           ",meaning:"Besides these, O mighty-armed Arjuna, there is another, superior energy of Mine, which comprises the living entities who are exploiting the resources of this material, inferior nature."},{id:286,verse_number:6,chapter_number:7,text:`   |
     ||-||`,transliteration:`etad-yonni bhtni sarvty upadhraya
aha kitsnasya jagata prabhava pralayas tath`,hindi_meaning:" !                 ,      ",meaning:"All created beings have their source in these two natures. Of all that is material and all that is spiritual in this world, know for certain that I am both the origin and the dissolution."},{id:287,verse_number:7,chapter_number:7,text:`    |
      ||-||`,transliteration:`matta paratara nnyat kichid asti dhanajaya
mayi sarvam ida prota stre mai-ga iva`,hindi_meaning:"  :  !      ,    ,    ?    ,       ?",meaning:"O conqueror of wealth, there is no truth superior to Me. Everything rests upon Me, as pearls are strung on a thread."},{id:288,verse_number:8,chapter_number:7,text:`    |
      ||-||`,transliteration:`raso ham apsu kaunteya prabhsmi hahi-sryayo
praava sarva-vedehu habda khe pauruha nihu`,hindi_meaning:"   :  !               ,     ",meaning:"O son of Kunti, I am the taste of water, the light of the sun and the moon, the syllable om in the Vedic mantras; I am the sound in ether and ability in man."},{id:289,verse_number:9,chapter_number:7,text:`      |
    ||-||`,transliteration:`puyo gandha pithivy cha tejah chsmi vibhvasau
jvana sarva-bhtehu tapah chsmi tapasvihu`,hindi_meaning:"     ,     ,  ,      ,    ",meaning:"I am the original fragrance of the earth, and I am the heat in fire. I am the life of all that lives, and I am the penances of all ascetics."},{id:290,verse_number:10,chapter_number:7,text:`      |
  ||-||`,transliteration:`bja m sarva-bhtn viddhi prtha santanam
buddhir buddhimatm asmi tejas tejasvinm aham`,hindi_meaning:"      , -    ,     ",meaning:"O son of Pritha, know that I am the original seed of all existences, the intelligence of the intelligent, and the prowess of all powerful men."},{id:291,verse_number:11,chapter_number:7,text:`    |
    ||-||`,transliteration:`bala balavat chha kma-rga-vivarjitam
dharmviruddho bhtehu kmo smi bharatarhabha`,hindi_meaning:"     -  ,         ,    ",meaning:"I am the strength of the strong, devoid of passion and desire. I am sex life which is not contrary to religious principles, O lord of the Bharatas [Arjuna]."},{id:292,verse_number:12,chapter_number:7,text:`      |
        ||-||`,transliteration:`ye chaiva sttvik bhv rjass tmash cha ye
matta eveti tn viddhi na tv aha tehu te mayi`,hindi_meaning:"-         ,                 ",meaning:"Know that all states of beingbe they of goodness, passion or ignoranceare manifested by My energy. I am, in one sense, everything, but I am independent. I am not under the modes of material nature, for they, on the contrary, are within Me."},{id:293,verse_number:13,chapter_number:7,text:`   |
    ||-||`,transliteration:`tribhir gua-mayair bhvair ebhi sarvam ida jagat
mohita nbhijnti mm ebhya param avyayam`,hindi_meaning:" !             ",meaning:"Deluded by the three modes [goodness, passion and ignorance], the whole world does not know Me, who am above the modes and inexhaustible."},{id:294,verse_number:14,chapter_number:7,text:`      |
      ||-||`,transliteration:`daiv hy eh gua-may mama my duratyay
mm eva ye prapadyante mym et taranti te`,hindi_meaning:" !            ,    ",meaning:"This divine energy of Mine, consisting of the three modes of material nature, is difficult to overcome. But those who have surrendered unto Me can easily cross beyond it."},{id:295,verse_number:15,chapter_number:7,text:`      |
   ||-||`,transliteration:`na m duhkitino mh prapadyante nardham
myaypahita-jn sura bhvam hrit`,hindi_meaning:" !       ,                    ",meaning:"Those miscreants who are grossly foolish, who are lowest among mankind, whose knowledge is stolen by illusion, and who partake of the atheistic nature of demons do not surrender unto Me."},{id:296,verse_number:16,chapter_number:7,text:`     |
     ||-||`,transliteration:`chatur-vidh bhajante m jan sukitino rjuna
rto jijsur arthrth jn cha bharatarhabha`,hindi_meaning:"     ,      ,                      ",meaning:"O best among the Bharatas, four kinds of pious men begin to render devotional service unto Methe distressed, the desirer of wealth, the inquisitive, and he who is searching for knowledge of the Absolute."},{id:297,verse_number:17,chapter_number:7,text:`    |
       ||-||`,transliteration:`teh jn nitya-yukta eka-bhaktir vihihyate
priyo hi jnino tyartham aha sa cha mama priya`,hindi_meaning:"       , -   ,      ,     ",meaning:"Of these, the one who is in full knowledge and who is always engaged in pure devotional service is the best. For I am very dear to him, and he is dear to Me."},{id:298,verse_number:18,chapter_number:7,text:`       |
      ||-||`,transliteration:`udr sarva evaite jn tv tmaiva me matam
sthita sa hi yukttm mm evnuttam gatim`,hindi_meaning:"                     ",meaning:"All these devotees are undoubtedly magnanimous souls, but he who is situated in knowledge of Me I consider to be just like My own self. Being engaged in My transcendental service, he is sure to attain Me, the highest and most perfect goal."},{id:299,verse_number:19,chapter_number:7,text:`    |
     ||-||`,transliteration:`bahn janmanm ante jnavn m prapadyate
vsudeva sarvam iti sa mahtm su-durlabha`,hindi_meaning:"      ,                       ?",meaning:"After many births and deaths, he who is actually in knowledge surrenders unto Me, knowing Me to be the cause of all causes and all that is. Such a great soul is very rare."},{id:300,verse_number:20,chapter_number:7,text:`  |
      ||-||`,transliteration:`kmais tais tair hita-jn prapadyante nya-devat
ta ta niyamam sthya prakity niyat svay`,hindi_meaning:"   ,          -  ,        ",meaning:"Those whose intelligence has been stolen by material desires surrender unto demigods and follow the particular rules and regulations of worship according to their own natures."},{id:301,verse_number:21,chapter_number:7,text:`       |
     ||-||`,transliteration:`yo yo y y tanu bhakta hraddhayrchitum ichchhati
tasya tasychal hraddh tm eva vidadhmy aham`,hindi_meaning:" !       -     ,    ",meaning:"I am in everyones heart as the Supersoul. As soon as one desires to worship some demigod, I make his faith steady so that he can devote himself to that particular deity."},{id:302,verse_number:22,chapter_number:7,text:`    |
      ||-||`,transliteration:`sa tay hraddhay yuktas tasyrdhanam hate
labhate cha tata kmn mayaiva vihitn hi tn`,hindi_meaning:"      ,               ,       ",meaning:"Endowed with such a faith, he endeavors to worship a particular demigod and obtains his desires. But in actuality these benefits are bestowed by Me alone."},{id:303,verse_number:23,chapter_number:7,text:`    |
     ||-||`,transliteration:`antavat tu phala teh tad bhavaty alpa-medhasm
devn deva-yajo ynti mad-bhakt ynti mm api`,hindi_meaning:"       -   ,            ,     ",meaning:"Men of small intelligence worship the demigods, and their fruits are limited and temporary. Those who worship the demigods go to the planets of the demigods, but My devotees ultimately reach My supreme planet."},{id:304,verse_number:24,chapter_number:7,text:`    |
   ||-||`,transliteration:`avyakta vyaktim panna manyante mm abuddhaya
para bhvam ajnanto mamvyayam anuttamam`,hindi_meaning:" !      ,      ,     ",meaning:"Unintelligent men, who do not know Me perfectly, think that I, the Supreme Personality of Godhead, Krishna, was impersonal before and have now assumed this personality. Due to their small knowledge, they do not know My higher nature, which is imperishable and supreme."},{id:305,verse_number:25,chapter_number:7,text:`    |
    ||-||`,transliteration:`nha prakha sarvasya yoga-my-samvita
mho ya nbhijnti loko mm ajam avyayam`,hindi_meaning:" !                 ,    ,  -    ",meaning:"I am never manifest to the foolish and unintelligent. For them I am covered by My internal potency, and therefore they do not know that I am unborn and infallible."},{id:306,verse_number:26,chapter_number:7,text:`    |
        ||-||`,transliteration:`vedha samattni vartamnni chrjuna
bhavihyi cha bhtni m tu veda na kahchana`,hindi_meaning:"  :  !  !        ()  ,           ?",meaning:"O Arjuna, as the Supreme Personality of Godhead, I know everything that has happened in the past, all that is happening in the present, and all things that are yet to come. I also know all living entities; but Me no one knows."},{id:307,verse_number:27,chapter_number:7,text:`   |
     ||-||`,transliteration:`ichchh-dveha-samutthena dvandva-mohena bhrata
sarva-bhtni sammoha sarge ynti parantapa`,hindi_meaning:"               ,     ",meaning:"O scion of Bharata, O conqueror of the foe, all living entities are born into delusion, bewildered by the dualities arising from desire and hate."},{id:308,verse_number:28,chapter_number:7,text:`     |
     ||-||`,transliteration:`yeh tv anta-gata ppa jann puya-karmam
te dvandva-moha-nirmukt bhajante m diha-vrat`,hindi_meaning:"   :   !         -         ",meaning:"Persons who have acted piously in previous lives and in this life and whose sinful actions are completely eradicated are freed from the dualities of delusion, and they engage themselves in My service with determination."},{id:309,verse_number:29,chapter_number:7,text:`    |
      ||-||`,transliteration:`jar-maraa-mokhya mm hritya yatanti ye
te brahma tad vidu kitsnam adhytma karma chkhilam`,hindi_meaning:"                    ",meaning:"Intelligent persons who are endeavoring for liberation from old age and death take refuge in Me in devotional service. They are actually Brahman because they entirely know everything about transcendental activities."},{id:310,verse_number:30,chapter_number:7,text:`      |
     ||-||`,transliteration:`sdhibhtdhidaiva m sdhiyaja cha ye vidu
praya-kle pi cha m te vidur yukta-chetasa`,hindi_meaning:"         ,             ",meaning:"Those in full consciousness of Me, who know Me, the Supreme Lord, to be the governing principle of the material manifestation, of the demigods, and of all methods of sacrifice, can understand and know Me, the Supreme Personality of Godhead, even at the time of death."}]},{id:8,name:"",name_meaning:"The Yoga of the Imperishable Brahman",chapter_number:8,verses_count:28,summary:"Arjuna asks several questions about Brahman, karma, and the nature of the divine. Krishna answers these and explains how one can attain the supreme abode by remembering Him at the time of death.",verses:[{id:311,verse_number:1,chapter_number:8,text:`  |
      |
     ||-||`,transliteration:`arjuna uvcha
ki tad brahma kim adhytma ki karma puruhottama
adhibhta cha ki proktam adhidaiva kim uchyate`,hindi_meaning:"         -    ,      ",meaning:"Arjuna inquired: O my Lord, O Supreme Person, what is Brahman? What is the self? What are fruitive activities? What is this material manifestation? And what are the demigods? Please explain this to me."},{id:312,verse_number:2,chapter_number:8,text:`    |
     ||-||`,transliteration:`adhiyaja katha ko tra dehe smin madhusdana
praya-kle cha katha jeyo si niyattmabhi`,hindi_meaning:" !              ,   ",meaning:"Who is the Lord of sacrifice, and how does He live in the body, O Madhusudana? And how can those engaged in devotional service know You at the time of death?"},{id:313,verse_number:3,chapter_number:8,text:` |
    |
   ||-||`,transliteration:`hr bhagavn uvcha
akhara brahma parama svabhvo dhytmam uchyate
bhta-bhvodbhava-karo visarga karma-sajita`,hindi_meaning:"   ,               -    ",meaning:"The Supreme Personality of Godhead said: The indestructible, transcendental living entity is called Brahman, and his eternal nature is called adhyatma, the self. Action pertaining to the development of the material bodies of the living entities is called karma, or fruitive activities."},{id:314,verse_number:4,chapter_number:8,text:`    |
    ||-||`,transliteration:`adhibhta kharo bhva puruhah chdhidaivatam
adhiyajo ham evtra dehe deha-bhit vara`,hindi_meaning:" !                   ,   ",meaning:"O best of the embodied beings, the physical nature, which is constantly changing, is called adhibhuta [the material manifestation]. The universal form of the Lord, which includes all the demigods, like the sun and moon, is called adhidaiva. And I, the Supreme Lord, represented as the Supersoul in the heart of every embodied being, am called adhiyajna [the Lord of sacrifice]."},{id:315,verse_number:5,chapter_number:8,text:`     |
       ||-||`,transliteration:`anta-kle cha mm eva smaran muktv kalevaram
ya prayti sa mad-bhva yti nsty atra sahaya`,hindi_meaning:"        :            (     ) ",meaning:"And whoever, at the end of his life, quits his body, remembering Me alone, at once attains My nature. Of this there is no doubt."},{id:316,verse_number:6,chapter_number:8,text:`      |
     ||-||`,transliteration:`ya ya vpi smaran bhva tyajaty ante kalevaram
ta tam evaiti kaunteya sad tad-bhva-bhvita`,hindi_meaning:"            -         ",meaning:"Whatever state of being one remembers when he quits his body, O son of Kunti, that state he will attain without fail."},{id:317,verse_number:7,chapter_number:8,text:`     |
 ||-||`,transliteration:`tasmt sarvehu klehu mm anusmara yudhya cha
mayy arpita-mano-buddhir mm evaihyasy asahayam`,hindi_meaning:"                     ,   ",meaning:"Therefore, Arjuna, you should always think of Me in the form of Krishna and at the same time carry out your prescribed duty of fighting. With your activities dedicated to Me and your mind and intelligence fixed on Me, you will attain Me without doubt."},{id:318,verse_number:8,chapter_number:8,text:`   |
     ||-||`,transliteration:`abhysa-yoga-yuktena chetas nnya-gmin
parama puruha divya yti prthnuchintayan`,hindi_meaning:"            ,       ,     ",meaning:"He who meditates on Me as the Supreme Personality of Godhead, his mind constantly engaged in remembering Me, undeviated from the path, he, O Partha, is sure to reach Me."},{id:319,verse_number:9,chapter_number:8,text:` 
 |
 -
   ||-||`,transliteration:`kavi puram anuhsitra
aor aynsam anusmared ya
sarvasya dhtram achintya-rpam
ditya-vara tamasa parastt`,hindi_meaning:"      ,       ,           ",meaning:"One should meditate upon the Supreme Person as the one who knows everything, as He who is the oldest, who is the controller, who is smaller than the smallest, who is the maintainer of everything, who is beyond all material conception, who is inconceivable, and who is always a person. He is luminous like the sun, and He is transcendental, beyond this material nature."},{id:484,verse_number:10,chapter_number:8,text:` 
    |
  
     ||-||`,transliteration:`praya-kle manaschalena
bhakty yukto yoga-balena chaiva
bhruvor madhye pram vehya samyak
sa ta para puruham upaiti divyam`,hindi_meaning:"     ,   ()            ",meaning:"One who, at the time of death, fixes his life air between the eyebrows and, by the strength of yoga, engages himself in remembering the Supreme Lord with full devotion, will certainly attain to the Supreme Personality of Godhead."},{id:485,verse_number:11,chapter_number:8,text:`  
   |
  
    ||-||`,transliteration:`yad akhara veda-vido vadanti
vihanti yad yatayo vta-rg
yad ichchhanto brahmacharya charanti
tat te pada sagrahea pravakhye`,hindi_meaning:" !          ,        -    ,     ",meaning:"Persons who are learned in the Vedas, who utter omkara and who are great sages in the renounced order enter into Brahman. Desiring such perfection, one practices celibacy. I shall now briefly explain to you this process by which one may attain salvation."},{id:486,verse_number:12,chapter_number:8,text:`      |
   ||-||`,transliteration:`sarva-dvri sayamya mano hidi nirudhya cha
mrdhny dhytmana pram sthito yoga-dhram`,hindi_meaning:"      ,          ,      ",meaning:"The yogic situation is that of detachment from all sensual engagements. Closing all the doors of the senses and fixing the mind on the heart and the life air at the top of the head, one establishes himself in yoga."},{id:487,verse_number:13,chapter_number:8,text:`   |
       ||-||`,transliteration:`o ity ekkhara brahma vyharan mm anusmaran
ya prayti tyajan deha sa yti param gatim`,hindi_meaning:"                           ",meaning:"After being situated in this yoga practice and vibrating the sacred syllable om, the supreme combination of letters, if one thinks of the Supreme Personality of Godhead and quits his body, he will certainly reach the spiritual planets."},{id:488,verse_number:14,chapter_number:8,text:`      |
     ||-||`,transliteration:`ananya-chet satata yo m smarati nityaha
tasyha sulabha prtha nitya-yuktasya yogina`,hindi_meaning:"    ,               ",meaning:"For one who always remembers Me without deviation, I am easy to obtain, O son of Pritha, because of his constant engagement in devotional service."},{id:489,verse_number:15,chapter_number:8,text:`   |
     ||-||`,transliteration:`mm upetya punar janma dukhlayam ahhvatam
npnuvanti mahtmna sasiddhi param gat`,hindi_meaning:"                     ",meaning:"After attaining Me, the great souls, who are yogis in devotion, never return to this temporary world, which is full of miseries, because they have attained the highest perfection."},{id:490,verse_number:16,chapter_number:8,text:`  |
      ||-||`,transliteration:`-brahma-bhuvanl lok punar vartino rjuna
mm upetya tu kaunteya punar janma na vidyate`,hindi_meaning:"     ,            ,     ",meaning:"From the highest planet in the material world down to the lowest, all are places of misery wherein repeated birth and death take place. But one who attains to My abode, O son of Kunti, never takes birth again."},{id:491,verse_number:17,chapter_number:8,text:`  |
    ||-||`,transliteration:`sahasra-yuga-paryantam ahar yad brahmao vidu
rtri yuga-sahasrnt te ho-rtra-vido jan`,hindi_meaning:" !         ,            ,        ",meaning:"By human calculation, a thousand ages taken together form the duration of Brahmas one day. And such also is the duration of his night."},{id:492,verse_number:18,chapter_number:8,text:`   |
   ||-||`,transliteration:`avyaktd vyaktaya sarv prabhavanty ahar-game
rtry-game pralyante tatraivvyakta-sajake`,hindi_meaning:" !      ,              ",meaning:"At the beginning of Brahmas day, all living entities become manifest from the unmanifest state, and thereafter, when the night falls, they are merged into the unmanifest again."},{id:493,verse_number:19,chapter_number:8,text:`      |
   ||-||`,transliteration:`bhta-grma sa evya bhtv bhtv pralyate
rtry-game vaha prtha prabhavaty ahar-game`,hindi_meaning:" !          ,              ,   ",meaning:"Again and again, when Brahmas day arrives, all living entities come into being, and with the arrival of Brahmas night they are helplessly annihilated."},{id:494,verse_number:20,chapter_number:8,text:`  |
       ||-||`,transliteration:`paras tasmt tu bhvo nyo vyakto vyaktt santana
ya sa sarvehu bhtehu nahyatsu na vinahyati`,hindi_meaning:"                    ",meaning:"Yet there is another unmanifest nature, which is eternal and is transcendental to this manifested and unmanifested matter. It is supreme and is never annihilated. When all in this world is annihilated, that part remains as it is."},{id:495,verse_number:21,chapter_number:8,text:`    |
       ||-||`,transliteration:`avyakto khara ity uktas tam hu param gatim
ya prpya na nivartante tad dhma parama mama`,hindi_meaning:"     ,       ,            ",meaning:"That which the Vedantists describe as unmanifest and infallible, that which is known as the supreme destination, that place from which, having attained it, one never returnsthat is My supreme abode."},{id:496,verse_number:22,chapter_number:8,text:`      |
     ||-||`,transliteration:`puruha sa para prtha bhakty labhyas tv ananyay
yasynta-sthni bhtni yena sarvam ida tatam`,hindi_meaning:" !          ,                ",meaning:"The Supreme Personality of Godhead, who is greater than all, is attainable by unalloyed devotion. Although He is present in His abode, He is all-pervading, and everything is situated within Him."},{id:497,verse_number:23,chapter_number:8,text:`     |
      ||-||`,transliteration:`yatra kle tv anvittim vitti chaiva yogina
prayt ynti ta kla vakhymi bharatarhabha`,hindi_meaning:" !      ,           ,    ,    ",meaning:"O best of the Bharatas, I shall now explain to you the different times at which, passing away from this world, the yogi does or does not come back."},{id:498,verse_number:24,chapter_number:8,text:`    |
      ||-||`,transliteration:`agnir jyotir aha hukla ha-ms uttaryaam
tatra prayt gachchhanti brahma brahma-vido jan`,hindi_meaning:"     ,             ,            ",meaning:"Those who know the Supreme Brahman attain that Supreme by passing away from the world during the influence of the fiery god, in the light, at an auspicious moment of the day, during the fortnight of the waxing moon, or during the six months when the sun travels in the north."},{id:499,verse_number:25,chapter_number:8,text:`     |
     ||-||`,transliteration:`dhmo rtris tath kiha ha-ms dakhiyanam
tatra chndramasa jyotir yog prpya nivartate`,hindi_meaning:" !      ,   ,  ,                 ",meaning:"The mystic who passes away from this world during the smoke, the night, the fortnight of the waning moon, or the six months when the sun passes to the south reaches the moon planet but again comes back."},{id:500,verse_number:26,chapter_number:8,text:`      |
   ||-||`,transliteration:`hukla-kihe gat hy ete jagata hhvate mate
ekay yty anvittim anyayvartate puna`,hindi_meaning:" !         ,     ,     ",meaning:"According to Vedic opinion, there are two ways of passing from this worldone in light and one in darkness. When one passes in light, he does not come back; but when one passes in darkness, he returns."},{id:501,verse_number:27,chapter_number:8,text:`      |
    ||-||`,transliteration:`naite sit prtha jnan yog muhyati kahchana
tasmt sarvehu klehu yoga-yukto bhavrjuna`,hindi_meaning:"         ,     ",meaning:"Although the devotees know these two paths, O Arjuna, they are never bewildered. Therefore be always fixed in devotion."},{id:502,verse_number:28,chapter_number:8,text:`   
   |
  
    ||-||`,transliteration:`vedehu yajehu tapasu chaiva
dnehu yat puya-phala pradiham
atyeti tat sarvam ida viditv
yog para sthnam upaiti chdyam`,hindi_meaning:"        ,           ?",meaning:"A person who accepts the path of devotional service is not bereft of the results derived from studying the Vedas, performing austere sacrifices, giving charity or pursuing philosophical and fruitive activities. Simply by performing devotional service, he attains all these, and at the end he reaches the supreme eternal abode."}]},{id:9,name:"",name_meaning:"The Yoga of the Kingly Science and the Kingly Secret",chapter_number:9,verses_count:34,summary:"Krishna reveals the 'king of all knowledge,' the most confidential wisdom about His supreme nature. He explains that all beings are in Him, but He is not in them, and describes the path of pure devotion (Bhakti Yoga).",verses:[{id:320,verse_number:1,chapter_number:9,text:` |
     |
    ||-||`,transliteration:`hr bhagavn uvcha
ida tu te guhyatama pravakhymy anasyave
jna vijna-sahita yaj jtv mokhyase hubht`,hindi_meaning:"  -   -    ,         ",meaning:"The Supreme Personality of Godhead said: My dear Arjuna, because you are never envious of Me, I shall impart to you this most confidential knowledge and realization, knowing which you shall be relieved of the miseries of material existence."},{id:321,verse_number:2,chapter_number:9,text:`   |
    ||-||`,transliteration:`rja-vidy rja-guhya pavitram idam uttamam
pratyakhvagama dharmya su-sukha kartum avyayam`,hindi_meaning:"    ,     ,              ",meaning:"This knowledge is the king of education, the most secret of all secrets. It is the purest knowledge, and because it gives direct perception of the self by realization, it is the perfection of religion. It is everlasting, and it is joyfully performed."},{id:322,verse_number:3,chapter_number:9,text:`    |
    ||-||`,transliteration:`ahraddadhn puruh dharmasysya parantapa
aprpya m nivartante mityu-sasra-vartmani`,hindi_meaning:"  :  !            ,       ?",meaning:"Those who are not faithful in this devotional service cannot attain Me, O conqueror of enemies. Therefore they return to the path of birth and death in this material world."},{id:323,verse_number:4,chapter_number:9,text:`    |
     ||-||`,transliteration:`may tatam ida sarva jagad avyakta-mrtin
mat-sthni sarva-bhtni na chha tehv avasthita`,hindi_meaning:"   :   ,   ,                   ",meaning:"By Me, in My unmanifested form, this entire universe is pervaded. All beings are in Me, but I am not in them."},{id:324,verse_number:5,chapter_number:9,text:`       |
     ||-||`,transliteration:`na cha mat-sthni bhtni pahya me yogam aihvaram
bhta-bhin na cha bhta-stho mamtm bhta-bhvana`,hindi_meaning:"   ,          ,         ",meaning:"And yet everything that is created does not rest in Me. Behold My mystic opulence! Although I am the maintainer of all living entities and although I am everywhere, I am not a part of this cosmic manifestation, for My Self is the very source of creation."},{id:325,verse_number:6,chapter_number:9,text:`     |
    ||-||`,transliteration:`yathkha-sthito nitya vyu sarvatra-go mahn
tath sarvi bhtni mat-sthnty upadhraya`,hindi_meaning:" !          ,          ",meaning:"Understand that as the mighty wind, blowing everywhere, rests always in the sky, all created beings rest in Me."},{id:326,verse_number:7,chapter_number:9,text:`     |
    ||-||`,transliteration:`sarva-bhtni kaunteya prakiti ynti mmikm
kalpa-khaye punas tni kalpdau visijmy aham`,hindi_meaning:",                  ",meaning:"O son of Kunti, at the end of the millennium all material manifestations enter into My nature, and at the beginning of another millennium, by My potency, I create them again."},{id:327,verse_number:8,chapter_number:9,text:`     |
   ||-||`,transliteration:`prakiti svm avahabhya visijmi puna puna
bhta-grmam ima kitsnam avaha prakiter vaht`,hindi_meaning:" !               ,       ",meaning:"The whole cosmic order is under Me. Under My will it is automatically manifested again and again, and under My will it is annihilated at the end."},{id:328,verse_number:9,chapter_number:9,text:`       |
   ||-||`,transliteration:`na cha m tni karmi nibadhnanti dhanajaya
udsna-vad snam asakta tehu karmasu`,hindi_meaning:" !     ,           ",meaning:"O Dhananjaya, all this work cannot bind Me. I am ever detached from all these material activities, seated as though neutral."},{id:329,verse_number:10,chapter_number:9,text:`    |
   ||-||`,transliteration:`maydhyakhea prakiti syate sa-charcharam
hetunnena kaunteya jagad viparivartate`,hindi_meaning:"  !                ,        ",meaning:"This material nature, which is one of My energies, is working under My direction, O son of Kunti, producing all moving and nonmoving beings. Under its rule this manifestation is created and annihilated again and again."},{id:330,verse_number:11,chapter_number:9,text:`     |
    ||-||`,transliteration:`avajnanti m mh mnuh tanum hritam
para bhvam ajnanto mama bhta-mahehvaram`,hindi_meaning:"   :       ,                             ",meaning:"Fools deride Me when I descend in the human form. They do not know My transcendental nature as the Supreme Lord of all that be."},{id:331,verse_number:12,chapter_number:9,text:`    |
     ||-||`,transliteration:`moghh mogha-karmo mogha-jn vichetasa
rkhasm sur chaiva prakiti mohin hrit`,hindi_meaning:"     ,  ,    ;           ",meaning:"Those who are thus bewildered are attracted by demonic and atheistic views. In that deluded condition, their hopes for liberation, their fruitive activities, and their culture of knowledge are all defeated."},{id:332,verse_number:13,chapter_number:9,text:`     |
   ||-||`,transliteration:`mahtmnas tu m prtha daiv prakitim hrit
bhajanty ananya-manaso jtv bhtdim avyayam`,hindi_meaning:"     () ,      ,                    ",meaning:"O son of Pritha, those who are not deluded, the great souls, are under the protection of the divine nature. They are fully engaged in devotional service because they know Me as the Supreme Personality of Godhead, original and inexhaustible."},{id:333,verse_number:14,chapter_number:9,text:`     |
     ||-||`,transliteration:`satata krtayanto m yatantah cha diha-vrat
namasyantah cha m bhakty nitya-yukt upsate`,hindi_meaning:" !      -, -  -  ,    !    ",meaning:"Always chanting My glories, endeavoring with great determination, bowing down before Me, these great souls perpetually worship Me with devotion."},{id:334,verse_number:15,chapter_number:9,text:`    |
    ||-||`,transliteration:`jna-yajena chpy anye yajanto mm upsate
ekatvena pithaktvena bahudh vihvato-mukham`,hindi_meaning:" !     (-)   ,  -      ,     ",meaning:"Others, who engage in sacrifice by the cultivation of knowledge, worship the Supreme Lord as the one without a second, as diverse in many, and in the universal form."},{id:335,verse_number:16,chapter_number:9,text:`    |
  ||-||`,transliteration:`aha kratur aha yaja svadhham aham auhadham
mantro ham aham evjyam aham agnir aha hutam`,hindi_meaning:"  ,      ()         ()     ",meaning:"But it is I who am the ritual, I the sacrifice, the offering to the ancestors, the healing herb, the transcendental chant. I am the butter and the fire and the offering."},{id:336,verse_number:17,chapter_number:9,text:`     |
     ||-||`,transliteration:`pitham asya jagato mt dht pitmaha
vedya pavitram okra ik sma yajur eva cha`,hindi_meaning:"         ,            ",meaning:"I am the father of this universe, the mother, the support and the grandsire. I am the object of knowledge, the purifier and the syllable om. I am also the Rig, the Sama and the Yajur Vedas."},{id:337,verse_number:18,chapter_number:9,text:`      |
     ||-||`,transliteration:`gatir bhart prabhu skh nivsa haraa suhit
prabhava pralaya sthna nidhna bjam avyayam`,hindi_meaning:" !   ,          ;    ",meaning:"I am the goal, the sustainer, the master, the witness, the abode, the refuge and the most dear friend. I am the creation and the annihilation, the basis of everything, the resting place and the eternal seed."},{id:338,verse_number:19,chapter_number:9,text:`    |
    ||-||`,transliteration:`tapmy aham aha varha nigihmy utsijmi cha
amita chaiva mityuh cha sad asach chham arjuna`,hindi_meaning:"          ,    ;             ",meaning:"O Arjuna, I give heat, and I withhold and send forth the rain. I am immortality, and I am also death personified. Both spirit and matter are in Me."},{id:339,verse_number:20,chapter_number:9,text:`   
   |
  
   ||-||`,transliteration:`trai-vidy m soma-p pta-pp
yajair ihv svar-gati prrthayante
te puyam sdya surendra-lokam
ahnanti divyn divi deva-bhogn`,hindi_meaning:"              ,        , ,              ",meaning:"Those who study the Vedas and drink the soma juice, seeking the heavenly planets, worship Me indirectly. Purified of sinful reactions, they take birth on the pious, heavenly planet of Indra, where they enjoy godly delights."},{id:340,verse_number:21,chapter_number:9,text:`    
    |
 
   ||-||`,transliteration:`te ta bhuktv svarga-loka vihla
khe puye martya-loka vihanti
eva tray-dharmam anuprapann
gatgata kma-km labhante`,hindi_meaning:" !    ,       ,           ?",meaning:"When they have thus enjoyed vast heavenly sense pleasure and the results of their pious activities are exhausted, they return to this mortal planet again. Thus those who seek sense enjoyment by adhering to the principles of the three Vedas achieve only repeated birth and death."},{id:341,verse_number:22,chapter_number:9,text:`     |
    ||-||`,transliteration:`ananyh chintayanto m ye jan paryupsate
teh nitybhiyuktn yoga-khema vahmy aham`,hindi_meaning:"          ,    ()          ",meaning:"But those who always worship Me with exclusive devotion, meditating on My transcendental formto them I carry what they lack, and I preserve what they have."},{id:342,verse_number:23,chapter_number:9,text:`   |
    ||-||`,transliteration:`ye py anya-devat-bhakt yajante hraddhaynvit
te pi mm eva kaunteya yajanty avidhi-prvakam`,hindi_meaning:"      ,    ,          ",meaning:"Those who are devotees of other gods and who worship them with faith actually worship only Me, O son of Kunti, but they do so in a wrong way."},{id:343,verse_number:24,chapter_number:9,text:`       |
     ||-||`,transliteration:`aha hi sarva-yajn bhokt cha prabhur eva cha
na tu mm abhijnanti tattventah chyavanti te`,hindi_meaning:" , ,      , , ,    ",meaning:"I am the only enjoyer and master of all sacrifices. Therefore, those who do not recognize My true transcendental nature fall down."},{id:344,verse_number:25,chapter_number:9,text:`    |
      ||-||`,transliteration:`ynti deva-vrat devn pitn ynti piti-vrat
bhtni ynti bhtejy ynti mad-yjino pi mm`,hindi_meaning:" ,                ",meaning:"Those who worship the demigods will take birth among the demigods; those who worship the ancestors go to the ancestors; those who worship ghosts and spirits will take birth among such beings; and those who worship Me will live with Me."},{id:345,verse_number:26,chapter_number:9,text:`        |
   ||-||`,transliteration:`patra puhpa phala toya yo me bhakty prayachchhati
tad aha bhakty-upahitam ahnmi prayattmana`,hindi_meaning:" !             ,         ",meaning:"If one offers Me with love and devotion a leaf, a flower, a fruit or water, I will accept it."},{id:346,verse_number:27,chapter_number:9,text:`     |
    ||-||`,transliteration:`yat karohi yad ahnsi yaj juhohi dadsi yat
yat tapasyasi kaunteya tat kuruhva mad-arpaam`,hindi_meaning:"                       ",meaning:"Whatever you do, whatever you eat, whatever you offer or give away, and whatever austerities you performdo that, O son of Kunti, as an offering to Me."},{id:347,verse_number:28,chapter_number:9,text:`   |
   ||-||`,transliteration:`hubhhubha-phalair eva mokhyase karma-bandhanai
sannysa-yoga-yukttm vimukto mm upaihyasi`,hindi_meaning:" !     ,              ?",meaning:"In this way you will be freed from bondage to work and its auspicious and inauspicious results. With your mind fixed on Me in this principle of renunciation, you will be liberated and come to Me."},{id:348,verse_number:29,chapter_number:9,text:`       |
         ||-||`,transliteration:`samo ha sarva-bhtehu na me dvehyo sti na priya
ye bhajanti tu m bhakty mayi te tehu chpy aham`,hindi_meaning:"      ,      ,             ",meaning:"I envy no one, nor am I partial to anyone. I am equal to all. But whoever renders service unto Me in devotion is a friend, is in Me, and I am also a friend to him."},{id:349,verse_number:30,chapter_number:9,text:`    |
      ||-||`,transliteration:`api chet su-durchro bhajate mm ananya-bhk
sdhur eva sa mantavya samyag vyavasito hi sa`,hindi_meaning:" !                     ",meaning:"Even if one commits the most abominable action, if he is engaged in devotional service he is to be considered saintly because he is properly situated in his determination."},{id:350,verse_number:31,chapter_number:9,text:`     |
      ||-||`,transliteration:`khipra bhavati dharmtm hahvach-chhnti nigachchhati
kaunteya pratijnhi na me bhakta praahyati`,hindi_meaning:" !           ;            ",meaning:"He quickly becomes righteous and attains lasting peace. O son of Kunti, declare it boldly that My devotee never perishes."},{id:351,verse_number:32,chapter_number:9,text:`       |
      ||-||`,transliteration:`m hi prtha vyaphritya ye pi syu ppa-yonaya
striyo vaihys tath hdrs te pi ynti par gatim`,hindi_meaning:" !         ,               ",meaning:"O son of Pritha, those who take shelter in Me, though they be of lower birthwomen, vaisyas [merchants] and sudras [laborers]can approach the supreme destination."},{id:352,verse_number:33,chapter_number:9,text:`     |
     ||-||`,transliteration:`ki punar brhma puy bhakt rjarhayas tath
anityam asukha lokam ima prpya bhajasva mm`,hindi_meaning:"      ,           ",meaning:"How much more this is so of the righteous brahmanas, the devotees and the saintly kings. Therefore, having come to this temporary, miserable world, engage in loving service unto Me."},{id:353,verse_number:34,chapter_number:9,text:`      |
   ||-||`,transliteration:`man-man bhava mad-bhakto mad-yj m namaskuru
mm evaihyasi yuktvaivam tmna mat-paryaa`,hindi_meaning:"             ,     ",meaning:"Engage your mind always in thinking of Me, become My devotee, offer obeisances to Me and worship Me. Being completely absorbed in Me, surely you will come to Me."}]},{id:10,name:"",name_meaning:"The Yoga of Divine Glories",chapter_number:10,verses_count:42,summary:"Arjuna asks to hear more about Krishna's divine glories. Krishna describes His opulences, explaining that He is the source of all gods and sages and is manifest in the best of everything in creation.",verses:[{id:354,verse_number:1,chapter_number:10,text:` |
       |
    ||-||`,transliteration:`hr bhagavn uvcha
bhya eva mah-bho hiu me parama vacha
yat te ha pryamya vakhymi hita-kmyay`,hindi_meaning:"             ",meaning:"The Supreme Personality of Godhead said: Listen again, O mighty-armed Arjuna. Because you are My dear friend, for your benefit I shall speak to you further, giving knowledge that is better than what I have already explained."},{id:355,verse_number:2,chapter_number:10,text:`       |
     ||-||`,transliteration:`na me vidu sura-ga prabhava na maharhaya
aham dir hi devn maharh cha sarvaha`,hindi_meaning:"                      ?",meaning:"Neither the hosts of demigods nor the great sages know My origin or opulences, for, in every respect, I am the source of the demigods and sages."},{id:356,verse_number:3,chapter_number:10,text:`     |
     ||-||`,transliteration:`yo mm ajam andi cha vetti loka-mahehvaram
asammha sa martyehu sarva-ppai pramuchyate`,hindi_meaning:" !    ,     ;   ,           ",meaning:"He who knows Me as the unborn, as the beginningless, as the Supreme Lord of all the worldshe only, undeluded among men, is freed from all sins."},{id:357,verse_number:4,chapter_number:10,text:`     |
      ||-||`,transliteration:`buddhir jnam asammoha kham satya dama hama
sukha dukha bhavo bhvo bhaya chbhayam eva cha`,hindi_meaning:"-, -, -                 ",meaning:"Intelligence, knowledge, freedom from doubt and delusion, forgiveness, truthfulness, control of the senses, control of the mind, happiness and distress, birth, death, fear, fearlessness..."},{id:358,verse_number:5,chapter_number:10,text:`     |
      ||-||`,transliteration:`ahis samat tuhis tapo dna yaho yaha
bhavanti bhv bhtn matta eva pithag-vidh`,hindi_meaning:" !       ()     ,        ",meaning:"Nonviolence, equanimity, satisfaction, austerity, charity, fame and infamyall these various qualities of living beings are created by Me alone."},{id:359,verse_number:6,chapter_number:10,text:`     |
       ||-||`,transliteration:`maharhaya sapta prve chatvro manavas tath
mad-bhv mnas jt yeh loka im praj`,hindi_meaning:"            ,         ",meaning:"The seven great sages and before them the four other great sages and the Manus [progenitors of mankind] come from Me, born from My mind, and all the living beings populating the various planets descend from them."},{id:360,verse_number:7,chapter_number:10,text:`        |
     ||-||`,transliteration:`et vibhti yoga cha mama yo vetti tattvata
so vikampena yogena yujyate ntra sahaya`,hindi_meaning:" !        ,          ",meaning:"One who is factually convinced of this opulence and mystic power of Mine engages in unalloyed devotional service; of this there is no doubt."},{id:361,verse_number:8,chapter_number:10,text:`      |
      ||-||`,transliteration:`aha sarvasya prabhavo matta sarva pravartate
iti matv bhajante m budh bhva-samanvit`,hindi_meaning:" !                 ,     ",meaning:"I am the source of all spiritual and material worlds. Everything emanates from Me. The wise who perfectly know this engage in My devotional service and worship Me with all their hearts."},{id:362,verse_number:9,chapter_number:10,text:`    |
       ||-||`,transliteration:`mach-chitt mad-gata-pr bodhayanta parasparam
kathayantah cha m nitya tuhyanti cha ramanti cha`,hindi_meaning:"       ,     ,  -      ",meaning:"The thoughts of My pure devotees dwell in Me, their lives are fully devoted to My service, and they derive great satisfaction and bliss from always enlightening one another and conversing about Me."},{id:363,verse_number:10,chapter_number:10,text:`    |
      ||-||`,transliteration:`teh satata-yuktn bhajat prti-prvakam
dadmi buddhi-yoga ta yena mm upaynti te`,hindi_meaning:"         ,     ",meaning:"To those who are constantly devoted to serving Me with love, I give the understanding by which they can come to Me."},{id:364,verse_number:11,chapter_number:10,text:`  |
   ||-||`,transliteration:`tehm evnukamprtham aham ajna-ja tama
nhaymy tma-bhva-stho jna-dpena bhsvat`,hindi_meaning:"   (, , )      !        ,     ,        -   ",meaning:"To show them special mercy, I, dwelling in their hearts, destroy with the shining lamp of knowledge the darkness born of ignorance."},{id:365,verse_number:12,chapter_number:10,text:`  |
       |
    ||-||`,transliteration:`arjuna uvcha
para brahma para dhma pavitra parama bhavn
puruha hhvata divyam di-devam aja vibhum`,hindi_meaning:"         ,               ",meaning:"Arjuna said: You are the Supreme Personality of Godhead, the ultimate abode, the purest, the Absolute Truth. You are the eternal, transcendental, original person, the unborn, the greatest."},{id:366,verse_number:13,chapter_number:10,text:`   |
       ||-||`,transliteration:`hus tvm ihaya sarve devarhir nradas tath
asito devalo vysa svaya chaiva bravhi me`,hindi_meaning:"      ,                     ",meaning:"All the great sages such as Narada, Asita, Devala and Vyasa confirm this truth about You, and now You Yourself are declaring it to me."},{id:367,verse_number:14,chapter_number:10,text:`     |
       ||-||`,transliteration:`sarvam etad ita manye yan m vadasi kehava
na hi te bhagavan vyakti vidur dev na dnav`,hindi_meaning:" !      , -         ",meaning:"O Krishna, I totally accept as truth all that You have told me. Neither the demigods nor the demons, O Lord, can understand Your personality."},{id:368,verse_number:15,chapter_number:10,text:`    |
    ||-||`,transliteration:`svayam evtmantmna vettha tva puruhottama
bhta-bhvana bhteha deva-deva jagat-pate`,hindi_meaning:" !          ()       ,        ",meaning:"Indeed, You alone know Yourself by Your own internal potency, O Supreme Person, origin of all, Lord of all beings, God of gods, Lord of the universe!"},{id:369,verse_number:16,chapter_number:10,text:`   |
   ||-||`,transliteration:`vaktum arhasy ahehea divy hy tma-vibhtaya
ybhir vibhtibhir lokn ims tva vypya tihhasi`,hindi_meaning:"     ,                    ",meaning:"Please tell me in detail of Your divine opulences by which You pervade all these worlds."},{id:370,verse_number:17,chapter_number:10,text:`     |
      ||-||`,transliteration:`katha vidym aha yogis tv sad parichintayan
kehu kehu cha bhvehu chintyo si bhagavan may`,hindi_meaning:"                       ,    ",meaning:"O Krishna, O supreme mystic, how shall I constantly think of You, and how shall I know You? In what various forms are You to be remembered, O Supreme Personality of Godhead?"},{id:371,verse_number:18,chapter_number:10,text:`     |
      ||-||`,transliteration:`vistaretmano yoga vibhti cha janrdana
bhya kathaya tiptir hi hivato nsti me mitam`,hindi_meaning:"       ,           ",meaning:"O Janardana, again please describe in detail the mystic power of Your opulences. I am never satiated in hearing about You, for the more I hear the more I want to taste the nectar of Your words."},{id:372,verse_number:19,chapter_number:10,text:` |
     |
     ||-||`,transliteration:`hr bhagavn uvcha
hanta te kathayihymi divy hy tma-vibhtaya
prdhnyata kuru-hrehha nsty anto vistarasya me`,hindi_meaning:" !                 ,      ",meaning:"The Supreme Personality of Godhead said: Yes, I will tell you of My splendorous manifestations, but only of those which are prominent, O Arjuna, for My opulence is limitless."},{id:373,verse_number:20,chapter_number:10,text:`   |
      ||-||`,transliteration:`aham tm gukeha sarva-bhthaya-sthita
aham dih cha madhya cha bhtnm anta eva cha`,hindi_meaning:"  :  !      ,    ,    ?    ,       ?",meaning:"I am the Supersoul, O Arjuna, seated in the hearts of all living entities. I am the beginning, the middle and the end of all beings."},{id:374,verse_number:21,chapter_number:10,text:`   |
   ||-||`,transliteration:`ditynm aha vihur jyotih ravir ahumn
marchir marutm asmi nakhatrm aha hah`,hindi_meaning:"   :  !               ,     ",meaning:"Of the Adityas I am Vishnu, of lights I am the radiant sun, of the Maruts I am Marici, and among the stars I am the moon."},{id:375,verse_number:22,chapter_number:10,text:`    |
    ||-||`,transliteration:`vedn sma-vedo smi devnm asmi vsava
indriy manah chsmi bhtnm asmi chetan`,hindi_meaning:"     ,     ,  ,      ,    ",meaning:"Of the Vedas I am the Sama Veda; of the demigods I am Indra, the king of heaven; of the senses I am the mind; and in living beings I am the living force [consciousness]."},{id:376,verse_number:23,chapter_number:10,text:`    |
    ||-||`,transliteration:`rudr hakarah chsmi vitteho yakha-rakhasm
vasn pvakah chsmi meru hikharim aham`,hindi_meaning:"      , -    ,     ",meaning:"Of all the Rudras I am Lord Shiva, of the Yaksas and Raksasas I am the Lord of wealth [Kuvera], of the Vasus I am fire [Agni], and of mountains I am Meru."},{id:377,verse_number:24,chapter_number:10,text:`       |
    ||-||`,transliteration:`purodhas cha mukhya m viddhi prtha bihaspatim
sennnm aha skanda sarasm asmi sgara`,hindi_meaning:"     -  ,         ,    ",meaning:"Of priests, O Arjuna, know Me to be the chief, Brihaspati. Of generals I am Kartikeya, and of bodies of water I am the ocean."},{id:378,verse_number:25,chapter_number:10,text:`   |
    ||-||`,transliteration:`maharh bhigur aha girm asmy ekam akharam
yajn japa-yajo smi sthvar himlaya`,hindi_meaning:"-         ,                 ",meaning:"Of the great sages I am Bhrigu; of vibrations I am the transcendental om. Of sacrifices I am the chanting of the holy names [japa], and of immovable things I am the Himalayas."},{id:379,verse_number:26,chapter_number:10,text:`     |
     ||-||`,transliteration:`ahvattha sarva-vikh devarh cha nrada
gandharv chitraratha siddhn kapilo muni`,hindi_meaning:" !             ",meaning:"Of all trees I am the banyan tree, and of the sages among the demigods I am Narada. Of the Gandharvas I am Citraratha, and among perfected beings I am the sage Kapila."},{id:380,verse_number:27,chapter_number:10,text:`   |
     ||-||`,transliteration:`uchchaihravasam ahvn viddhi mm amitodbhavam
airvata gajendr nar cha nardhipam`,hindi_meaning:" !            ,    ",meaning:"Of horses know Me to be Uccaihsrava, produced during the churning of the ocean for nectar. Of lordly elephants I am Airavata, and among men I am the monarch."},{id:381,verse_number:28,chapter_number:10,text:`    |
    ||-||`,transliteration:`yudhnm aha vajra dhennm asmi kmadhuk
prajanah chsmi kandarpa sarpm asmi vsuki`,hindi_meaning:" !       ,                    ",meaning:"Of weapons I am the thunderbolt; among cows I am the surabhi. Of causes for procreation I am Kandarpa, the god of love, and of serpents I am Vasuki."},{id:382,verse_number:29,chapter_number:10,text:`    |
    ||-||`,transliteration:`anantah chsmi ngn varuo ydasm aham
pitm aryam chsmi yama sayamatm aham`,hindi_meaning:"     ,      ,                      ",meaning:"Of the many-hooded Nagas I am Ananta, and among the aquatics I am the demigod Varuna. Of departed ancestors I am Aryama, and among the dispensers of law I am Yama, the lord of death."},{id:383,verse_number:30,chapter_number:10,text:`    |
     ||-||`,transliteration:`prahldah chsmi daityn kla kalayatm aham
mig cha migendro ha vainateyah cha pakhim`,hindi_meaning:"       , -   ,      ,     ",meaning:"Among the Daitya demons I am the devoted Prahlada, among subduers I am time, among beasts I am the lion, and among birds I am Garuda."},{id:384,verse_number:31,chapter_number:10,text:`    |
    ||-||`,transliteration:`pavana pavatm asmi rma hastra-bhitm aham
jhah makarah chsmi srotasm asmi jhnav`,hindi_meaning:"                     ",meaning:"Of purifiers I am the wind, of the wielders of weapons I am Rama, of fishes I am the shark, and of flowing rivers I am the Ganges."},{id:385,verse_number:32,chapter_number:10,text:`   |
    ||-||`,transliteration:`sargm dir antah cha madhya chaivham arjuna
adhytma-vidy vidyn vda pravadatm aham`,hindi_meaning:"      ,                       ?",meaning:"Of all creations I am the beginning and the end and also the middle, O Arjuna. Of all sciences I am the spiritual science of the self, and among logicians I am the conclusive truth."},{id:386,verse_number:33,chapter_number:10,text:`    |
    ||-||`,transliteration:`akharm a-kro smi dvandva smsikasya cha
aham evkhaya klo dhtha vihvato-mukha`,hindi_meaning:"   ,          -  ,        ",meaning:"Of letters I am the letter A, and among compound words I am the dual compound. I am also inexhaustible time, and of creators I am Brahma."},{id:387,verse_number:34,chapter_number:10,text:`   |
      ||-||`,transliteration:`mityu sarva-harah chham udbhavah cha bhavihyatm
krti hrr vk cha nr smitir medh dhiti kham`,hindi_meaning:" !       -     ,    ",meaning:"I am all-devouring death, and I am the generating principle of all that is yet to be. Among women I am fame, fortune, fine speech, memory, intelligence, steadfastness and patience."},{id:388,verse_number:35,chapter_number:10,text:`     |
   ||-||`,transliteration:`bihat-sma tath smn gyatr chhandasm aham
msn mrga-hrho ham itn kusumkara`,hindi_meaning:"      ,               ,       ",meaning:"Of the hymns in the Sama Veda I am the Brihat-sama, and of poetry I am the Gayatri. Of months I am Margasirsa [November-December], and of seasons I am flower-bearing spring."},{id:389,verse_number:36,chapter_number:10,text:`   |
    ||-||`,transliteration:`dyta chhalayatm asmi tejas tejasvinm aham
jayo smi vyavasyo smi sattva sattvavatm aham`,hindi_meaning:"       -   ,            ,     ",meaning:"I am also the gambling of cheats, and of the splendid I am the splendor. I am victory, I am adventure, and I am the strength of the strong."},{id:390,verse_number:37,chapter_number:10,text:`    |
    ||-||`,transliteration:`vihn vsudevo smi pavn dhanajaya
munnm apy aha vysa kavnm uhan kavi`,hindi_meaning:" !      ,      ,     ",meaning:"Of the descendants of Vrishni I am Vasudeva, and of the Pandavas I am Arjuna. Of the sages I am Vyasa, and among great thinkers I am Usana."},{id:391,verse_number:38,chapter_number:10,text:`    |
     ||-||`,transliteration:`dao damayatm asmi ntir asmi jighatm
mauna chaivsmi guhyn jna jnavatm aham`,hindi_meaning:" !                 ,    ,  -    ",meaning:"Among all means of suppressing lawlessness I am punishment, and of those who seek victory I am morality. Of secret things I am silence, and of the wise I am the wisdom."},{id:392,verse_number:39,chapter_number:10,text:`    |
      ||-||`,transliteration:`yach chpi sarva-bhtn bja tad aham arjuna
na tad asti vin yat syn may bhta charcharam`,hindi_meaning:"  :  !  !        ()  ,           ?",meaning:"Furthermore, O Arjuna, I am the generating seed of all existences. There is no beingmoving or nonmovingthat can exist without Me."},{id:393,verse_number:40,chapter_number:10,text:`     |
     ||-||`,transliteration:`nnto sti mama divyn vibhtn parantapa
eha tddehata prokto vibhter vistaro may`,hindi_meaning:"               ,     ",meaning:"O mighty conqueror of enemies, there is no end to My divine manifestations. What I have spoken to you is but a mere indication of My infinite opulences."},{id:394,verse_number:41,chapter_number:10,text:`   |
    ||-||`,transliteration:`yad yad vibhtimat sattva hrmad rjitam eva v
tat tad evvagachchha tva mama tejo-ha-sambhavam`,hindi_meaning:"   :   !         -         ",meaning:"Know that all opulent, beautiful and glorious creations spring from but a spark of My splendor."},{id:395,verse_number:42,chapter_number:10,text:`     |
    ||-||`,transliteration:`athav bahunaitena ki jtena tavrjuna
vihabhyham ida kitsnam ekhena sthito jagat`,hindi_meaning:"                    ",meaning:"But what need is there, Arjuna, for all this detailed knowledge? With a single fragment of Myself I pervade and support this entire universe."}]},{id:11,name:"",name_meaning:"The Yoga of the Vision of the Cosmic Form",chapter_number:11,verses_count:55,summary:"Arjuna requests to see Krishna's universal form (Vishvarupa). Krishna grants him divine vision and reveals His awe-inspiring, cosmic form, which contains all universes and all beings. Overwhelmed, Arjuna offers prayers and asks Krishna to return to His gentle, four-armed form.",verses:[{id:396,verse_number:1,chapter_number:11,text:`  |
   |
     ||-||`,transliteration:`arjuna uvcha
mad-anugrahya parama guhyam adhytma-sajitam
yat tvayokta vachas tena moho ya vigato mama`,hindi_meaning:"         ,             ",meaning:"Arjuna said: By my hearing the instructions You have kindly given me about these most confidential spiritual subjects, my illusion has now been dispelled."},{id:397,verse_number:2,chapter_number:11,text:`      |
    ||-||`,transliteration:`bhavpyayau hi bhtn hrutau vistaraho may
tvatta kamala-patrkha mhtmyam api chvyayam`,hindi_meaning:"         -    ,      ",meaning:"O lotus-eyed one, I have heard from You in detail about the appearance and disappearance of every living entity and have realized Your inexhaustible glories."},{id:398,verse_number:3,chapter_number:11,text:`   |
    ||-||`,transliteration:`evam etad yathttha tvam tmna paramehvara
drahum ichchhmi te rpam aihvara puruhottama`,hindi_meaning:" !              ,   ",meaning:"O greatest of all personalities, O supreme form, though I see You here before me in Your actual position, as You have described Yourself, I wish to see how You have entered into this cosmic manifestation. I want to see that form of Yours."},{id:399,verse_number:4,chapter_number:11,text:`      |
     ||-||`,transliteration:`manyase yadi tach chhakya may drahum iti prabho
yogehvara tato me tva darhaytmnam avyayam`,hindi_meaning:"   ,               -    ",meaning:"If You think that I am able to behold Your cosmic form, O my Lord, O master of all mystic power, then kindly show me that universal Self."},{id:400,verse_number:5,chapter_number:11,text:` |
      |
    ||-||`,transliteration:`hr bhagavn uvcha
pahya me prtha rpi hataho tha sahasraha
nn-vidhni divyni nn-varkitni cha`,hindi_meaning:" !                   ,   ",meaning:"The Supreme Personality of Godhead said: My dear Arjuna, O son of Pritha, see now My opulences, hundreds of thousands of varied divine and multicolored forms."},{id:401,verse_number:6,chapter_number:11,text:`  |
   ||-||`,transliteration:`pahydityn vasn rudrn ahvinau marutas tath
bahny adiha-prvi pahyhcharyi bhrata`,hindi_meaning:"        :            (     ) ",meaning:"O best of the Bharatas, see here the different manifestations of Adityas, Vasus, Rudras, Asvini-kumaras and all the other demigods. Behold the many wonderful things which no one has ever seen or heard of before."},{id:402,verse_number:7,chapter_number:11,text:`    |
    ||-||`,transliteration:`ihaika-stha jagat kitsna pahydya sa-charcharam
mama dehe gukeha yach chnyad drahum ichchhasi`,hindi_meaning:"            -         ",meaning:"O Arjuna, whatever you wish to see, behold at once in this body of Mine! This universal form can show you whatever you now desire to see and whatever you may want to see in the future. Everythingmoving and nonmovingis here completely, in one place."},{id:403,verse_number:8,chapter_number:11,text:`      |
       ||-||`,transliteration:`na tu m hakyase drahum anenaiva sva-chakhuh
divya dadmi te chakhu pahya me yogam aihvaram`,hindi_meaning:"                     ,   ",meaning:"But you cannot see Me with your present eyes. Therefore I give you divine eyes. Behold My mystic opulence!"},{id:404,verse_number:9,chapter_number:11,text:`  |
    |
    ||-||`,transliteration:`sajaya uvcha
evam uktv tato rjan mah-yogehvaro hari
darhaym sa prthya parama rpam aihvaram`,hindi_meaning:"            ,       ,     ",meaning:"Sanjaya said: O King, having spoken thus, the Supreme Lord of all mystic power, the Personality of Godhead, displayed His universal form to Arjuna."},{id:405,verse_number:10,chapter_number:11,text:` |
  ||-||`,transliteration:`aneka-vaktra-nayanam anekdbhuta-darhanam
aneka-divybharaa divynekodyatyudham`,hindi_meaning:"      ,       ,           ",meaning:"Arjuna saw in that universal form unlimited mouths, unlimited eyes, unlimited wonderful visions. The form was decorated with many celestial ornaments and bore many divine upraised weapons."},{id:406,verse_number:11,chapter_number:11,text:`  |
   ||-||`,transliteration:`divya-mlymbara-dhara divya-gandhnulepanam
sarvhcharya-maya devam ananta vihvato-mukham`,hindi_meaning:"     ,   ()            ",meaning:"He wore celestial garlands and garments, and many divine scents were smeared over His body. All was wondrous, brilliant, unlimited, all-expanding."},{id:407,verse_number:12,chapter_number:11,text:`   |
      ||-||`,transliteration:`divi srya-sahasrasya bhaved yugapad utthit
yadi bh sadih s syd bhsas tasya mahtmana`,hindi_meaning:" !          ,        -    ,     ",meaning:"If hundreds of thousands of suns were to rise at once into the sky, their radiance might resemble the effulgence of the Supreme Person in that universal form."},{id:408,verse_number:13,chapter_number:11,text:`   |
   ||-||`,transliteration:`tatraika-stha jagat kitsna pravibhaktam anekadh
apahyad deva-devasya harre pavas tad`,hindi_meaning:"      ,          ,      ",meaning:"At that time Arjuna could see in the universal form of the Lord the unlimited expansions of the universe situated in one place although divided into many, many thousands."},{id:409,verse_number:14,chapter_number:11,text:`     |
    ||-||`,transliteration:`tata sa vismayviho hiha-rom dhanajaya
praamya hiras deva kitjalir abhhata`,hindi_meaning:"                           ",meaning:"Then, bewildered and astonished, his hair standing on end, Arjuna bowed his head to offer obeisances and with folded hands began to pray to the Supreme Lord."},{id:410,verse_number:15,chapter_number:11,text:`  |
   
  |
 
   ||-||`,transliteration:`arjuna uvcha
pahymi devs tava deva dehe
sarvs tath bhta-viheha-saghn
brahmam ha kamalsana-stham
ihh cha sarvn uragh cha divyn`,hindi_meaning:"    ,               ",meaning:"Arjuna said: My dear Lord Krishna, I see assembled in Your body all the demigods and various other living entities. I see Brahma sitting on the lotus flower, as well as Lord Shiva and all the sages and divine serpents."},{id:411,verse_number:16,chapter_number:11,text:`
   |
    
   ||-||`,transliteration:`aneka-bhdara-vaktra-netra
pahymi tv sarvato nanta-rpam
nnta na madhya na punas tavdi
pahymi vihvehvara vihva-rpa`,hindi_meaning:"                     ",meaning:"O Lord of the universe, O universal form, I see in Your body many, many arms, bellies, mouths and eyes, expanded everywhere, without limit. I see in You no end, no middle and no beginning."},{id:412,verse_number:17,chapter_number:11,text:`   
   |
   
 ||-||`,transliteration:`kirina gadina chakria cha
tejo-rhi sarvato dptimantam
pahymi tv durnirkhya samantd
dptnalrka-dyutim aprameyam`,hindi_meaning:"     ,            ,     ",meaning:"Your form is difficult to see because of its glaring effulgence, spreading on all sides, like blazing fire or the immeasurable radiance of the sun. Yet I see this glowing form everywhere, adorned with various crowns, clubs and discs."},{id:413,verse_number:18,chapter_number:11,text:`  
    |
 
    ||-||`,transliteration:`tvam akhara parama veditavya
tvam asya vihvasya para nidhnam
tvam avyaya hhvata-dharma-gopt
santanas tva puruho mato me`,hindi_meaning:" !         ,            ,        ",meaning:"You are the supreme primal objective. You are the ultimate resting place of all this universe. You are inexhaustible, and You are the oldest. You are the maintainer of the eternal religion, the Personality of Godhead. This is my opinion."},{id:414,verse_number:19,chapter_number:11,text:`
  |
  
   ||-||`,transliteration:`andi-madhyntam ananta-vryam
ananta-bhu hahi-srya-netram
pahymi tv dpta-hutha-vaktra
sva-tejas vihvam ida tapantam`,hindi_meaning:" !      ,              ",meaning:"You are without origin, middle or end. Your glory is unlimited. You have numberless arms, and the sun and moon are Your eyes. I see You with blazing fire coming forth from Your mouth, burning this entire universe by Your own radiance."},{id:415,verse_number:20,chapter_number:11,text:` 
    |
  
   ||-||`,transliteration:`dyv -pithivyor idam antara hi
vypta tvayaikena dihah cha sarv
dihvdbhuta rpam ugra taveda
loka-traya pravyathita mahtman`,hindi_meaning:" !          ,              ,   ",meaning:"Although You are one, You spread throughout the sky and the planets and all space between. O great one, seeing this wondrous and terrible form, all the planetary systems are perturbed."},{id:416,verse_number:21,chapter_number:11,text:`    
   |
 
    ||-||`,transliteration:`am hi tv sura-sagh vihanti
kechid bht prjalayo gianti
svastty uktv maharhi-siddha-sagh
stuvanti tv stutibhi puhkalbhi`,hindi_meaning:"                    ",meaning:"All the hosts of demigods are surrendering before You and entering into You. Some of them, very much afraid, are offering prayers with folded hands. Hosts of great sages and perfected beings, crying All peace! are praying to You by singing the Vedic hymns."},{id:417,verse_number:22,chapter_number:11,text:`    
  |

    ||-||`,transliteration:`rudrdity vasavo ye cha sdhy
vihve hvinau marutah chohmaph cha
gandharva-yakhsura-siddha-sagh
vkhante tv vismith chaiva sarve`,hindi_meaning:"     ,       ,            ",meaning:"All the various manifestations of Lord Shiva, the Adityas, the Vasus, the Sadhyas, the Visvedevas, the two Asvis, the Maruts, the forefathers, the Gandharvas, the Yaksas, the Asuras and the perfected demigods are beholding You in wonder."},{id:418,verse_number:23,chapter_number:11,text:`  
  |
 
   ||-||`,transliteration:`rpa mahat te bahu-vaktra-netra
mah-bho bahu-bhru-pdam
bahdara bahu-dahr-karla
dihv lok pravyathits tathham`,hindi_meaning:" !          ,                ",meaning:"O mighty-armed one, all the planets with their demigods are perturbed at seeing Your great form, with its many faces, eyes, arms, thighs, legs, and bellies and Your many terrible teeth; and as they are perturbed, so am I."},{id:419,verse_number:24,chapter_number:11,text:` 
  |
   
      ||-||`,transliteration:`nabha-spiha dptam aneka-vara
vyttnana dpta-vihla-netram
dihv hi tv pravyathitntar-tm
dhiti na vindmi hama cha viho`,hindi_meaning:" !      ,           ,    ,    ",meaning:"O all-pervading Vishnu, seeing You with Your many radiant colors touching the sky, Your gaping mouths, and Your great glowing eyes, my mind is perturbed by fear. I can no longer maintain my steadiness or equilibrium of mind."},{id:420,verse_number:25,chapter_number:11,text:`   
  |
      
   ||-||`,transliteration:`dahr-karlni cha te mukhni
dihvaiva klnala-sannibhni
diho na jne na labhe cha harma
prasda deveha jagan-nivsa`,hindi_meaning:"     ,             ,            ",meaning:"O Lord of lords, O refuge of the worlds, please be gracious to me. I cannot keep my balance seeing thus Your blazing deathlike faces and awful teeth. In all directions I am bewildered."},{id:421,verse_number:26,chapter_number:11,text:`    
  |
  
  ||-||`,transliteration:`am cha tv dhitarhrasya putr
sarve sahaivvani-pla-saghai
bhhmo droa sta-putras tathsau
sahsmadyair api yodha-mukhyai`,hindi_meaning:" !      ,   ,  ,                 ",meaning:"All the sons of Dhritarashtra, along with their allied kings, and Bhishma, Drona, Karnaand our chief soldiers alsoare rushing into Your fearful mouths."},{id:422,verse_number:27,chapter_number:11,text:`   
  |
 
  ||-||`,transliteration:`vaktri te tvaram vihanti
dahr-karlni bhaynakni
kechid vilagn dahanntarehu
sandihyante chritair uttamgai`,hindi_meaning:" !         ,     ,     ",meaning:"And some I see trapped with their heads smashed between Your teeth."},{id:423,verse_number:28,chapter_number:11,text:`  
  |
  
  ||-||`,transliteration:`yath nadn bahavo mbu-veg
samudram evbhimukh dravanti
tath tavm nara-loka-vr
vihanti vaktry abhivijvalanti`,hindi_meaning:"         ,     ",meaning:"As the many waves of the rivers flow into the ocean, so do all these great warriors enter Your blazing mouths."},{id:424,verse_number:29,chapter_number:11,text:`   
   |
   
   ||-||`,transliteration:`yath pradpta jvalana patag
vihanti nhya samiddha-veg
tathaiva nhya vihanti loks
tavpi vaktri samiddha-veg`,hindi_meaning:"        ,           ?",meaning:"I see all people rushing full speed into Your mouths, as moths dash to destruction in a blazing fire."},{id:425,verse_number:30,chapter_number:11,text:`  
 |
 
   ||-||`,transliteration:`lelihyase grasamna samantl
lokn samagrn vadanair jvaladbhi
tejobhir prya jagat samagra
bhsas tavogr pratapanti viho`,hindi_meaning:"  -   -    ,         ",meaning:"O Vishnu, I see You devouring all people from all sides with Your flaming mouths. Covering all the universe with Your effulgence, You are manifest with terrible, scorching rays."},{id:426,verse_number:31,chapter_number:11,text:`   
    |
 
     ||-||`,transliteration:`khyhi me ko bhavn ugra-rpo
namo stu te deva-vara prasda
vijtum ichchhmi bhavantam dya
na hi prajnmi tava pravittim`,hindi_meaning:"    ,     ,              ",meaning:"O Lord of lords, so fierce of form, please tell me who You are. I offer my obeisances unto You; please be gracious to me. You are the primal Lord. I want to know about You, for I do not know what Your mission is."},{id:427,verse_number:32,chapter_number:11,text:` |
 
  |
    
   ||-||`,transliteration:`hr bhagavn uvcha
klo smi loka-khaya-kit praviddho
lokn samhartum iha pravitta
ite pi tv na bhavihyanti sarve
ye vasthit pratyankehu yodh`,hindi_meaning:"  :  !            ,       ?",meaning:"The Supreme Personality of Godhead said: Time I am, the great destroyer of the worlds, and I have come here to destroy all people. With the exception of you [the Pandavas], all the soldiers here on both sides will be slain."},{id:428,verse_number:33,chapter_number:11,text:`  
    |
  
   ||-||`,transliteration:`tasmt tvam uttihha yaho labhasva
jitv hatrn bhukhva rjya samiddham
 Mayaivaita nihat prvam eva
 nimitta-mtra bhava savya-schin`,hindi_meaning:"   :   ,   ,                   ",meaning:"Therefore get up. Prepare to fight and win glory. Conquer your enemies and enjoy a flourishing kingdom. They are already put to death by My arrangement, and you, O Savyasaci, can be but an instrument in the fight."},{id:429,verse_number:34,chapter_number:11,text:`     
   |
    
    ||-||`,transliteration:`droa cha bhhma cha jayadratha cha
kara tathnyn api yodha-vrn
may hats tva jahi m vyathihh
yudhyasva jetsi rae sapatnn`,hindi_meaning:"   ,          ,         ",meaning:"Drona, Bhishma, Jayadratha, Karna and the other great warriors have already been destroyed by Me. Therefore, kill them and do not be disturbed. Simply fight, and you will vanquish your enemies in battle."},{id:430,verse_number:35,chapter_number:11,text:`  |
  
  |
   
   ||-||`,transliteration:`sajaya uvcha
etach chhrutv vachana kehavasya
kitjalir vepamna kir
namaskitv bhya evha kiha
sa-gadgada bhta-bhta praamya`,hindi_meaning:" !          ,          ",meaning:"Sanjaya said to Dhritarashtra: O King, after hearing these words from the Supreme Personality of Godhead, the trembling Arjuna offered obeisances with folded hands again and again. He spoke in a faltering voice, out of great fear."},{id:431,verse_number:36,chapter_number:11,text:`  |
   
  |
   
    ||-||`,transliteration:`arjuna uvcha
sthne hihkeha tava prakrty
jagat prahihyaty anurajyate cha
rakhsi bhtni diho dravanti
sarve namasyanti cha siddha-sagh`,hindi_meaning:",                  ",meaning:"Arjuna said: O master of the senses, the world becomes joyful upon hearing Your name, and thus everyone becomes attached to You. Although the perfected beings offer You their respectful homage, the demons are afraid, and they flee here and there. All this is rightly done."},{id:432,verse_number:37,chapter_number:11,text:`   
  |
  
   ||-||`,transliteration:`kasmch cha te na nameran mahtman
garyase brahmao py di-kartre
ananta deveha jagan-nivsa
tvam akhara sad-asat tat para yat`,hindi_meaning:" !               ,       ",meaning:"O great one, who stands above even Brahma, You are the original master. Why should they not offer their respectful obeisances unto You? O limitless one, God of gods, refuge of the universe! You are the invincible source, the cause of all causes, transcendental to this material manifestation."},{id:433,verse_number:38,chapter_number:11,text:`  
    |
     
   ||-||`,transliteration:`tvam di-deva puruha puras
tvam asya vihvasya para nidhnam
vettsi vedya cha para cha dhma
tvay tata vihvam ananta-rpa`,hindi_meaning:" !     ,           ",meaning:"You are the original Personality of Godhead, the oldest, the ultimate sanctuary of this manifested cosmic world. You are the knower of everything, and You are all that is knowable. You are the supreme refuge, above the material modes. O limitless form! This whole cosmic manifestation is pervaded by You!"},{id:434,verse_number:39,chapter_number:11,text:` 
  |
  
    ||-||`,transliteration:`vyur yamo gnir varua hahka
prajpatis tva prapitmahah cha
namo namas te stu sahasra-kitva
punah cha bhyo pi namo namas te`,hindi_meaning:"  !                ,        ",meaning:"You are air, and You are the supreme controller! You are fire, You are water, and You are the moon! You are Brahma, the first living creature, and You are the great-grandfather. I therefore offer my respectful obeisances unto You a thousand times, and again and yet again!"},{id:435,verse_number:40,chapter_number:11,text:`  
     |

    ||-||`,transliteration:`nama purastd atha pihhatas te
namo stu te sarvata eva sarva
ananta-vrymita-vikramas tva
sarva sampnohi tato si sarva`,hindi_meaning:"   :         ,           ",meaning:"Obeisances to You from the front, from behind and from all sides! O unbounded power, You are the master of limitless might! You are all-pervading, and thus You are everything!"},{id:436,verse_number:41,chapter_number:11,text:`   
      |
  
   ||-||`,transliteration:`sakheti matv prasabha yad ukta
he kiha he ydava he sakheti
ajanat mahimna taveda
may pramdt praayena vpi`,hindi_meaning:"         ,        ",meaning:"Thinking of You as my friend, I have rashly addressed You O Krishna, O Yadava, O my friend, not knowing Your glories. Please forgive whatever I may have done in madness or in love."},{id:437,verse_number:42,chapter_number:11,text:`
 |
 
  ||-||`,transliteration:`yach chvahsrtham asat-kito si
vihra-hayysana-bhojanehu
eko thavpy achyuta tat-samakha
tat khmaye tvm aham aprameyam`,hindi_meaning:" !         ,       ",meaning:"I have dishonored You many times, jesting as we relaxed, lay on the same bed, or sat or ate together, sometimes alone and sometimes in front of many friends. O infallible one, please excuse me for all those offenses."},{id:438,verse_number:43,chapter_number:11,text:`  
   |
  
 ||-||`,transliteration:`pitsi lokasya charcharasya
tvam asya pjyah cha gurur garyn
na tvat-samo sty abhyadhika kuto nyo
loka-traye py apratima-prabhva`,hindi_meaning:"  :                        ?",meaning:"You are the father of this complete cosmic manifestation, of the moving and the nonmoving. You are its worshipable chief, the supreme spiritual master. No one is greater than You, nor can anyone be one with You. How then could there be anyone greater than You within the three worlds, O Lord of immeasurable power?"},{id:439,verse_number:44,chapter_number:11,text:`  
  |
   
    ||-||`,transliteration:`tasmt praamya praidhya kya
prasdaye tvm aham ham yam
piteva putrasya sakheva sakhyu
priya priyyrhasi deva sohum`,hindi_meaning:"   :  !  !             ,    ",meaning:"You are the Supreme Lord, to be worshiped by every living being. Thus I fall down to offer You my respectful obeisances and ask Your mercy. As a father tolerates the impudence of his son, or a friend tolerates the impertinence of a friend, or a husband tolerates the familiarity of his wife, please tolerate the wrongs I may have done You."},{id:440,verse_number:45,chapter_number:11,text:`  
     |
    
   ||-||`,transliteration:`adiha-prva hihito smi dihv
bhayena cha pravyathita mano me
tad eva me darhaya deva rpa
prasda deveha jagan-nivsa`,hindi_meaning:"  ,           ,              ",meaning:"After seeing this universal form, which I have never seen before, I am gladdened, but at the same time my mind is disturbed with fear. Therefore please bestow Your grace upon me and reveal again Your form as the Personality of Godhead, O Lord of lords, O abode of the universe."},{id:441,verse_number:46,chapter_number:11,text:`  
    |
  
   ||-||`,transliteration:`kirina gadina chakra-hastam
ichchhmi tv drahum aha tathaiva
tenaiva rpea chatur-bhujena
sahasra-bho bhava vihva-mrte`,hindi_meaning:" ! -         , -      ",meaning:"O universal form, O thousand-armed Lord, I wish to see You in Your four-armed form, with helmeted head and with club, wheel, conch and lotus flower in Your hands. I long to see You in that form."},{id:442,verse_number:47,chapter_number:11,text:` |
  
   |
 
    ||-||`,transliteration:`hr bhagavn uvcha
may prasannena tavrjuneda
rpa para darhitam tma-yogt
tejo-maya vihvam anantam dya
yan me tvad-anyena na diha-prvam`,hindi_meaning:"  ,           -    ",meaning:"The Supreme Personality of Godhead said: My dear Arjuna, happily have I shown you, by My internal potency, this supreme universal form within the material world. No one before you has ever seen this primal form, unlimited and full of glaring effulgence."},{id:443,verse_number:48,chapter_number:11,text:`  
    |
   
   ||-||`,transliteration:`na veda-yajdhyayanair na dnair
na cha kriybhir na tapobhir ugrai
eva-rpa hakya aha ni-loke
drahu tvad-anyena kuru-pravra`,hindi_meaning:" !           ,         ,     ",meaning:"O best of the Kuru warriors, no one before you has ever seen this universal form of Mine, for neither by studying the Vedas, nor by performing sacrifices, nor by charity, nor by pious activities, nor by severe penances can I be seen in this form in the material world."},{id:444,verse_number:49,chapter_number:11,text:`     
   |
  
    ||-||`,transliteration:`m te vyath m cha vimha-bhvo
dihv rpa ghoram di mamedam
vyapeta-bh prta-man punas tva
tad eva me rpam ida prapahya`,hindi_meaning:",      ,   ,                   ",meaning:"You have been perturbed and bewildered by seeing this horrible feature of Mine. Now let it be finished. My devotee, be free again from all disturbances. With a peaceful mind you can now see the form you desire."},{id:445,verse_number:50,chapter_number:11,text:`  |
 
    |
  
   ||-||`,transliteration:`sajaya uvcha
ity arjuna vsudevas tathoktv
svaka rpa darhaym sa bhya
hvsaym sa cha bhtam ena
bhtv puna saumya-vapur mahtm`,hindi_meaning:"    ,         !           ",meaning:"Sanjaya said to Dhritarashtra: The Supreme Personality of Godhead, Krishna, having spoken thus to Arjuna, displayed His real four-armed form and at last showed His two-armed form, thus encouraging the fearful Arjuna."},{id:446,verse_number:51,chapter_number:11,text:`  |
      |
     ||-||`,transliteration:`arjuna uvcha
dihveda mnuha rpa tava saumya janrdana
idnm asmi savitta sa-chet prakiti gata`,hindi_meaning:"                    ",meaning:"When Arjuna thus saw Krishna in His original form, he said: O Janardana, seeing this humanlike form, so very beautiful, I am now composed in mind, and I am restored to my original nature."},{id:447,verse_number:52,chapter_number:11,text:` |
    |
     ||-||`,transliteration:`hr bhagavn uvcha
su-durdarham ida rpa dihavn asi yan mama
dev apy asya rpasya nitya darhana-kkhia`,hindi_meaning:"               ,         ",meaning:"The Supreme Personality of Godhead said: My dear Arjuna, this form of Mine you are now seeing is very difficult to behold. Even the demigods are ever seeking the opportunity to see this form, which is so dear."},{id:448,verse_number:53,chapter_number:11,text:`       |
      ||-||`,transliteration:`nha vedair na tapas na dnena na chejyay
hakya eva-vidho drahu dihavn asi m yath`,hindi_meaning:"    ,            ,        ",meaning:"The form you are seeing with your transcendental eyes cannot be understood simply by studying the Vedas, nor by undergoing serious penances, nor by charity, nor by worship. It is not by these means that one can see Me as I am."},{id:449,verse_number:54,chapter_number:11,text:`    |
       ||-||`,transliteration:`bhakty tv ananyay hakya aham eva-vidho rjuna
jtu drahu cha tattvena pravehu cha parantapa`,hindi_meaning:"                      ",meaning:"My dear Arjuna, only by undivided devotional service can I be understood as I am, standing before you, and can thus be seen directly. Only in this way can you enter into the mysteries of My understanding."},{id:450,verse_number:55,chapter_number:11,text:`   |
      ||-||`,transliteration:`mat-karma-kin mat-paramo mad-bhakta saga-varjita
nirvaira sarva-bhtehu ya sa mm eti pava`,hindi_meaning:"  ,        -            ",meaning:"My dear Arjuna, he who engages in My pure devotional service, free from the contaminations of fruitive activities and mental speculation, he who works for Me, who makes Me the supreme goal of his life, and who is friendly to every living beinghe certainly comes to Me."}]},{id:12,name:"",name_meaning:"The Yoga of Devotion",chapter_number:12,verses_count:20,summary:"Arjuna asks whether it is better to worship Krishna's personal form or the impersonal, unmanifest Brahman. Krishna declares that the path of devotion to His personal form is the highest and easiest, and He describes the qualities of His dear devotees.",verses:[{id:451,verse_number:1,chapter_number:12,text:`  |
     |
     ||-||`,transliteration:`arjuna uvcha
eva satata-yukt ye bhakts tv paryupsate
ye chpy akharam avyakta teh ke yoga-vittam`,hindi_meaning:"            ,         ,     ",meaning:"Arjuna inquired: Which are considered to be more perfect, those who are always properly engaged in Your devotional service or those who worship the impersonal Brahman, the unmanifested?"},{id:452,verse_number:2,chapter_number:12,text:` |
      |
     ||-||`,transliteration:`hr bhagavn uvcha
mayy vehya mano ye m nitya-yukt upsate
hraddhay parayopets te me yuktatam mat`,hindi_meaning:"             ,          ",meaning:"The Supreme Personality of Godhead said: Those who fix their minds on My personal form and are always engaged in worshiping Me with great and transcendental faith are considered by Me to be most perfect."},{id:453,verse_number:3,chapter_number:12,text:`   |
    ||-||`,transliteration:`ye tv akharam anirdehyam avyakta paryupsate
sarvatra-gam achintya cha ka-stham achala dhruvam`,hindi_meaning:"              ,            ",meaning:"But those who fully worship the unmanifested, that which lies beyond the perception of the senses, the all-pervading, inconceivable, unchanging, fixed and immovablethe impersonal conception of the Absolute Truth..."},{id:454,verse_number:4,chapter_number:12,text:`   |
     ||-||`,transliteration:`sanniyamyendriya-grma sarvatra sama-buddhaya
te prpnuvanti mm eva sarva-bhta-hite rat`,hindi_meaning:"      ,       ,      ,      ",meaning:"...by controlling the various senses and being equally disposed to everyone, such persons, engaged in the welfare of all, at last achieve Me."},{id:455,verse_number:5,chapter_number:12,text:` |
    ||-||`,transliteration:`kleho dhikataras tehm avyaktsakta-chetasm
avyakt hi gatir dukha dehavadbhir avpyate`,hindi_meaning:"     ,   ,       ,  -     ,    ",meaning:"For those whose minds are attached to the unmanifested, impersonal feature of the Supreme, advancement is very troublesome. To make progress in that discipline is always difficult for those who are embodied."},{id:456,verse_number:6,chapter_number:12,text:`       |
     ||-||`,transliteration:`ye tu sarvi karmi mayi sannyasya mat-par
ananyenaiva yogena m dhyyanta upsate`,hindi_meaning:"        ,     ,      -    ,        ",meaning:"But those who worship Me, giving up all their activities unto Me and being devoted to Me without deviation, engaged in devotional service and always meditating upon Me..."},{id:457,verse_number:7,chapter_number:12,text:`   |
   ||-||`,transliteration:`tehm aha samuddhart mityu-sasra-sgart
bhavmi na chirt prtha mayy vehita-chetasm`,hindi_meaning:"           ,             ",meaning:"...having fixed their minds upon Me, O son of Prithafor them I am the swift deliverer from the ocean of birth and death."},{id:458,verse_number:8,chapter_number:12,text:`      |
      ||-||`,transliteration:`mayy eva mana dhatsva mayi buddhi nivehaya
nivasihyasi mayy eva ata rdhva na sahaya`,hindi_meaning:"  ,   ,   ,    -             ",meaning:"Just fix your mind upon Me, the Supreme Personality of Godhead, and engage all your intelligence in Me. Thus you will live in Me always, without a doubt."},{id:459,verse_number:9,chapter_number:12,text:`       |
    ||-||`,transliteration:`atha chitta samdhtu na haknohi mayi sthiram
abhysa-yogena tato mm ichchhptu dhanajaya`,hindi_meaning:"       ,         ",meaning:"My dear Arjuna, O winner of wealth, if you cannot fix your mind upon Me without deviation, then follow the regulative principles of bhakti-yoga. In this way develop a desire to attain Me."},{id:460,verse_number:10,chapter_number:12,text:`   |
   ||-||`,transliteration:`abhyse py asamartho si mat-karma-paramo bhava
mad-artham api karmi kurvan siddhim avpsyasi`,hindi_meaning:"           ,              ",meaning:"If you cannot practice the regulations of bhakti-yoga, then just try to work for Me, because by working for Me you will come to the perfect stage."},{id:461,verse_number:11,chapter_number:12,text:`   |
    ||-||`,transliteration:`athaitad apy ahakto si kartu mad-yogam hrita
sarva-karma-phala-tyga tata kuru yattmavn`,hindi_meaning:"               ",meaning:"If, however, you are unable to work in this consciousness of Me, then try to act giving up all results of your work and try to be self-situated."},{id:462,verse_number:12,chapter_number:12,text:`    |
 ||-||`,transliteration:`hreyo hi jnam abhysj jnd dhyna vihihyate
dhynt karma-phala-tygas tygch chhntir anantaram`,hindi_meaning:"      ,    ,    ,     -       ",meaning:"If you cannot take to this practice, then engage yourself in the cultivation of knowledge. Better than knowledge, however, is meditation, and better than meditation is renunciation of the fruits of action, for by such renunciation one can attain peace of mind."},{id:463,verse_number:13,chapter_number:12,text:`      |
    ||-||`,transliteration:`adveh sarva-bhtn maitra karua eva cha
nirmamo nirahakra sama-dukha-sukha kham`,hindi_meaning:"    ,       ,     -      ",meaning:"One who is not envious but is a kind friend to all living entities, who does not think himself a proprietor and is free from false ego, who is equal in both happiness and distress, who is tolerant..."},{id:464,verse_number:14,chapter_number:12,text:`     |
     ||-||`,transliteration:`santuha satata yog yattm diha-nihchaya
mayy arpita-mano-buddhir yo mad-bhakta sa me priya`,hindi_meaning:" !   ,     ,        ",meaning:"...always satisfied, self-controlled, and engaged in devotional service with determination, his mind and intelligence fixed on Mesuch a devotee of Mine is very dear to Me."},{id:465,verse_number:15,chapter_number:12,text:`     |
      ||-||`,transliteration:`yasmn nodvijate loko lokn nodvijate cha ya
harhmarha-bhayodvegair mukto ya sa cha me priya`,hindi_meaning:" !       ,  ,       ",meaning:"He by whom no one is put into difficulty and who is not disturbed by anyone, who is equipoised in happiness and distress, fear and anxiety, is very dear to Me."},{id:466,verse_number:16,chapter_number:12,text:`    |
      ||-||`,transliteration:`anapekha huchir dakha udsno gata-vyatha
sarvrambha-parityg yo mad-bhakta sa me priya`,hindi_meaning:" !      ,        ",meaning:"My devotee who is not dependent on the ordinary course of activities, who is pure, expert, without cares, free from all pains, and not striving for some result, is very dear to Me."},{id:467,verse_number:17,chapter_number:12,text:`         |
     ||-||`,transliteration:`yo na hihyati na dvehi na hochati na kkhati
hubhhubha-parityg bhaktimn ya sa me priya`,hindi_meaning:" !  ,        ,         ",meaning:"One who neither rejoices nor grieves, who neither laments nor desires, and who renounces both auspicious and inauspicious thingssuch a devotee is very dear to Me."},{id:468,verse_number:18,chapter_number:12,text:`       |
   ||-||`,transliteration:`sama hatrau cha mitre cha tath mnpamnayo
htoha-sukha-dukhehu sama saga-vivarjita`,hindi_meaning:"    ,       ",meaning:"One who is equal to friends and enemies, who is equipoised in honor and dishonor, heat and cold, happiness and distress, fame and infamy, who is always free from contaminating association..."},{id:469,verse_number:19,chapter_number:12,text:`    |
    ||-||`,transliteration:`tulya-nind-stutir maun santuho yena kenachit
aniketa sthira-matir bhaktimn me priyo nara`,hindi_meaning:" !        ,               ",meaning:"...who is always silent and satisfied with anything, who doesnt care for any residence, who is fixed in knowledge and who is engaged in devotional servicesuch a person is very dear to Me."},{id:470,verse_number:20,chapter_number:12,text:`     |
     ||-||`,transliteration:`ye tu dharmymitam ida yathokta paryupsate
hraddadhn mat-param bhakts te tva me priy`,hindi_meaning:"         ,            ",meaning:"Those who follow this imperishable path of devotional service and who completely engage themselves with faith, making Me the supreme goal, are very, very dear to Me."}]},{id:13,name:"",name_meaning:"The Yoga of the Field and the Knower of the Field",chapter_number:13,verses_count:35,summary:"Krishna explains the difference between the physical body (the field, or 'kshetra') and the eternal soul (the knower of the field, or 'kshetrajna'). He describes the components of the material world and the qualities required to attain true knowledge.",verses:[{id:471,verse_number:1,chapter_number:13,text:`  |
      |
     ||-||`,transliteration:`arjuna uvcha
prakiti puruha chaiva khetra khetrajam eva cha
etad veditum ichchhmi jna jeya cha kehava`,hindi_meaning:"        ,          ",meaning:"Arjuna said: O my dear Krishna, I wish to know about nature [prakriti], the enjoyer [purusha], and the field and the knower of the field, and of knowledge and the object of knowledge."},{id:472,verse_number:2,chapter_number:13,text:` |
    |
       ||-||`,transliteration:`hr bhagavn uvcha
ida harra kaunteya khetram ity abhidhyate
etad yo vetti ta prhu khetraja iti tad-vida`,hindi_meaning:"                  ,          ",meaning:"The Supreme Personality of Godhead said: This body, O son of Kunti, is called the field, and one who knows this body is called the knower of the field."},{id:473,verse_number:3,chapter_number:13,text:`      |
    ||-||`,transliteration:`khetraja chpi m viddhi sarva-khetrehu bhrata
khetra-khetrajayor jna yat taj jna mata mama`,hindi_meaning:"          ,                ",meaning:"O scion of Bharata, you should understand that I am also the knower in all bodies, and to understand this body and its knower is called knowledge. That is My opinion."},{id:474,verse_number:4,chapter_number:13,text:`      |
       ||-||`,transliteration:`tat khetra yach cha ydik cha yad-vikri yatah cha yat
sa cha yo yat-prabhvah cha tat samsena me hiu`,hindi_meaning:"     ,              ,       ",meaning:"Now please hear My brief description of this field of activity and how it is constituted, what its changes are, whence it is produced, who that knower of the field of activities is, and what his influences are."},{id:475,verse_number:5,chapter_number:13,text:`    |
  ||-||`,transliteration:`ihibhir bahudh gta chhandobhir vividhai pithak
brahma-stra-padaih chaiva hetumadbhir vinihchitai`,hindi_meaning:" !          ,               ",meaning:"That knowledge of the field of activities and of the knower of activities is described by various sages in various Vedic writings. It is especially presented in Vedanta-sutra with all reasoning as to cause and effect."},{id:476,verse_number:6,chapter_number:13,text:`   |
     ||-||`,transliteration:`mah-bhtny ahakro buddhir avyaktam eva cha
indriyi dahaika cha pacha chendriya-gochar`,hindi_meaning:"                ,  !",meaning:"The five great elements, false ego, intelligence, the unmanifested, the ten senses and the mind, the five sense objects..."},{id:477,verse_number:7,chapter_number:13,text:`      |
   ||-||`,transliteration:`ichchh dveha sukha dukha saghtah chetan dhiti
etat khetra samsena sa-vikram udhitam`,hindi_meaning:"   :       ,                             ",meaning:"Desire, hatred, happiness, distress, the aggregate, the life symptoms, and convictionsall these are considered, in summary, to be the interactions of the field of activities."},{id:478,verse_number:8,chapter_number:13,text:`  |
   ||-||`,transliteration:`amnitvam adambhitvam ahis khntir rjavam
chryopsana haucha sthairyam tma-vinigraha`,hindi_meaning:"     ,  ,    ;           ",meaning:"Humility; pridelessness; nonviolence; tolerance; simplicity; approaching a bona fide spiritual master; cleanliness; steadiness; self-control;"},{id:479,verse_number:9,chapter_number:13,text:`    |
 ||-||`,transliteration:`indriyrthehu vairgyam anahakra eva cha
janma-mityu-jar-vydhi-dukha-dohnudarhanam`,hindi_meaning:"     () ,      ,                    ",meaning:"renunciation of the objects of sense gratification; absence of false ego; the perception of the evil of birth, death, old age and disease;"},{id:480,verse_number:10,chapter_number:13,text:`  |
   ||-||`,transliteration:`asaktir anabhihvaga putra-dra-gihdihu
nitya cha sama-chittatvam ihnihopapattihu`,hindi_meaning:" !      -, -  -  ,    !    ",meaning:"detachment; freedom from entanglement with children, wife, home and the rest; even-mindedness amid pleasant and unpleasant events;"},{id:481,verse_number:11,chapter_number:13,text:`   |
 ||-||`,transliteration:`mayi chnanya-yogena bhaktir avyabhichri
vivikta-deha-sevitvam aratir jana-sasadi`,hindi_meaning:" !     (-)   ,  -      ,     ",meaning:"constant and unalloyed devotion to Me; aspiring to live in a solitary place; detachment from the general mass of people;"},{id:482,verse_number:12,chapter_number:13,text:`  |
   ||-||`,transliteration:`adhytma-jna-nityatva tattva-jnrtha-darhanam
etaj jnam iti proktam ajna yad ato nyath`,hindi_meaning:"  ,      ()         ()     ",meaning:"accepting the importance of self-realization; and philosophical search for the Absolute Truthall these I declare to be knowledge, and besides this whatever there may be is ignorance."},{id:483,verse_number:13,chapter_number:13,text:`   |
    ||-||`,transliteration:`jeya yat tat pravakhymi yaj jtvmitam ahnute
andi mat-para brahma na sat tan nsad uchyate`,hindi_meaning:"         ,            ",meaning:"I shall now explain the knowable, knowing which you will taste the eternal. Brahman, the spirit, beginningless and subordinate to Me, lies beyond the cause and effect of this material world."},{id:484,verse_number:14,chapter_number:13,text:`   |
    ||-||`,transliteration:`sarvata pi-pda tat sarvato khi-hiro-mukham
sarvata hrutimal loke sarvam vitya tihhati`,hindi_meaning:" !   ,          ;    ",meaning:"Everywhere are His hands and legs, His eyes, heads and faces, and He has ears everywhere. In this way the Supersoul exists, pervading everything."},{id:485,verse_number:15,chapter_number:13,text:`  |
     ||-||`,transliteration:`sarvendriya-gubhsa sarvendriya-vivarjitam
asakta sarva-bhich chaiva nirgua gua-bhokti cha`,hindi_meaning:"          ,    ;             ",meaning:"The Supersoul is the original source of all senses, yet He is without senses. He is unattached, although He is the maintainer of all living beings. He transcends the modes of nature, and at the same time He is the master of all the modes of material nature."},{id:486,verse_number:16,chapter_number:13,text:`    |
     ||-||`,transliteration:`bahir antah cha bhtnm achara charam eva cha
skhmatvt tad avijeya dra-stha chntike cha tat`,hindi_meaning:"              ,        , ,              ",meaning:"The Supreme Truth exists outside and inside of all living beings, the moving and the nonmoving. Because He is subtle, He is beyond the power of the material senses to see or to know. Although far, far away, He is also near to all."},{id:487,verse_number:17,chapter_number:13,text:`      |
      ||-||`,transliteration:`avibhakta cha bhtehu vibhaktam iva cha sthitam
bhta-bharti cha taj jeya grasihu prabhavihu cha`,hindi_meaning:" !    ,       ,           ?",meaning:"Although the Supersoul appears to be divided among all beings, He is never divided. He is situated as one. Although He is the maintainer of every living entity, it is to be understood that He devours and develops all."},{id:488,verse_number:18,chapter_number:13,text:`   |
      ||-||`,transliteration:`jyotihm api taj jyotis tamasa param uchyate
jna jeya jna-gamya hidi sarvasya vihhitam`,hindi_meaning:"          ,    ()          ",meaning:"He is the source of light in all luminous objects. He is beyond the darkness of matter and is unmanifested. He is knowledge, He is the object of knowledge, and He is the goal of knowledge. He is situated in everyones heart."},{id:489,verse_number:19,chapter_number:13,text:`       |
   ||-||`,transliteration:`iti khetra tath jna jeya chokta samsata
mad-bhakta etad vijya mad-bhvyopapadyate`,hindi_meaning:"      ,    ,          ",meaning:"Thus the field of activities [the body], knowledge and the knowable have been summarily described by Me. Only My devotees can understand this thoroughly and thus attain to My nature."},{id:490,verse_number:20,chapter_number:13,text:`     |
    ||-||`,transliteration:`prakiti puruha chaiva viddhy and ubhv api
vikrh cha guh chaiva viddhi prakiti-sambhavn`,hindi_meaning:" , ,      , , ,    ",meaning:"Material nature and the living entities should be understood to be beginningless. Their transformations and the modes of matter are products of material nature."},{id:491,verse_number:21,chapter_number:13,text:`   |
    ||-||`,transliteration:`krya-kraa-kartitve hetu prakitir uchyate
puruha sukha-dukhn bhoktitve hetur uchyate`,hindi_meaning:" ,                ",meaning:"Nature is said to be the cause of all material causes and effects, whereas the living entity is the cause of the various sufferings and enjoyments in this world."},{id:492,verse_number:22,chapter_number:13,text:`     |
   ||-||`,transliteration:`puruha prakiti-stho hi bhukte prakiti-jn gun
kraa gua-sago sya sad-asad-yoni-janmasu`,hindi_meaning:" !             ,         ",meaning:"The living entity in material nature thus follows the ways of life, enjoying the three modes of nature. This is due to his association with that material nature. Thus he meets with good and evil among various species."},{id:493,verse_number:23,chapter_number:13,text:`     |
    ||-||`,transliteration:`upadrahnumant cha bhart bhokt mahehvara
paramtmeti chpy ukto dehe smin puruha para`,hindi_meaning:"                       ",meaning:"Yet in this body there is another, a transcendental enjoyer, who is the Lord, the supreme proprietor, who exists as the overseer and permitter, and who is known as the Supersoul."},{id:494,verse_number:24,chapter_number:13,text:`        |
     ||-||`,transliteration:`ya eva vetti puruha prakiti cha guai saha
sarvath vartamno pi na sa bhyo bhijyate`,hindi_meaning:" !     ,              ?",meaning:"One who understands this philosophy concerning material nature, the living entity and the interaction of the modes of nature is sure to attain liberation. He will not take birth here again, regardless of his present position."},{id:495,verse_number:25,chapter_number:13,text:`   |
     ||-||`,transliteration:`dhynentmani pahyanti kechid tmnam tman
anye skhyena yogena karma-yogena chpare`,hindi_meaning:"      ,      ,             ",meaning:"Some perceive the Supersoul within themselves through meditation, others through the cultivation of knowledge, and still others through working without fruitive desires."},{id:496,verse_number:26,chapter_number:13,text:`    |
    ||-||`,transliteration:`anye tv evam ajnanta hrutvnyebhya upsate
te pi chtitaranty eva mityu hruti-parya`,hindi_meaning:" !                     ",meaning:"Again there are those who, although not conversant in spiritual knowledge, begin to worship the Supreme Person upon hearing about Him from others. Because of their tendency to hear from authorities, they also transcend the path of birth and death."},{id:497,verse_number:27,chapter_number:13,text:`   |
  ||-||`,transliteration:`yvat sajyate kichit sattva sthvara-jagamam
khetra-khetraja-sayogt tad viddhi bharatarhabha`,hindi_meaning:" !           ;            ",meaning:"O chief of the Bharatas, know that whatever you see in existence, both the moving and the nonmoving, is only a combination of the field of activities and the knower of the field."},{id:498,verse_number:28,chapter_number:13,text:`     |
     ||-||`,transliteration:`sama sarvehu bhtehu tihhanta paramehvaram
vinahyatsv avinahyanta ya pahyati sa pahyati`,hindi_meaning:" !         ,               ",meaning:"One who sees the Supersoul accompanying the individual soul in all bodies, and who understands that neither the soul nor the Supersoul within the destructible body is ever destroyed, actually sees."},{id:499,verse_number:29,chapter_number:13,text:`    |
      ||-||`,transliteration:`sama pahyan hi sarvatra samavasthitam hvaram
na hinasty tmantmna tato yti par gatim`,hindi_meaning:"      ,           ",meaning:"One who sees the Supersoul equally present everywhere, in every living being, does not degrade himself by his mind. Thus he approaches the transcendental destination."},{id:500,verse_number:30,chapter_number:13,text:`     |
     ||-||`,transliteration:`prakityaiva cha karmi kriyamni sarvaha
ya pahyati tathtmnam akartra sa pahyati`,hindi_meaning:"             ,     ",meaning:"One who can see that all activities are performed by the body, which is created of material nature, and sees that the self does nothing, actually sees."},{id:501,verse_number:31,chapter_number:13,text:`  |
       ||-||`,transliteration:`yad bhta-pithag-bhvam eka-stham anupahyati
tata eva cha vistra brahma sampadyate tad`,hindi_meaning:"             ",meaning:"When a sensible man ceases to see different identities due to different material bodies and he sees how beings are expanded everywhere, he attains to the Brahman conception."},{id:502,verse_number:32,chapter_number:13,text:` |
      ||-||`,transliteration:`anditvn nirguatvt paramtmyam avyaya
harra-stho pi kaunteya na karoti na lipyate`,hindi_meaning:"                      ?",meaning:"Those with the vision of eternity can see that the imperishable soul is transcendental, eternal, and beyond the modes of nature. Despite contact with the material body, O Arjuna, the soul does neither anything nor is entangled."},{id:503,verse_number:33,chapter_number:13,text:`    |
    ||-||`,transliteration:`yath sarva-gata saukhmyd kha nopalipyate
sarvatrvasthito dehe tathtm nopalipyate`,hindi_meaning:" !    ,     ;   ,           ",meaning:"The sky, due to its subtle nature, does not mix with anything, although it is all-pervading. Similarly, the soul situated in Brahman vision does not mix with the body, though situated in that body."},{id:504,verse_number:34,chapter_number:13,text:`     |
      ||-||`,transliteration:`yath prakhayaty eka kitsna lokam ima ravi
khetra khetr tath kitsna prakhayati bhrata`,hindi_meaning:"-, -, -                 ",meaning:"O son of Bharata, as the sun alone illuminates all this universe, so does the living entity, one within the body, illuminate the entire body by consciousness."},{id:505,verse_number:35,chapter_number:13,text:`  |
      ||-||`,transliteration:`khetra-khetrajayor evam antara jna-chakhuh
bhta-prakiti-mokha cha ye vidur ynti te param`,hindi_meaning:" !       ()     ,        ",meaning:"Those who see with eyes of knowledge the difference between the body and the knower of the body, and can also understand the process of liberation from bondage in material nature, attain to the supreme goal."}]},{id:14,name:"",name_meaning:"The Yoga of the Three Gunas",chapter_number:14,verses_count:27,summary:"Krishna explains the three modes (gunas) of material nature: goodness (sattva), passion (rajas), and ignorance (tamas). He describes how these modes bind the soul to the material world and what qualities one must develop to transcend them.",verses:[{id:506,verse_number:1,chapter_number:14,text:` |
     |
      ||-||`,transliteration:`hr bhagavn uvcha
para bhya pravakhymi jnn jnam uttamam
yaj jtv munaya sarve par siddhim ito gat`,hindi_meaning:"            ,         ",meaning:"The Supreme Personality of Godhead said: Again I shall declare to you this supreme wisdom, the best of all knowledge, knowing which all the sages have attained the supreme perfection."},{id:507,verse_number:2,chapter_number:14,text:`    |
      ||-||`,transliteration:`ida jnam uphritya mama sdharmyam gat
sarge pi nopajyante pralaye na vyathanti cha`,hindi_meaning:" !        ,          ",meaning:"By becoming fixed in this knowledge, one can attain to the transcendental nature like My own. Thus established, one is not born at the time of creation or disturbed at the time of dissolution."},{id:508,verse_number:3,chapter_number:14,text:`    |
     ||-||`,transliteration:`mama yonir mahad brahma tasmin garbha dadhmy aham
sambhava sarva-bhtn tato bhavati bhrata`,hindi_meaning:" !                 ,     ",meaning:"The total material substance, called Brahman, is the source of birth, and it is that Brahman that I impregnate, making possible the births of all living beings, O son of Bharata."},{id:509,verse_number:4,chapter_number:14,text:`     |
     ||-||`,transliteration:`sarva-yonihu kaunteya mrtaya sambhavanti y
ts brahma mahad yonir aha bja-prada pit`,hindi_meaning:"       ,     ,  -      ",meaning:"It should be understood that all species of life, O son of Kunti, are made possible by birth in this material nature, and that I am the seed-giving father."},{id:510,verse_number:5,chapter_number:14,text:`     |
    ||-||`,transliteration:`sattva rajas tama iti gu prakiti-sambhav
nibadhnanti mah-bho dehe dehinam avyayam`,hindi_meaning:"         ,     ",meaning:"Material nature consists of three modesgoodness, passion and ignorance. When the eternal living entity comes in contact with nature, O mighty-armed Arjuna, he becomes conditioned by these modes."},{id:511,verse_number:6,chapter_number:14,text:`   |
    ||-||`,transliteration:`tatra sattva nirmalatvt prakhakam anmayam
sukha-sagena badhnti jna-sagena chnagha`,hindi_meaning:"   (, , )      !        ,     ,        -   ",meaning:"O sinless one, the mode of goodness, being purer than the others, is illuminating, and it frees one from all sinful reactions. Those situated in that mode become conditioned by a sense of happiness and knowledge."},{id:512,verse_number:7,chapter_number:14,text:`    |
    ||-||`,transliteration:`rajo rgtmaka viddhi tih-saga-samudbhavam
tan nibadhnti kaunteya karma-sagena dehinam`,hindi_meaning:"         ,               ",meaning:"The mode of passion is born of unlimited desires and longings, O son of Kunti, and because of this the embodied living entity is bound to material fruitive actions."},{id:513,verse_number:8,chapter_number:14,text:`    |
  ||-||`,transliteration:`tamas tv ajna-ja viddhi mohana sarva-dehinm
pramdlasya-nidrbhis tan nibadhnti bhrata`,hindi_meaning:"      ,                     ",meaning:"O son of Bharata, know that the mode of darkness, born of ignorance, is the delusion of all embodied living entities. The results of this mode are madness, indolence and sleep, which bind the conditioned soul."},{id:514,verse_number:9,chapter_number:14,text:`      |
     ||-||`,transliteration:`sattva sukhe sajayati raja karmai bhrata
jnam vitya tu tama pramde sajayaty uta`,hindi_meaning:" !      , -         ",meaning:"O son of Bharata, the mode of goodness conditions one to happiness; passion conditions one to fruitive action; and ignorance, covering ones knowledge, binds one to madness."},{id:515,verse_number:10,chapter_number:14,text:`    |
      ||-||`,transliteration:`rajas tamah chbhibhya sattva bhavati bhrata
raja sattva tamah chaiva tama sattva rajas tath`,hindi_meaning:" !          ()       ,        ",meaning:"Sometimes the mode of goodness becomes prominent, defeating the modes of passion and ignorance, O son of Bharata. Sometimes the mode of passion defeats goodness and ignorance, and at other times ignorance defeats goodness and passion. In this way there is always competition for supremacy."},{id:516,verse_number:11,chapter_number:14,text:`   |
     ||-||`,transliteration:`sarva-dvrehu dehe smin prakha upajyate
jna yad tad vidyd vividdha sattvam ity uta`,hindi_meaning:"     ,                    ",meaning:"The manifestation of the mode of goodness can be experienced when all the gates of the body are illuminated by knowledge."},{id:517,verse_number:12,chapter_number:14,text:`    |
    ||-||`,transliteration:`lobha pravittir rambha karmam ahama spih
rajasy etni jyante vividdhe bharatarhabha`,hindi_meaning:"                       ,    ",meaning:"O chief of the Bharatas, when there is an increase in the mode of passion the symptoms of great attachment, fruitive activity, intense endeavor, and uncontrollable desire and hankering develop."},{id:518,verse_number:13,chapter_number:14,text:`     |
    ||-||`,transliteration:`aprakho pravittih cha pramdo moha eva cha
tamasy etni jyante vividdhe kuru-nandana`,hindi_meaning:"       ,           ",meaning:"When there is an increase in the mode of ignorance, O son of Kuru, darkness, inertia, madness and illusion are manifested."},{id:519,verse_number:14,chapter_number:14,text:`       |
  ||-||`,transliteration:`yad sattve praviddhe tu pralaya yti deha-bhit
tadottama-vid lokn amaln pratipadyate`,hindi_meaning:" !                 ,      ",meaning:"When one dies in the mode of goodness, he attains to the pure higher planets of the great sages."},{id:520,verse_number:15,chapter_number:14,text:`     |
    ||-||`,transliteration:`rajasi pralaya gatv karma-sagihu jyate
tath pralnas tamasi mha-yonihu jyate`,hindi_meaning:"  :  !      ,    ,    ?    ,       ?",meaning:"When one dies in the mode of passion, he takes birth among those engaged in fruitive activities; and when one dies in the mode of ignorance, he takes birth in the animal kingdom."},{id:521,verse_number:16,chapter_number:14,text:`     |
     ||-||`,transliteration:`karmaa sukitasyhu sttvika nirmala phalam
rajasas tu phala dukham ajna tamasa phalam`,hindi_meaning:"   :  !               ,     ",meaning:"The result of pious action is pure and is said to be in the mode of goodness. But action done in the mode of passion results in misery, and action performed in the mode of ignorance results in foolishness."},{id:522,verse_number:17,chapter_number:14,text:`      |
    ||-||`,transliteration:`sattvt sajyate jna rajaso lobha eva cha
pramda-mohau tamaso bhavato jnam eva cha`,hindi_meaning:"     ,     ,  ,      ,    ",meaning:"From the mode of goodness, real knowledge develops; from the mode of passion, greed develops; and from the mode of ignorance develop foolishness, madness and illusion."},{id:523,verse_number:18,chapter_number:14,text:`      |
    ||-||`,transliteration:`rdhva gachchhanti sattva-sth madhye tihhanti rjas
jaghanya-gua-vitti-sth adho gachchhanti tmas`,hindi_meaning:"      , -    ,     ",meaning:"Those situated in the mode of goodness gradually go upward to the higher planets; those in the mode of passion live on the earthly planets; and those in the abominable mode of ignorance go down to the hellish worlds."},{id:524,verse_number:19,chapter_number:14,text:`     |
     ||-||`,transliteration:`nnya guebhya kartra yad drahnupahyati
guebhyah cha para vetti mad-bhva so dhigachchhati`,hindi_meaning:"     -  ,         ,    ",meaning:"When one properly sees that in all activities no other performer is at work than these modes of nature and he knows the Supreme Lord, who is transcendental to all these modes, he attains My spiritual nature."},{id:525,verse_number:20,chapter_number:14,text:`   |
 ||-||`,transliteration:`gun etn attya trn deh deha-samudbhavn
janma-mityu-jar-dukhair vimukto mitam ahnute`,hindi_meaning:"-         ,                 ",meaning:"When the embodied being is able to transcend these three modes associated with the material body, he can become free from birth, death, old age and their distresses and can enjoy nectar even in this life."},{id:526,verse_number:21,chapter_number:14,text:`  |
   |
   ||-||`,transliteration:`arjuna uvcha
kair ligais trn gun etn atto bhavati prabho
kim-chra katha chaits trn gun ativartate`,hindi_meaning:" !             ",meaning:"Arjuna inquired: O my dear Lord, by which signs is one known who is transcendental to these three modes? What is his behavior? And how does he transcend the modes of nature?"},{id:527,verse_number:22,chapter_number:14,text:` |
       |
      ||-||`,transliteration:`hr bhagavn uvcha
prakha cha pravitti cha moham eva cha pava
na dvehi sampravittni na nivittni kkhati`,hindi_meaning:" !            ,    ",meaning:"The Supreme Personality of Godhead said: O son of Pandu, he who does not hate illumination, attachment and delusion when they are present or long for them when they disappear;"},{id:528,verse_number:23,chapter_number:14,text:`    |
     ||-||`,transliteration:`udsna-vad sno guair yo na vichlyate
gu vartanta ity eva yo vatihhati negate`,hindi_meaning:" !       ,                    ",meaning:"who is unwavering and undisturbed through all these reactions of the material qualities, remaining neutral and transcendental, knowing that the modes alone are active;"},{id:529,verse_number:24,chapter_number:14,text:`   |
  ||-||`,transliteration:`sama-dukha-sukha svastha sama-lohrhma-kchana
tulya-priypriyo dhras tulya-nindtma-sastuti`,hindi_meaning:"     ,      ,                      ",meaning:"who is situated in the self and regards alike happiness and distress; who looks upon a lump of earth, a stone and a piece of gold with an equal eye; who is equal toward the desirable and the undesirable; who is steady, situated equally well in praise and blame, honor and dishonor;"},{id:530,verse_number:25,chapter_number:14,text:`  |
    ||-||`,transliteration:`mnpamnayos tulyas tulyo mitrri-pakhayo
sarvrambha-parityg gutta sa uchyate`,hindi_meaning:"       , -   ,      ,     ",meaning:"who treats the friend and the enemy alike; and who has renounced all material activitiessuch a person is said to have transcended the modes of nature."},{id:531,verse_number:26,chapter_number:14,text:`     |
   ||-||`,transliteration:`m cha yo vyabhichrea bhakti-yogena sevate
sa gun samattyaitn brahma-bhyya kalpate`,hindi_meaning:"                     ",meaning:"One who engages in full devotional service, unfailing in all circumstances, at once transcends the modes of material nature and thus comes to the level of Brahman."},{id:532,verse_number:27,chapter_number:14,text:`    |
     ||-||`,transliteration:`brahmao hi pratihhham amitasyvyayasya cha
hhvatasya cha dharmasya sukhasyaikntikasya cha`,hindi_meaning:"      ,                       ?",meaning:"And I am the basis of the impersonal Brahman, which is immortal, imperishable and eternal and is the constitutional position of ultimate happiness."}]},{id:15,name:"",name_meaning:"The Yoga of the Supreme Person",chapter_number:15,verses_count:20,summary:"Krishna uses the metaphor of an upside-down banyan tree to describe the material world. He explains how to cut the roots of this tree with the axe of detachment and surrender to the Supreme Person, thus attaining His eternal abode.",verses:[{id:533,verse_number:1,chapter_number:15,text:` |
  |
       ||-||`,transliteration:`hr bhagavn uvcha
rdhva-mlam adha-hkham ahvattha prhur avyayam
chhandsi yasya parni yas ta veda sa veda-vit`,hindi_meaning:"   ,          -  ,        ",meaning:"The Supreme Personality of Godhead said: It is said that there is an imperishable banyan tree that has its roots upward and its branches down and whose leaves are the Vedic hymns. One who knows this tree is the knower of the Vedas."},{id:534,verse_number:2,chapter_number:15,text:`  
  |
 
  ||-||`,transliteration:`adhah chordhva prasits tasya hkh
gua-praviddh vihaya-pravl
adhah cha mlny anusantatni
karma-nubandhni manuhya-loke`,hindi_meaning:" !       -     ,    ",meaning:"The branches of this tree extend downward and upward, nourished by the three modes of material nature. The twigs are the objects of the senses. This tree also has roots going down, and these are bound to the fruitive actions of human society."},{id:535,verse_number:3,chapter_number:15,text:`  
     |
 
   ||-||`,transliteration:`na rpam asyeha tathopalabhyate
nnto na chdir na cha sampratihh
ahvattham ena su-virha-mlam
asaga-hastrea dihena chhittv`,hindi_meaning:"      ,               ,       ",meaning:"The real form of this tree cannot be perceived in this world. No one can understand where it ends, where it begins, or where its foundation is. But with determination one must cut down this strongly rooted tree with the weapon of detachment."},{id:536,verse_number:4,chapter_number:15,text:`  
    |
   
    ||-||`,transliteration:`tata pada tat parimrgitavya
yasmin gat na nivartanti bhya
tam eva chdya puruha prapadye
yata pravitti prasit pur`,hindi_meaning:"       -   ,            ,     ",meaning:"Thereafter, one must seek that place from which, having gone, one never returns, and there surrender to that Supreme Personality of Godhead from whom everything began and from whom everything has extended since time immemorial."},{id:537,verse_number:5,chapter_number:15,text:` 
  |
 
   ||-||`,transliteration:`nirmna-moh jita-saga-doh
adhytma-nity vinivitta-km
dvandvair vimukt sukha-dukha-sajair
gachchhanty amh padam avyaya tat`,hindi_meaning:" !      ,      ,     ",meaning:"Those who are free from false prestige, illusion and false association, who understand the eternal, who are done with material lust, who are freed from the dualities of happiness and distress, and who, unbewildered, know how to surrender unto the Supreme Person attain to that eternal kingdom."},{id:538,verse_number:6,chapter_number:15,text:`       |
      ||-||`,transliteration:`na tad bhsayate sryo na hahko na pvaka
yad gatv na nivartante tad dhma parama mama`,hindi_meaning:" !                 ,    ,  -    ",meaning:"That supreme abode of Mine is not illumined by the sun or moon, nor by fire or electricity. Those who reach it never return to this material world."},{id:539,verse_number:7,chapter_number:15,text:`    |
   ||-||`,transliteration:`mamaivho jva-loke jva-bhta santana
mana-hahhnndriyi prakiti-sthni karhati`,hindi_meaning:"  :  !  !        ()  ,           ?",meaning:"The living entities in this conditioned world are My eternal fragmental parts. Due to conditioned life, they are struggling very hard with the six senses, which include the mind."},{id:540,verse_number:8,chapter_number:15,text:`   |
   ||-||`,transliteration:`harra yad avpnoti yach chpy utkrmathvara
gihtvaitni sayti vyur gandhn ivhayt`,hindi_meaning:"               ,     ",meaning:"The living entity in the material world carries his different conceptions of life from one body to another as the air carries aromas. Thus he takes one kind of body and again quits it to take another."},{id:541,verse_number:9,chapter_number:15,text:`       |
   ||-||`,transliteration:`hrotra chakhu sparhana cha rasana ghram eva cha
adhihhya manah chya vihayn upasevate`,hindi_meaning:"   :   !         -         ",meaning:"The living entity, thus taking another gross body, obtains a certain type of ear, eye, tongue, nose and sense of touch, which are grouped about the mind. He thus enjoys a particular set of sense objects."},{id:542,verse_number:10,chapter_number:15,text:`      |
    ||-||`,transliteration:`utkrmanta sthita vpi bhujna v gunvitam
vimh nnupahyanti pahyanti jna-chakhuha`,hindi_meaning:"                    ",meaning:"The foolish cannot understand how a living entity can quit his body, nor can they understand what sort of body he enjoys under the spell of the modes of nature. But one whose eyes are trained in knowledge can see all this."},{id:543,verse_number:11,chapter_number:15,text:`   |
   ||-||`,transliteration:`yatanto yoginah chaina pahyanty tmany avasthitam
yatanto py akittmno naina pahyanty achetasa`,hindi_meaning:"         ,             ",meaning:"The endeavoring transcendentalists who are situated in self-realization can see all this clearly. But those whose minds are not developed and who are not situated in self-realization cannot see what is taking place, though they may try."},{id:544,verse_number:12,chapter_number:15,text:`   |
     ||-||`,transliteration:`yad ditya-gata tejo jagad bhsayate khilam
yach chandramasi yach chgnau tat tejo viddhi mmakam`,hindi_meaning:"         -    ,      ",meaning:"The splendor of the sun, which dissipates the darkness of this whole world, comes from Me. And the splendor of the moon and the splendor of fire are also from Me."},{id:545,verse_number:13,chapter_number:15,text:`    |
      ||-||`,transliteration:`gm vihya cha bhtni dhraymy aham ojas
puhmi chauhadh sarv somo bhtv rastmaka`,hindi_meaning:" !              ,   ",meaning:"I enter into each planet, and by My energy they stay in orbit. I become the moon and thereby supply the juice of life to all vegetables."},{id:546,verse_number:14,chapter_number:15,text:`     |
   ||-||`,transliteration:`aha vaihvnaro bhtv prin deham hrita
prpna-samyukta pachmy anna chatur-vidham`,hindi_meaning:"   ,               -    ",meaning:"I am the fire of digestion in the bodies of all living entities, and I join with the air of life, outgoing and incoming, to digest the four kinds of foodstuff."},{id:547,verse_number:15,chapter_number:15,text:`   
   |
  
  ||-||`,transliteration:`sarvasya chha hidi sanniviho
matta smitir jnam apohana cha
vedaih cha sarvair aham eva vedyo
vednta-kid veda-vid eva chham`,hindi_meaning:" !                   ,   ",meaning:"I am seated in everyones heart, and from Me come remembrance, knowledge and forgetfulness. By all the Vedas, I am to be known. Indeed, I am the compiler of Vedanta, and I am the knower of the Vedas."},{id:548,verse_number:16,chapter_number:15,text:`      |
     ||-||`,transliteration:`dvv imau puruhau loke kharah chkhara eva cha
khara sarvi bhtni ka-stho khara uchyate`,hindi_meaning:"        :            (     ) ",meaning:"There are two classes of beings, the fallible and the infallible. In the material world every living entity is fallible, and in the spiritual world every living entity is called infallible."},{id:549,verse_number:17,chapter_number:15,text:`   |
    ||-||`,transliteration:`uttama puruhas tv anya paramtmety udhita
yo loka-trayam vihya bibharty avyaya hvara`,hindi_meaning:"            -         ",meaning:"Besides these two, there is the greatest living personality, the Supreme Soul, the imperishable Lord Himself, who has entered the three worlds and is maintaining them."},{id:550,verse_number:18,chapter_number:15,text:`  |
      ||-||`,transliteration:`yasmt kharam atto ham akhard api chottama
ato smi loke vede cha prathita puruhottama`,hindi_meaning:"                     ,   ",meaning:"Because I am transcendental, beyond both the fallible and the infallible, and because I am the greatest, I am celebrated both in the world and in the Vedas as that Supreme Person."},{id:551,verse_number:19,chapter_number:15,text:`    |
     ||-||`,transliteration:`yo mm evam asammho jnti puruhottamam
sa sarva-vid bhajati m sarva-bhvena bhrata`,hindi_meaning:"            ,       ,     ",meaning:"Whoever knows Me as the Supreme Personality of Godhead, without doubting, is the knower of everything. He therefore engages himself in full devotional service to Me, O son of Bharata."},{id:552,verse_number:20,chapter_number:15,text:`    |
   ||-||`,transliteration:`iti guhyatama hstram idam ukta maynagha
etad buddhv buddhimn syt kita-kityah cha bhrata`,hindi_meaning:"      ,       ,           ",meaning:"This is the most confidential part of the Vedic scriptures, O sinless one, and it is disclosed now by Me. Whoever understands this will become wise, and his endeavors will know perfection."}]},{id:16,name:"",name_meaning:"The Yoga of the Divine and Demoniac Natures",chapter_number:16,verses_count:24,summary:"Krishna describes the qualities of those with a divine nature (daivi sampad) and those with a demoniac nature (asuri sampad). He explains how these qualities determine one's actions and ultimate destiny.",verses:[{id:553,verse_number:1,chapter_number:16,text:` |
  |
     ||-||`,transliteration:`hr bhagavn uvcha
abhaya sattva-sahuddhir jna-yoga-vyavasthiti
dna damah cha yajah cha svdhyyas tapa rjavam`,hindi_meaning:"     ,   ()            ",meaning:"The Supreme Personality of Godhead said: Fearlessness; purification of ones existence; cultivation of spiritual knowledge; charity; self-control; performance of sacrifice; study of the Vedas; austerity; simplicity;"},{id:554,verse_number:2,chapter_number:16,text:`   |
    ||-||`,transliteration:`ahis satyam akrodhas tyga hntir apaihunam
day bhtehv aloluptva mrdava hrr achpalam`,hindi_meaning:" !          ,        -    ,     ",meaning:"nonviolence; truthfulness; freedom from anger; renunciation; tranquility; aversion to faultfinding; compassion for all living entities; freedom from covetousness; gentleness; modesty; steady determination;"},{id:555,verse_number:3,chapter_number:16,text:`     |
    ||-||`,transliteration:`teja kham dhiti haucham adroho nti-mnit
bhavanti sampada daivm abhijtasya bhrata`,hindi_meaning:"      ,          ,      ",meaning:"vigor; forgiveness; fortitude; cleanliness; and freedom from envy and from the passion for honorthese transcendental qualities, O son of Bharata, belong to godly men endowed with divine nature."},{id:556,verse_number:4,chapter_number:16,text:`     |
    ||-||`,transliteration:`dambho darpo bhimnah cha krodha pruhyam eva cha
ajna chbhijtasya prtha sampadam surm`,hindi_meaning:"                           ",meaning:"Pride, arrogance, conceit, anger, harshness and ignorancethese qualities belong to those of demonic nature, O son of Pritha."},{id:557,verse_number:5,chapter_number:16,text:`    |
     ||-||`,transliteration:`daiv sampad vimokhya nibandhysur mat
m hucha sampada daivm abhijto si pava`,hindi_meaning:"    ,               ",meaning:"The transcendental qualities are conducive to liberation, whereas the demonic qualities make for bondage. Do not worry, O son of Pandu, for you are born with the divine qualities."},{id:558,verse_number:6,chapter_number:16,text:`      |
       ||-||`,transliteration:`dvau bhta-sargau loke smin daiva sura eva cha
daivo vistaraha prokta sura prtha me hiu`,hindi_meaning:"                     ",meaning:"O son of Pritha, in this world there are two kinds of created beings. One is called the divine and the other demonic. I have already explained to you at length the divine qualities. Now hear from Me of the demonic."},{id:559,verse_number:7,chapter_number:16,text:`       |
        ||-||`,transliteration:`pravitti cha nivitti cha jan na vidur sur
na haucha npi chchro na satya tehu vidyate`,hindi_meaning:"     ,            ,     ",meaning:"Those who are demonic do not know what is to be done and what is not to be done. Neither cleanliness nor proper behavior nor truth is found in them."},{id:560,verse_number:8,chapter_number:16,text:`   |
  ||-||`,transliteration:`asatyam apratihha te jagad hur anhvaram
aparaspara-sambhta kim anyat kma-haitukam`,hindi_meaning:" !         ,            ,        ",meaning:"They say that this world is unreal, with no foundation, no God in control. They say it is produced of sex desire and has no cause other than lust."},{id:561,verse_number:9,chapter_number:16,text:`   |
   ||-||`,transliteration:`et dihim avahabhya nahtmno lpa-buddhaya
prabhavanty ugra-karma khayya jagato hit`,hindi_meaning:" !      ,              ",meaning:"Following such conclusions, the demonic, who are lost to themselves and who have no intelligence, engage in unbeneficial, horrible works meant to destroy the world."},{id:562,verse_number:10,chapter_number:16,text:`   |
 ||-||`,transliteration:`kmam hritya duhpra dambha-mna-madnvit
mohd gihtvsad-grhn pravartante huchi-vrat`,hindi_meaning:" !          ,              ,   ",meaning:"Taking shelter of insatiable lust and absorbed in the conceit of pride and false prestige, the demonic, thus illusioned, are always sworn to unclean work, attracted by the impermanent."},{id:563,verse_number:11,chapter_number:16,text:`   |
   ||-||`,transliteration:`chintm aparimey cha pralayntm uphrit
kmopabhoga-param etvad iti nihchit`,hindi_meaning:"                    ",meaning:"They believe that to gratify the senses is the prime necessity of human civilization. Thus until the end of life their anxiety is immeasurable. Bound by a network of hundreds of thousands of desires and absorbed in lust and anger, they secure money by illegal means for sense gratification."},{id:564,verse_number:12,chapter_number:16,text:`  |
  ||-||`,transliteration:`h-pha-hatair baddh kma-krodha-parya
hante kma-bhogrtham anyyenrtha-sachayn`,hindi_meaning:"     ,       ,            ",meaning:"Bound by a network of hundreds of thousands of desires and absorbed in lust and anger, they secure money by illegal means for sense gratification."},{id:565,verse_number:13,chapter_number:16,text:`     |
    ||-||`,transliteration:`idam adya may labdham ima prpsye manoratham
idam astdam api me bhavihyati punar dhanam`,hindi_meaning:" !          ,                ",meaning:"The demonic person thinks: So much wealth do I have today, and I will gain more according to my schemes. So much is mine now, and it will increase in the future, more and more."},{id:566,verse_number:14,chapter_number:16,text:`     |
    ||-||`,transliteration:`asau may hata hatrur hanihye chparn api
hvaro ham aha bhog siddho ha balavn sukh`,hindi_meaning:" !      ,           ,    ,    ",meaning:"He is my enemy, and I have killed him, and my other enemies will also be killed. I am the lord of everything. I am the enjoyer. I am perfect, powerful and happy."},{id:567,verse_number:15,chapter_number:16,text:`    |
    ||-||`,transliteration:`hyo bhijanavn asmi ko nyo sti sadiho may
yakhye dsymi modihya ity ajna-vimohit`,hindi_meaning:"     ,             ,            ",meaning:"I am the richest man, surrounded by aristocratic relatives. There is none so powerful and happy as I am. I shall perform sacrifices, I shall give some charity, and thus I shall rejoice. In this way, such persons are deluded by ignorance."},{id:568,verse_number:16,chapter_number:16,text:`  |
    ||-||`,transliteration:`aneka-chitta-vibhrnt moha-jla-samvit
prasakt kma-bhogehu patanti narake huchau`,hindi_meaning:" !      ,   ,  ,                 ",meaning:"Thus perplexed by various anxieties and bound by a network of illusions, they become too strongly attached to sense enjoyment and fall down into hell."},{id:569,verse_number:17,chapter_number:16,text:`   |
   ||-||`,transliteration:`tma-sambhvit stabdh dhana-mna-madnvit
yajante nma-yajais te dambhenvidhi-prvakam`,hindi_meaning:" !         ,     ,     ",meaning:"Self-complacent and always impudent, deluded by wealth and false prestige, they sometimes proudly perform sacrifices in name only, without following any rules or regulations."},{id:570,verse_number:18,chapter_number:16,text:`       |
  ||-||`,transliteration:`ahakra bala darpa kma krodha cha sahrit
mm tma-para-dehehu pradvihanto bhyasyak`,hindi_meaning:"         ,     ",meaning:"Bewildered by false ego, strength, pride, lust and anger, the demons become envious of the Supreme Personality of Godhead, who is situated in their own bodies and in the bodies of others, and blaspheme against the real religion."},{id:571,verse_number:19,chapter_number:16,text:`    |
  ||-||`,transliteration:`tn aha dvihata krrn sasrehu nardhamn
khipmy ajasram ahubhn surhv eva yonihu`,hindi_meaning:"        ,           ?",meaning:"Those who are envious and mischievous, who are the lowest among men, I perpetually cast into the ocean of material existence, into various demonic species of life."},{id:572,verse_number:20,chapter_number:16,text:`     |
     ||-||`,transliteration:`sur yonim pann mh janmani janmani
mm aprpyaiva kaunteya tato ynty adham gatim`,hindi_meaning:"  -   -    ,         ",meaning:"Attaining repeated birth amongst the species of demonic life, O son of Kunti, such persons can never approach Me. Gradually they sink down to the most abominable type of existence."},{id:573,verse_number:21,chapter_number:16,text:`    |
    ||-||`,transliteration:`tri-vidha narakasyeda dvra nhanam tmana
kma krodhas tath lobhas tasmd etat traya tyajet`,hindi_meaning:"    ,     ,              ",meaning:"There are three gates leading to this helllust, anger and greed. Every sane man should give these up, for they lead to the degradation of the soul."},{id:574,verse_number:22,chapter_number:16,text:`   |
     ||-||`,transliteration:`etair vimukta kaunteya tamo-dvrais tribhir nara
charaty tmana hreyas tato yti par gatim`,hindi_meaning:"  :  !            ,       ?",meaning:"The man who has escaped these three gates of hell, O son of Kunti, performs acts conducive to self-realization and thus gradually attains the supreme destination."},{id:575,verse_number:23,chapter_number:16,text:`    |
        ||-||`,transliteration:`ya hstra-vidhim utsijya vartate kma-krata
na sa siddhim avpnoti na sukha na par gatim`,hindi_meaning:"   :   ,   ,                   ",meaning:"He who discards scriptural injunctions and acts according to his own whims attains neither perfection, nor happiness, nor the supreme destination."},{id:576,verse_number:24,chapter_number:16,text:`    |
    ||-||`,transliteration:`tasmch chhstra prama te krykrya-vyavasthitau
jtv hstra-vidhnokta karma kartum ihrhasi`,hindi_meaning:"   ,          ,         ",meaning:"One should therefore understand what is duty and what is not duty by the regulations of the scriptures. Knowing such rules and regulations, one should act so that he may gradually be elevated."}]},{id:17,name:"",name_meaning:"The Yoga of the Threefold Faith",chapter_number:17,verses_count:28,summary:"Arjuna asks about those who worship with faith but without following the scriptures. Krishna explains that faith can be of three typessattvic, rajasic, or tamasicdepending on one's nature. This threefold division also applies to food, sacrifice, austerity, and charity.",verses:[{id:577,verse_number:1,chapter_number:17,text:`  |
    |
       ||-||`,transliteration:`arjuna uvcha
ye hstra-vidhim utsijya yajante hraddhaynvit
teh nihh tu k kiha sattvam ho rajas tama`,hindi_meaning:" !          ,          ",meaning:"Arjuna inquired: O Krishna, what is the situation of those who do not follow the principles of scripture but worship according to their own imagination? Are they in goodness, in passion or in ignorance?"},{id:578,verse_number:2,chapter_number:17,text:` |
      |
       ||-||`,transliteration:`hr bhagavn uvcha
tri-vidh bhavati hraddh dehin s svabhva-j
sttvik rjas chaiva tmas cheti t hiu`,hindi_meaning:",                  ",meaning:"The Supreme Personality of Godhead said: According to the modes of nature acquired by the embodied soul, ones faith can be of three kindsin goodness, in passion or in ignorance. Now hear about this."},{id:579,verse_number:3,chapter_number:17,text:`     |
       ||-||`,transliteration:`sattvnurp sarvasya hraddh bhavati bhrata
hraddh-mayo ya puruho yo yach-chhraddha sa eva sa`,hindi_meaning:" !               ,       ",meaning:"O son of Bharata, according to ones existence under the various modes of nature, one evolves a particular kind of faith. The living being is said to be of a particular faith according to the modes he has acquired."},{id:580,verse_number:4,chapter_number:17,text:`    |
    ||-||`,transliteration:`yajante sttvik devn yakha-rakhsi rjas
pretn bhta-gah chnye yajante tmas jan`,hindi_meaning:" !     ,           ",meaning:"Men in the mode of goodness worship the demigods; those in the mode of passion worship the demons; and those in the mode of ignorance worship ghosts and spirits."},{id:581,verse_number:5,chapter_number:17,text:`      |
  ||-||`,transliteration:`ahstra-vihita ghora tapyante ye tapo jan
dambhhakra-sayukt kma-rga-balnvit`,hindi_meaning:"  !                ,        ",meaning:"Those who undergo severe austerities and penances not recommended in the scriptures, performing them out of pride and egoism, who are impelled by lust and attachment..."},{id:582,verse_number:6,chapter_number:17,text:`   |
   ||-||`,transliteration:`karhayanta harra-stha bhta-grmam achetasa
m chaivnta-harra-stha tn viddhy sura-nihchayn`,hindi_meaning:"   :         ,           ",meaning:"...who are fools and who torture the material elements within the body as well as the Supersoul dwelling within, are to be known as demons."},{id:583,verse_number:7,chapter_number:17,text:`     |
     ||-||`,transliteration:`hras tv api sarvasya tri-vidho bhavati priya
yajas tapas tath dna teh bhedam ima hiu`,hindi_meaning:"         ,        ",meaning:"Even the food each person prefers is of three kinds, according to the three modes of material nature. The same is true of sacrifices, austerities and charity. Now hear of the distinctions between them."},{id:584,verse_number:8,chapter_number:17,text:` |
      ||-||`,transliteration:`yu-sattva-balrogya-sukha-prti-vivardhan
rasy snigdh sthir hidy hr sttvika-priy`,hindi_meaning:" !         ,       ",meaning:"Foods dear to those in the mode of goodness increase the duration of life, purify ones existence and give strength, health, happiness and satisfaction. Such foods are juicy, fatty, wholesome, and pleasing to the heart."},{id:585,verse_number:9,chapter_number:17,text:` |
   ||-||`,transliteration:`kav-amla-lavaty-uha-tkha-rkha-vidhina
hr rjasasyeh dukha-hokmaya-prad`,hindi_meaning:"  :                        ?",meaning:"Foods that are too bitter, too sour, too salty, too hot, pungent, dry and burning are dear to those in the mode of passion. Such foods cause distress, misery and disease."},{id:586,verse_number:10,chapter_number:17,text:`      |
    ||-||`,transliteration:`yta-yma gata-rasa pti paryuhita cha yat
uchchhiham api chmedhya bhojana tmasa-priyam`,hindi_meaning:"      ,   ,     ,       ",meaning:"Food prepared more than three hours before being eaten, food that is tasteless, decomposed and putrid, and food consisting of remnants and untouchable things is dear to those in the mode of darkness."},{id:605,verse_number:11,chapter_number:17,text:`    |
     ||-||`,transliteration:`aphalkkhibhir yajo vidhi-diho ya ijyate
yahavyam eveti mana samdhya sa sttvika`,hindi_meaning:"               '   '        ,   ",meaning:"Of sacrifices, the sacrifice performed according to the directions of scripture, as a matter of duty, by those who desire no reward, is of the nature of goodness."},{id:606,verse_number:12,chapter_number:17,text:`      |
      ||-||`,transliteration:`abhisandhya tu phala dambhrtham api chaiva yat
ijyate bharata-hrehha ta yaja viddhi rjasam`,hindi_meaning:" !             ,    ",meaning:"But the sacrifice performed for some material benefit, or for the sake of pride, O chief of the Bharatas, you should know to be in the mode of passion."},{id:607,verse_number:13,chapter_number:17,text:`  |
    ||-||`,transliteration:`vidhi-hnam asihnna mantra-hnam adakhiam
hraddh-virahita yaja tmasa parichakhate`,hindi_meaning:"   ,  ,  ,      ,      ",meaning:"Any sacrifice performed without regard for the directions of scripture, without distribution of prasdam [spiritual food], without chanting of Vedic hymns and remunerations to the priests, and without faith is considered to be in the mode of ignorance."},{id:608,verse_number:14,chapter_number:17,text:`  |
     ||-||`,transliteration:`deva-dvija-guru-prja-pjana haucham rjavam
brahmacharyam ahis cha hrra tapa uchyate`,hindi_meaning:", ,     , , ,    -      ",meaning:"Austerity of the body consists in worship of the Supreme Lord, the brhmaas, the spiritual master, and superiors like the father and mother, and in cleanliness, simplicity, celibacy and nonviolence."},{id:609,verse_number:15,chapter_number:17,text:`      |
     ||-||`,transliteration:`anudvega-kara vkya satya priya-hita cha yat
svdhyybhyasana chaiva v-maya tapa uchyate`,hindi_meaning:"  , ,         -      ",meaning:"Austerity of speech consists in speaking words that are truthful, pleasing, beneficial, and not agitating to others, and also in regularly reciting Vedic literature."},{id:610,verse_number:16,chapter_number:17,text:`   |
  ||-||`,transliteration:`mana-prasda saumyatva maunam tma-vinigraha
bhva-sahuddhir ity etat tapo mnasam uchyate`,hindi_meaning:"  , , ,        -      ",meaning:"And serenity, simplicity, gravity, self-control and purity of thought are the austerities of the mind."},{id:611,verse_number:17,chapter_number:17,text:`     |
   ||-||`,transliteration:`hraddhay paray tapta tapas tat tri-vidha narai
aphalkkhibhir yuktai sttvika parichakhate`,hindi_meaning:"     ,              ",meaning:"This threefold austerity, performed with transcendental faith by men not expecting material benefits but engaged only for the sake of the Supreme, is called austerity in goodness."},{id:612,verse_number:18,chapter_number:17,text:`     |
     ||-||`,transliteration:`satkra-mna-pjrtha tapo dambhena chaiva yat
kriyate tad iha prokta rjasa chalam adhruvam`,hindi_meaning:"  ,           ,      ,     ",meaning:"Penance performed out of pride and for the sake of gaining respect, honor and worship is said to be in the mode of passion. It is neither stable nor permanent."},{id:613,verse_number:19,chapter_number:17,text:`    |
   ||-||`,transliteration:`mha-grhetmano yat pay kriyate tapa
parasyotsdanrtha v tat tmasam udhitam`,hindi_meaning:"                  ,     ",meaning:"Penance performed out of foolishness, with self-torture, or to destroy or injure others, is said to be in the mode of ignorance."},{id:614,verse_number:20,chapter_number:17,text:`   |
        ||-||`,transliteration:`dtavyam iti yad dna dyate 'nupakrie
dehe kle cha ptre cha tad dna sttvika smitam`,hindi_meaning:"  ' '    ,  ,       ,      ",meaning:"Charity given out of duty, without expectation of return, at the proper time and place, and to a worthy person is considered to be in the mode of goodness."},{id:615,verse_number:21,chapter_number:17,text:`     |
      ||-||`,transliteration:`yat tu pratyupakrrtha phalam uddihya v puna
dyate cha parikliha tad dna rjasa smitam`,hindi_meaning:"                ,      ",meaning:"But charity performed with the expectation of some return, or with a desire for fruitive results, or in a grudging mood, is said to be charity in the mode of passion."},{id:616,verse_number:22,chapter_number:17,text:`   |
  ||-||`,transliteration:`adeha-kle yad dnam aptrebhyah cha dyate
asatkitam avajta tat tmasam udhitam`,hindi_meaning:"  ,             ,      ",meaning:"And charity performed at an impure place, at an improper time, to unworthy persons, or without proper attention and respect is said to be in the mode of ignorance."},{id:617,verse_number:23,chapter_number:17,text:`     |
     ||-||`,transliteration:`o tat sad iti nirdeho brahmaas tri-vidha smita
brhmas tena vedh cha yajh cha vihit pur`,hindi_meaning:"   -           ,     ",meaning:"From the beginning of creation, the three words o tat sat were used to indicate the Supreme Absolute Truth. These three symbolic representations were used by brhmaas while chanting the hymns of the Vedas and during sacrifices, for the satisfaction of the Supreme."},{id:618,verse_number:24,chapter_number:17,text:`  |
    ||-||`,transliteration:`tasmd o ity udhitya yaja-dna-tapa-kriy
pravartante vidhnokt satata brahma-vdinm`,hindi_meaning:" ''  ,              ",meaning:"Therefore, transcendentalists undertaking performances of sacrifice, charity and penance begin with o to attain the Supreme."},{id:619,verse_number:25,chapter_number:17,text:`   |
    ||-||`,transliteration:`tad ity anabhisandhya phala yaja-tapa-kriy
dna-kriyh cha vividh kriyante mokha-kkhibhi`,hindi_meaning:"     ''       ,        ",meaning:"Without desiring fruitive results, one should perform various kinds of sacrifice, penance and charity with the word tat. The purpose of such transcendental activities is to get free from material entanglement."},{id:620,verse_number:26,chapter_number:17,text:`    |
      ||-||`,transliteration:`sad-bhve sdhu-bhve cha sad ity etat prayujyate
prahaste karmai tath sac-chabda prtha yujyate`,hindi_meaning:" !     ''           ''     ",meaning:"The Absolute Truth is the objective of devotional sacrifice, and it is indicated by the word sat. The performer of such sacrifice is also called sat, as are all works of sacrifice, penance and charity which, true to the absolute nature, are performed to please the Supreme Person, O son of Pritha."},{id:621,verse_number:27,chapter_number:17,text:`       |
    ||-||`,transliteration:`yaje tapasi dne cha sthiti sad iti chochyate
karma chaiva tad-arthya sad ity evbhidhyate`,hindi_meaning:",       ''            ''   ",meaning:"And whatever is done for the sake of sacrifice, charity and penance, O son of Pritha, is called sat, and activities done for sat's sake are also called sat."},{id:622,verse_number:28,chapter_number:17,text:`       |
       ||-||`,transliteration:`ahraddhay huta datta tapas tapta kita cha yat
asad ity uchyate prtha na cha tat pretya no iha`,hindi_meaning:" !  , ,         ,  ''              ",meaning:"But sacrifice, charity and penance performed without faith in the Supreme are nonpermanent, O son of Pritha, regardless of whatever rites are performed. They are called asat and are useless both in this life and the next."}]},{id:18,name:"",name_meaning:"Moksha-Sannyasa Yoga",chapter_number:18,verses_count:78,summary:"The final chapter of the Bhagavad Gita, where Arjuna asks about the distinction between renunciation (sannyasa) and the renunciation of the fruits of action (tyaga). Krishna explains the three types of renunciation, the three types of knowledge, action, and actors, and concludes with the ultimate message of surrendering to God.",verses:[{id:605,verse_number:1,chapter_number:18,text:`  |
    |
    ||-||`,transliteration:`arjuna uvcha
sannysasya mahbho tattvam ichchhmi veditum
tygasya cha hihkeha pithak kehinihdana`,hindi_meaning:"  :  !  !  !        -   ",meaning:"Arjuna said: O mighty-armed one, I wish to understand the nature of renunciation [sannyasa] and also the nature of renunciation of fruits of action [tyaga], O killer of the Keshi demon, master of the senses."},{id:606,verse_number:2,chapter_number:18,text:` |
      |
   ||-||`,transliteration:`hr bhagavn uvcha
kmyn karma nysa sannysa kavayo vidu
sarva-karma-phala-tyga prhus tyga vichakha`,hindi_meaning:"   :                       ",meaning:"The Supreme Personality of Godhead said: The giving up of activities that are based on material desire is what great learned men call the renounced order of life [sannyasa]. And giving up the results of all activities is what the wise call renunciation [tyaga]."},{id:607,verse_number:3,chapter_number:18,text:`    |
    ||-||`,transliteration:`tyjya doha-vad ity eke karma prhur manhia
yaja-dna-tapa-karma na tyjyam iti chpare`,hindi_meaning:"            ,      ,         ",meaning:"Some learned men declare that all kinds of fruitive activities should be given up as faulty, yet other sages maintain that acts of sacrifice, charity and penance should never be abandoned."},{id:608,verse_number:4,chapter_number:18,text:`      |
     ||-||`,transliteration:`nihchaya hiu me tatra tyge bharata-sattama
tygo hi puruha-vyghra tri-vidha samprakrtita`,hindi_meaning:" !  !              ",meaning:"O best of the Bharatas, hear from Me now My final judgment about renunciation. O tiger among men, renunciation is declared in the scriptures to be of three kinds."},{id:609,verse_number:5,chapter_number:18,text:`     |
     ||-||`,transliteration:`yaja-dna-tapa-karma na tyjya kryam eva tat
yajo dna tapah chaiva pvanni manhim`,hindi_meaning:",         ,     ,    -        ",meaning:"Acts of sacrifice, charity and penance are not to be given up; they must be performed. Indeed, sacrifice, charity and penance purify even the great souls."},{id:610,verse_number:6,chapter_number:18,text:`       |
     ||-||`,transliteration:`etny api tu karmi saga tyaktv phalni cha
kartavynti me prtha nihchita matam uttamam`,hindi_meaning:" !                  ",meaning:"All these activities should be performed without attachment or any expectation of result. They should be performed as a matter of duty, O son of Pritha. That is My final opinion."},{id:611,verse_number:7,chapter_number:18,text:`     |
   ||-||`,transliteration:`niyatasya tu sannysa karmao nopapadyate
moht tasya paritygas tmasa parikrtita`,hindi_meaning:"              ",meaning:"Prescribed duties should never be renounced. If one gives up his prescribed duties because of illusion, such renunciation is said to be in the mode of ignorance."},{id:612,verse_number:8,chapter_number:18,text:`   |
       ||-||`,transliteration:`dukham ity eva yat karma kya-kleha-bhayt tyajet
sa kitv rjasa tyga naiva tyga-phala labhet`,hindi_meaning:"              ,           ",meaning:"Anyone who gives up prescribed duties as troublesome or out of fear of bodily discomfort is said to have renounced in the mode of passion. Such action never leads to the elevation of renunciation."},{id:613,verse_number:9,chapter_number:18,text:`    |
        ||-||`,transliteration:`kryam ity eva yat karma niyata kriyate 'rjuna
saga tyaktv phala chaiva sa tyga sttviko mata`,hindi_meaning:" !             ,      ",meaning:"O Arjuna, when one performs his prescribed duty only because it ought to be done, and renounces all material association and all attachment to the fruit, his renunciation is said to be in the mode of goodness."},{id:614,verse_number:10,chapter_number:18,text:`     |
    ||-||`,transliteration:`na dvehy akuhala karma kuhale nnuhajjate
tyg sattva-samviho medhv chhinna-sahaya`,hindi_meaning:"    ,    ,                  ",meaning:"Those who are situated in the mode of goodness, who are wise, who have renounced the fruits of their actions, and whose doubts are destroyed by transcendental knowledge, have no hatred for disagreeable work nor attachment for agreeable work."},{id:615,verse_number:11,chapter_number:18,text:`      |
    ||-||`,transliteration:`na hi deha-bhit hakya tyaktu karmy ahehata
yas tu karma-phala-tyg sa tygty abhidhyate`,hindi_meaning:"                ,    ",meaning:"It is indeed impossible for an embodied being to give up all activities. But he who renounces the fruits of action is called one who has truly renounced."},{id:616,verse_number:12,chapter_number:18,text:`      |
      ||-||`,transliteration:`aniham iha mihra cha tri-vidha karmaa phalam
bhavaty atygin pretya na tu sannysin kvachit`,hindi_meaning:"                 - ,          ",meaning:"For one who is not renounced, the threefold fruits of actiondesirable, undesirable and mixedaccrue after death. But those who are in the renounced order of life have no such results to suffer or enjoy."},{id:617,verse_number:13,chapter_number:18,text:`     |
     ||-||`,transliteration:`pachaitni mahbho krani nibodha me
skhye kitnte proktni siddhaye sarva-karmam`,hindi_meaning:" !                  ",meaning:"O mighty-armed one, learn from Me of the five factors in the accomplishment of all actions, as explained in the sankhya philosophy for understanding the end of all works."},{id:618,verse_number:14,chapter_number:18,text:`      |
     ||-||`,transliteration:`adhihhna tath kart karaa cha pithag-vidham
vividhh cha pithak cheh daiva chaivtra pachamam`,hindi_meaning:" (),  (),   (),   ()   () -    ",meaning:"The place of action [the body], the performer, the various senses, the many different kinds of endeavor, and ultimately the Supersoulthese are the five factors of action."},{id:619,verse_number:15,chapter_number:18,text:`   |
       ||-||`,transliteration:`harra-v-manobhir yat karma prrabhate nara
nyyya v viparta v pachaite tasya hetava`,hindi_meaning:"    ,       ,      ,     ",meaning:"Whatever right or wrong action a man performs by body, mind or speech is caused by these five factors."},{id:620,verse_number:16,chapter_number:18,text:`      |
    ||-||`,transliteration:`tatraiva sati kartram tmna kevala tu ya
pahyaty akita-buddhitvn na sa pahyati durmati`,hindi_meaning:"             ,       ,   ",meaning:"Therefore one who thinks himself the only doer, not considering the five factors, is certainly not very intelligent and cannot see things as they are."},{id:621,verse_number:17,chapter_number:18,text:`      |
      ||-||`,transliteration:`yasya nhakito bhvo buddhir yasya na lipyate
hatv 'pi sa iml lokn na hanti na nibadhyate`,hindi_meaning:"             ,             ",meaning:"One who is not motivated by false ego, whose intelligence is not entangled, though he kills men in this world, does not kill. Nor is he bound by his actions."},{id:622,verse_number:18,chapter_number:18,text:`     |
     ||-||`,transliteration:`jna jeya parijt tri-vidh karma-chodan
karaa karma karteti tri-vidha karma-sagraha`,hindi_meaning:",    -       ,    -      ",meaning:"Knowledge, the object of knowledge, and the knower are the three factors that motivate action; the senses, work and the worker comprise the threefold basis of action."},{id:623,verse_number:19,chapter_number:18,text:`       |
    ||-||`,transliteration:`jna karma cha kart cha tridhaiva gua-bhedata
prochyate gua-sakhyne yathvac chhiu tny api`,hindi_meaning:"    ,    -               ,    ",meaning:"In terms of the three modes of material nature, there are three kinds of knowledge, action and workers. Now hear of them from Me."},{id:624,verse_number:20,chapter_number:18,text:`   |
     ||-||`,transliteration:`sarva-bhtehu yenaika bhvam avyayam khate
avibhakta vibhaktehu taj jna viddhi sttvikam`,hindi_meaning:"         ,       ,    ",meaning:"That knowledge by which one undivided spiritual nature is seen in all living entities, though they are divided into innumerable forms, you should understand to be in the mode of goodness."},{id:625,verse_number:21,chapter_number:18,text:`    |
      ||-||`,transliteration:`pithaktvena tu yaj jna nn-bhvn pithag-vidhn
vetti sarvehu bhtehu taj jna viddhi rjasam`,hindi_meaning:"          -  ,    ",meaning:"That knowledge by which one sees different types of bodies as being different from one another, understand that knowledge to be in the mode of passion."},{id:626,verse_number:22,chapter_number:18,text:`   |
   ||-||`,transliteration:`yat tu kitsna-vad ekasmin krye saktam ahaitukam
atattvrtha-vad alpa cha tat tmasam udhitam`,hindi_meaning:"          , ,    ,      ",meaning:"And that knowledge by which one is attached to one kind of work as the all in all, without knowledge of the truth, and which is very meager, is said to be in the mode of darkness."},{id:627,verse_number:23,chapter_number:18,text:`   |
   ||-||`,transliteration:`niyata saga-rahitam arga-dvehata kitam
aphala-prepsun karma yat tat sttvikam uchyate`,hindi_meaning:"  , , -             ,      ",meaning:"Work done as a matter of duty, without attachment to the fruits of work and without any attraction or hatred, is said to be in the mode of goodness."},{id:628,verse_number:24,chapter_number:18,text:`      |
   ||-||`,transliteration:`yat tu kmepsun karma shakrea v puna
kriyate bahulysa tad rjasam udhitam`,hindi_meaning:"    ,          ,      ",meaning:"But work done with great effort by one seeking to gratify his desires, and which is enacted from a sense of false ego, is called action in the mode of passion."},{id:629,verse_number:25,chapter_number:18,text:`     |
   ||-||`,transliteration:`anubandha khaya hism anapekhya cha pauruham
mohd rabhyate karma yat tat tmasam uchyate`,hindi_meaning:"  , ,               ,      ",meaning:"That work which is begun in delusion, without consideration of future bondage, loss or injury to others, and which is done for the sake of one's own pleasure, is said to be in the mode of ignorance."},{id:630,verse_number:26,chapter_number:18,text:`  |
    ||-||`,transliteration:`mukta-sago 'nahavd dhity-utsha-samanvita
siddhy-asiddhyor nirvikra kart sttvika uchyate`,hindi_meaning:"  , ,       -   ,      ",meaning:"The worker who is free from all material attachments and false ego, who is enthusiastic and resolute, and who is indifferent to success or failure, is a worker in the mode of goodness."},{id:631,verse_number:27,chapter_number:18,text:`   |
    ||-||`,transliteration:`rg karma-phala-prepsur lubdho histmako 'huchi
harha-hoknvita kart rjasa parikrtita`,hindi_meaning:"  ,     , , ,   -   ,      ",meaning:"The worker who is attached to work and the fruits of work, who is greedy, always envious, impure, and moved by joy and sorrow, is said to be in the mode of passion."},{id:632,verse_number:28,chapter_number:18,text:`     |
      ||-||`,transliteration:`ayukta prkita stabdha haho naihkitiko 'lasa
vihd drgha-str cha kart tmasa uchyate`,hindi_meaning:"  , , , , , ,    ,      ",meaning:"The worker who is always engaged in work against the injunctions of the scripture, who is materialistic, obstinate, cheating and expert in insulting others, and who is lazy, always morose and procrastinating, is said to be a worker in the mode of ignorance."},{id:633,verse_number:29,chapter_number:18,text:`    |
   ||-||`,transliteration:`buddher bheda dhiteh chaiva guatas tri-vidha hiu
prochyamnam ahehea pithaktvena dhanajaya`,hindi_meaning:" !               ,     ",meaning:"O winner of wealth, now please listen as I tell you in detail of the different kinds of understanding and determination, according to the three modes of nature."},{id:634,verse_number:30,chapter_number:18,text:`      |
         ||-||`,transliteration:`pravitti cha nivitti cha krykrye bhaybhaye
bandha mokha cha y vetti buddhi s prtha sttvik`,hindi_meaning:" !     ,   ,   ,      ,    ",meaning:"O son of Pritha, that understanding by which one knows what ought to be done and what ought not to be done, what is to be feared and what is not to be feared, what is binding and what is liberating, is in the mode of goodness."},{id:635,verse_number:31,chapter_number:18,text:`      |
     ||-||`,transliteration:`yay dharmam adharma cha krya chkryam eva cha
ayathvat prajnti buddhi s prtha rjas`,hindi_meaning:" !      ,        ,    ",meaning:"O son of Pritha, that understanding which cannot distinguish between religion and irreligion, between action that should be done and action that should not be done, is in the mode of passion."},{id:636,verse_number:32,chapter_number:18,text:`     |
     ||-||`,transliteration:`adharma dharmam iti y manyate tamasvit
sarvrthn viparth cha buddhi s prtha tmas`,hindi_meaning:" !                  ,    ",meaning:"O son of Pritha, that understanding which considers irreligion to be religion and religion to be irreligion, under the spell of illusion and darkness, and strives always in the wrong direction, is in the mode of ignorance."},{id:637,verse_number:33,chapter_number:18,text:`    |
     ||-||`,transliteration:`dhity yay dhrayate mana-prendriya-kriy
yogenvyabhicriy dhiti s prtha sttvik`,hindi_meaning:" !       ,         ,    ",meaning:"O son of Pritha, that determination which is unbreakable, which is sustained with steadfastness by yoga practice, and which thus controls the activities of the mind, life and senses, is determination in the mode of goodness."},{id:638,verse_number:34,chapter_number:18,text:`    |
      ||-||`,transliteration:`yay tu dharma-kmrthn dhity dhrayate 'rjuna
prasagena phalkkh dhiti s prtha rjas`,hindi_meaning:" !  !         ,       ,    ",meaning:"But that determination by which one holds fast to fruitive results in religion, economic development and sense gratification is of the nature of passion, O Arjuna."},{id:639,verse_number:35,chapter_number:18,text:`       |
       ||-||`,transliteration:`yay svapna bhaya hoka vihda madam eva cha
na vimuchati durmedh dhiti s prtha tmas`,hindi_meaning:" !     , , ,      ,    ",meaning:"And that determination which cannot go beyond dreaming, fearfulness, lamentation, moroseness and illusionsuch unintelligent determination, O son of Pritha, is in the mode of darkness."},{id:640,verse_number:36,chapter_number:18,text:`      |
     ||-||`,transliteration:`sukha tv idn tri-vidha hiu me bharatarhabha
abhysd ramate yatra dukhnta cha nigachchhati`,hindi_meaning:" !      ,             ",meaning:"O best of the Bharatas, now please hear from Me about the three kinds of happiness by which the conditioned soul enjoys, and by which he sometimes comes to the end of all distress."},{id:641,verse_number:37,chapter_number:18,text:`   |
   ||-||`,transliteration:`yat tad agre viham iva parime 'mitopamam
tat sukha sttvika proktam tma-buddhi-prasdajam`,hindi_meaning:"        ,        ,           ",meaning:"That which in the beginning may be just like poison but at the end is just like nectar and which awakens one to self-realization is said to be happiness in the mode of goodness."},{id:642,verse_number:38,chapter_number:18,text:` |
     ||-||`,transliteration:`vihayendriya-sayogd yat tad agre 'mitopamam
parime viham iva tat sukha rjasa smitam`,hindi_meaning:"              ,        ,      ",meaning:"That happiness which is derived from contact of the senses with their objects and which appears like nectar at first but poison at the end is said to be of the nature of passion."},{id:643,verse_number:39,chapter_number:18,text:`     |
  ||-||`,transliteration:`yad agre chnubandhe cha sukha mohanam tmana
nidrlasya-pramdottha tat tmasam udhitam`,hindi_meaning:"             ,       ,      ",meaning:"And that happiness which is blind to self-realization, which is delusion from beginning to end and which arises from sleep, laziness and illusion, is said to be of the nature of ignorance."},{id:644,verse_number:40,chapter_number:18,text:`        |
    ||-||`,transliteration:`na tad asti pithivy v divi devehu v puna
sattva prakiti-jair mukta yad ebhi syt tribhir guai`,hindi_meaning:"             ,          ",meaning:"There is no being existing, either here or among the demigods in the higher planetary systems, which is free from these three modes born of material nature."},{id:645,verse_number:41,chapter_number:18,text:`    |
   ||-||`,transliteration:`brhmaa-khatriya-vih hdr cha parantapa
karmi pravibhaktni svabhva-prabhavair guai`,hindi_meaning:" ! , ,            ",meaning:"Brhmaas, katriyas, vaiyas and dras are distinguished by the qualities born of their own natures in accordance with the material modes, O chastiser of the enemy."},{id:646,verse_number:42,chapter_number:18,text:`     |
    ||-||`,transliteration:`hamo damas tapa haucha khntir rjavam eva cha
jna vijnam stikya brahma-karma svabhva-jam`,hindi_meaning:", , , , , , ,    -      ",meaning:"Peacefulness, self-control, austerity, purity, tolerance, honesty, knowledge, wisdom and religiousnessthese are the natural qualities by which the brhmaas work."},{id:647,verse_number:43,chapter_number:18,text:`     |
    ||-||`,transliteration:`haurya tejo dhitir dkhya yuddhe chpy apalyanam
dnam hvara-bhvah cha khtra karma svabhva-jam`,hindi_meaning:", , , ,     ,    -       ",meaning:"Heroism, power, determination, resourcefulness, courage in battle, generosity and leadership are the natural qualities of work for the katriyas."},{id:648,verse_number:44,chapter_number:18,text:`   |
    ||-||`,transliteration:`kihi-gaurakhya-vijya vaiya-karma svabhva-jam
paricharytmaka karma hdrasypi svabhva-jam`,hindi_meaning:",    -              ",meaning:"Farming, cow protection and business are the natural work for the vaiyas, and for the dras there is labor and service to others."},{id:649,verse_number:45,chapter_number:18,text:`      |
     ||-||`,transliteration:`sve sve karmay abhirata sasiddhi labhate nara
svakarma-nirata siddhi yath vindati tac chhiu`,hindi_meaning:" -                 ,  ",meaning:"By following his qualities of work, every man can become perfect. Now please hear from Me how this can be done."},{id:650,verse_number:46,chapter_number:18,text:`     |
     ||-||`,transliteration:`yata pravittir bhtn yena sarvam ida tatam
svakarma tam abhyarchya siddhi vindati mnava`,hindi_meaning:"            ,           ",meaning:"By worship of the Lord, who is the source of all beings and who is all-pervading, a man can attain perfection through performing his own work."},{id:651,verse_number:47,chapter_number:18,text:`   |
     ||-||`,transliteration:`hreyn sva-dharmo vigua para-dharmt sv-anuhhitt
sva-dharme nidhana hreya para-dharmo bhayvaha`,hindi_meaning:"               ,   ",meaning:"It is better to engage in one's own occupation, even though one may perform it imperfectly, than to accept another's occupation and perform it perfectly. Duties prescribed according to one's nature are never affected by sinful reactions."},{id:652,verse_number:48,chapter_number:18,text:`      |
    ||-||`,transliteration:`sahaja karma kaunteya sa-doham api na tyajet
sarvrambh hi dohea dhmengnir ivvit`,hindi_meaning:" !                 ,       ",meaning:"Every endeavor is covered by some fault, just as fire is covered by smoke. Therefore one should not give up the work born of his nature, O son of Kunt, even if such work is full of fault."},{id:653,verse_number:49,chapter_number:18,text:`    |
   ||-||`,transliteration:`asakta-buddhi sarvatra jittm vigata-spiha
naihkarmya-siddhi param sannysendhigachchhati`,hindi_meaning:"  ,     ,        ",meaning:"One who is self-controlled and unattached, who disregards all material enjoyments, can obtain, by practice of renunciation, the highest perfect stage of freedom from reaction."},{id:654,verse_number:50,chapter_number:18,text:`       |
      ||-||`,transliteration:`siddhi prpto yath brahma tathpnoti nibodha me
samsenaiva kaunteya nihh jnasya y par`,hindi_meaning:" !      ,               ,  ",meaning:"O son of Kunt, learn from Me how one who has achieved this perfection can attain to the supreme state of Brahman, the stage of highest knowledge, by acting in the way I shall now summarize."},{id:655,verse_number:51,chapter_number:18,text:`      |
    ||-||`,transliteration:`buddhy vihuddhay yukto dhitytmna niyamya cha
habddn vihayns tyaktv rga-dvehau vyudasya cha`,hindi_meaning:"    ,      ,       -   ",meaning:"Being purified by his intelligence and controlling the mind with determination, giving up the objects of sense gratification, being freed from attachment and hatred."},{id:656,verse_number:52,chapter_number:18,text:`   |
    ||-||`,transliteration:`vivikta-sev laghv-h yata-vk-kya-mnasa
dhyna-yoga-paro nitya vairgya samuphrita`,hindi_meaning:" , , ,          ",meaning:"One who lives in a secluded place, who eats little, and who controls his body, mind and power of speech, who is always in trance and who is detached, free from false ego, false strength, false pride, lust, anger, and acceptance of material things, free from false proprietorship, and peacefulsuch a person is certainly elevated to the position of self-realization."},{id:657,verse_number:53,chapter_number:18,text:`      |
     ||-||`,transliteration:`ahakra bala darpa kma krodha parigraham
vimucya nirmama hnto brahma-bhyya kalpate`,hindi_meaning:", , , ,     ,         ",meaning:"One who is thus transcendentally situated at once realizes the Supreme Brahman and becomes fully joyful. He never laments or desires to have anything. He is equally disposed toward every living entity. In that state he attains pure devotional service unto Me."},{id:658,verse_number:54,chapter_number:18,text:`      |
      ||-||`,transliteration:`brahma-bhta prasanntm na hochati na kkhati
sama sarvehu bhtehu mad-bhakti labhate parm`,hindi_meaning:"  ,     ,            ",meaning:"One who is thus transcendentally situated at once realizes the Supreme Brahman and becomes fully joyful. He never laments or desires to have anything. He is equally disposed toward every living entity. In that state he attains pure devotional service unto Me."},{id:659,verse_number:55,chapter_number:18,text:`    |
      ||-||`,transliteration:`bhakty mm abhijnti yvn yah chsmi tattvata
tato m tattvato jtv vihate tad-anantaram`,hindi_meaning:"                     ",meaning:"One can understand Me as I am, as the Supreme Personality of Godhead, only by devotional service. And when one is in full consciousness of Me by such devotion, he can enter into the kingdom of God."},{id:660,verse_number:56,chapter_number:18,text:`    |
   ||-||`,transliteration:`sarva-karmy api sad kurvo mad-vyaphraya
mat-prasdd avpnoti hhvata padam avyayam`,hindi_meaning:"                    ",meaning:"Though engaged in all kinds of activities, My pure devotee, under My protection, reaches the eternal and imperishable abode by My grace."},{id:661,verse_number:57,chapter_number:18,text:`     |
    ||-||`,transliteration:`chetas sarva-karmi mayi sannyasya mat-para
buddhi-yogam uphritya mac-citta satata bhava`,hindi_meaning:"        ,         ",meaning:"In all activities just depend upon Me and work always under My protection. In such devotional service, be fully conscious of Me."},{id:662,verse_number:58,chapter_number:18,text:`   |
    ||-||`,transliteration:`mac-citta sarva-durgi mat-prasdt tarihyasi
atha chet tvam ahakrn na hrohyasi vinakhyasi`,hindi_meaning:"                ,    ",meaning:"If you become conscious of Me, you will pass over all the obstacles of conditional life by My grace. If, however, you do not work in such consciousness but act through false ego, not hearing Me, you will be lost."},{id:663,verse_number:59,chapter_number:18,text:`     |
    ||-||`,transliteration:`yad ahakram hritya na yotsya iti manyase
mithyaiha vyavasyas te prakitis tv niyokhyati`,hindi_meaning:"      '   '   ,          ",meaning:"If you do not act according to My direction and do not fight, then you will be falsely directed. By your nature, you will have to be engaged in warfare."},{id:664,verse_number:60,chapter_number:18,text:`     |
    ||-||`,transliteration:`svabhva-jena kaunteya nibaddha svena karma
kartu nechchhasi yan moht karihyasy avaho 'pi tat`,hindi_meaning:" !     ,        ,      ",meaning:"O son of Kunt, being bound by your own fruitive activities, which are born of your own nature, you will have to do that which you do not wish to do out of delusion."},{id:665,verse_number:61,chapter_number:18,text:`    |
   ||-||`,transliteration:`hvara sarva-bhtn hid-dehe 'rjuna tihhati
bhrmayan sarva-bhtni yantrrhni myay`,hindi_meaning:" !                  ",meaning:"The Supreme Lord is situated in everyone's heart, O Arjuna, and is directing the wanderings of all living entities, who are seated as on a machine, made of the material energy."},{id:666,verse_number:62,chapter_number:18,text:`     |
     ||-||`,transliteration:`tam eva haraa gachchha sarva-bhvena bhrata
tat-prasdt par hnti sthna prpsyasi hhvatam`,hindi_meaning:" !                  ",meaning:"O scion of Bharata, surrender unto Him utterly. By His grace you will attain transcendental peace and the supreme and eternal abode."},{id:667,verse_number:63,chapter_number:18,text:`     |
    ||-||`,transliteration:`iti te jnam khyta guhyd guhyatara may
vimihyaitad ahehea yathechchhasi tath kuru`,hindi_meaning:"                   ,  ",meaning:"Thus I have explained to you knowledge still more confidential. Deliberate on this fully, and then do what you wish to do."},{id:668,verse_number:64,chapter_number:18,text:`      |
       ||-||`,transliteration:`sarva-guhyatama bhya hiu me parama vacha
iho 'si me diham iti tato vakhymi te hitam`,hindi_meaning:"             ,   ,       ",meaning:"Because you are My very dear friend, I am speaking to you My supreme instruction, the most confidential knowledge of all. Hear this from Me, for it is for your benefit."},{id:669,verse_number:65,chapter_number:18,text:`      |
   ||-||`,transliteration:`man-man bhava mad-bhakto mad-yj m namaskuru
mm evaihyasi yuktvai vam tmna mat-paryaa`,hindi_meaning:"   ,   ,            ,       ",meaning:"Always think of Me, become My devotee, worship Me and offer your homage unto Me. Thus you will come to Me without fail. I promise you this because you are My very dear friend."},{id:670,verse_number:66,chapter_number:18,text:`    |
      ||-||`,transliteration:`sarva-dharmn parityajya mm eka haraa vraja
aha tv sarva-ppebhyo mokhayihymi m hucha`,hindi_meaning:"                ,   ",meaning:"Abandon all varieties of religion and just surrender unto Me. I shall deliver you from all sinful reactions. Do not fear."},{id:671,verse_number:67,chapter_number:18,text:`     |
       ||-||`,transliteration:`idam te ntapaskya nbhaktya kadchana
na chhuhrhave vchya na cha m yo 'bhyasyati`,hindi_meaning:"    ,   ,              ",meaning:"This confidential knowledge may never be explained to those who are not austere, or devoted, or engaged in devotional service, nor to one who is envious of Me."},{id:672,verse_number:68,chapter_number:18,text:`     |
     ||-||`,transliteration:`ya ida parama guhya mad-bhaktehv abhidhsyati
bhakti mayi par kitv mm evaihyaty asahaya`,hindi_meaning:"       ,          ",meaning:"For one who explains this supreme secret to the devotees, pure devotional service is guaranteed, and at the end he will come back to Me."},{id:673,verse_number:69,chapter_number:18,text:`     |
       ||-||`,transliteration:`na cha tasmn manuhyehu kahchin me priya-kittama
bhavit na cha me tasmd anya priyataro bhuvi`,hindi_meaning:"                 ",meaning:"There is no servant in this world more dear to Me than he, nor will there ever be one more dear."},{id:674,verse_number:70,chapter_number:18,text:`      |
     ||-||`,transliteration:`adhyeshye cha ya ima dharmya savdam vayo
jna-yajena tenham iha sym iti me mati`,hindi_meaning:"         ,      ,    ",meaning:"And I declare that one who studies this sacred conversation of ours worships Me by his intelligence."},{id:675,verse_number:71,chapter_number:18,text:`    |
   ||-||`,transliteration:`hraddhvn anasyah cha hiuyd api yo nara
so 'pi mukta hubhll lokn prpnuyt puya-karmam`,hindi_meaning:"      ,           ",meaning:"And one who listens with faith and without envy becomes free from sinful reactions and attains to the auspicious planets where the pious dwell."},{id:676,verse_number:72,chapter_number:18,text:`    |
   ||-||`,transliteration:`kacchid etac chhruta prtha tvayaikgrea chetas
kacchid ajna-samoha pranahas te dhanajaya`,hindi_meaning:" !  !        ?       ?",meaning:"O son of Pritha, O conqueror of wealth, have you heard this with an attentive mind? And are your ignorance and illusions now dispelled?"},{id:677,verse_number:73,chapter_number:18,text:`  |
    |
     ||-||`,transliteration:`arjuna uvcha
naho moha smitir labdh tvat-prasdn maychyuta
sthito 'smi gata-sandeha karihye vacana tava`,hindi_meaning:"  :  !                 ,        ",meaning:"Arjuna said: My dear Ka, O infallible one, my illusion is now gone. I have regained my memory by Your mercy. I am now firm and free from doubt and am prepared to act according to Your instructions."},{id:678,verse_number:74,chapter_number:18,text:`  |
     |
   ||-||`,transliteration:`sajaya uvcha
ty aha vsudevasya prthasya cha mahtmana
savdam imam ahrauha adbhuta roma-harhaam`,hindi_meaning:"  :               ",meaning:"Sajaya said: Thus have I heard the conversation between two great souls, Ka and Arjuna. And so wonderful is that message that my hair is standing on end."},{id:679,verse_number:75,chapter_number:18,text:`  |
   ||-||`,transliteration:`vysa-prasdch chhrutavn etad guhyam aha param
yoga yogahvart kiht skht kathayata svayam`,hindi_meaning:"                ",meaning:"By the mercy of Vysa, I have heard these most confidential talks directly from the master of all mysticism, Ka, who was speaking personally to Arjuna."},{id:680,verse_number:76,chapter_number:18,text:`   |
     ||-||`,transliteration:`rjan sasmitya sasmitya savdam imam adbhutam
kehavrjunayo puya hihymi cha muhur muhu`,hindi_meaning:" !           -    -   ",meaning:"O King, as I repeatedly recall this wondrous and holy dialogue between Ka and Arjuna, I take pleasure, being thrilled at every moment."},{id:681,verse_number:77,chapter_number:18,text:`     |
      ||-||`,transliteration:`tac cha sasmitya sasmitya rpam aty-adbhuta hare
vismayo me mahn rjan hihymi cha puna puna`,hindi_meaning:" !       -          -   ",meaning:"O King, as I remember the wonderful form of Lord Ka, I am struck with wonder more and more, and I rejoice again and again."},{id:682,verse_number:78,chapter_number:18,text:`      |
    ||-||`,transliteration:`yatra yogahvara kiho yatra prtho dhanur-dhara
tatra hrr vijayo bhtir dhruv ntir matir mama`,hindi_meaning:"        ,  , , ,      ",meaning:"Wherever there is Ka, the master of all mystics, and wherever there is Arjuna, the supreme archer, there will also certainly be opulence, victory, extraordinary power, and morality. That is my opinion."}]}],Yj=[{id:1,chapter_number:1,name:" ",name_meaning:"Hanuman Chalisa",summary:"The Hanuman Chalisa is a devotional hymn dedicated to Lord Hanuman, composed by Tulsidas. It consists of 40 chaupai (quatrains) framed by two opening dohas and one concluding doha, for a total of 43 lines.",verses_count:43,verses:[{id:1,verse_number:1,chapter_number:1,text:`   ,    
   ,    `,transliteration:`rguru charana saroja raja, nija manu mukuru sudhri
baranau raghubara bimala jasu, jo dyaku phala chri`,hindi_meaning:"               ()       ,    (, , , )   ",meaning:"With the dust of the Guru's lotus feet I clean the mirror of my mind and sing the pure glory of Raghuvara, the bestower of the fourfold fruits of life."},{id:2,verse_number:2,chapter_number:1,text:`  ,  -
    ,   `,transliteration:`buddhihna tanu jnike, sumirau pavana-kumra
bal buddhi bidy dehu mohi, harahu kalesa bikra`,hindi_meaning:"       ()       ,           ",meaning:"Knowing my ignorance, I remember you, O Son of the Wind; grant me strength, wisdom and knowledge, and remove my afflictions and impurities."},{id:3,verse_number:3,chapter_number:1,text:`    
    `,transliteration:`jaya hanumna jna guna sgara
jaya kapsa tihu loka ujgara`,hindi_meaning:"       ;         ",meaning:"Victory to Hanuman, ocean of wisdom and virtue; victory to the lord of monkeys who illuminates the three worlds."},{id:4,verse_number:4,chapter_number:1,text:`   
-  `,transliteration:`rmadta atulita bala dhm
ajani-putra pavanasuta nm`,hindi_meaning:"  ,    , -  -     ()",meaning:"Messenger of Rama, abode of incomparable strength; son of Anjani and son of the Wind."},{id:5,verse_number:5,chapter_number:1,text:`  
    `,transliteration:`mahbra bikrama bajarag
kumati nivra sumati ke sag`,hindi_meaning:",               ",meaning:"Great hero, mighty and thunderbolt-bodied; dispeller of evil thoughts and companion of good sense."},{id:6,verse_number:6,chapter_number:1,text:`   
   `,transliteration:`kacana barana birja subes
knana kuala kucita kes`,hindi_meaning:"     ,       ",meaning:"Golden-hued, beautifully attired, with earrings and curly hair."},{id:7,verse_number:7,chapter_number:1,text:`    
   `,transliteration:`htha bajra au dhvaj birjai
kdhe mja jane sjai`,hindi_meaning:"      ,       ",meaning:"Holding a thunderbolt and flag in your hands, wearing the sacred munja thread on the shoulder."},{id:8,verse_number:8,chapter_number:1,text:`   
    `,transliteration:`akara suvana kesar nandana
tej pratpa mah jaga vandana`,hindi_meaning:" ()               ",meaning:"Born of Shiva and Kesari, your brilliance and glory are revered throughout the world."},{id:9,verse_number:9,chapter_number:1,text:`   
    `,transliteration:`vidyvna gu ati chtura
rma kja karibe ko tura`,hindi_meaning:" ,    ,           ",meaning:"Learned, virtuous and extremely clever, eager always to perform Rama's work."},{id:10,verse_number:10,chapter_number:1,text:`    
    `,transliteration:`prabhu caritra sunibe ko rasiy
rma lakhana st mana basiy`,hindi_meaning:"       ; --     ",meaning:"Delighting in hearing about the Lord's deeds, with Rama, Lakshmana and Sita dwelling in the heart."},{id:11,verse_number:11,chapter_number:1,text:`    
    `,transliteration:`skma rpa dhari siyahi dikhv
bikaa rpa dhari laka jarv`,hindi_meaning:"                ",meaning:"Taking a subtle form you showed yourself to Sita; taking a dreadful form you burned Lanka."},{id:12,verse_number:12,chapter_number:1,text:`    
   `,transliteration:`bhma rpa dhari asura sahre
rmacandra ke kja savre`,hindi_meaning:"             ",meaning:"Assuming a mighty form you destroyed demons and accomplished Lord Rama's tasks."},{id:13,verse_number:13,chapter_number:1,text:`   
   `,transliteration:`lya sajvani lakhana jiyye
rraghubra hari ura lye`,hindi_meaning:"     ;  ()      ",meaning:"Bringing the Sanjivani herb you revived Lakshmana; Sri Raghubira embraced you in joy."},{id:14,verse_number:14,chapter_number:1,text:`   
     `,transliteration:`raghupati knh bahuta ba
tum mama priya bharatahi sama bh`,hindi_meaning:" ()            -  ",meaning:"Raghupati praised you greatly, saying you are as dear to me as my brother Bharata."},{id:15,verse_number:15,chapter_number:1,text:`    
    `,transliteration:`sahasa badana tumharo jasa gvai
asa kahi rpati kaha lagvai`,hindi_meaning:"     ;    ()    ",meaning:"Thousands sing your glory; saying this, the Lord embraced you."},{id:16,verse_number:16,chapter_number:1,text:`  
   `,transliteration:`sanakdika brahmdi muns
nrada srada sahita ahs`,hindi_meaning:" ,  ,         ",meaning:"Sanaka and other sages, Brahma and other gods, Narada and Saraswati all join in praising you."},{id:17,verse_number:17,chapter_number:1,text:`    
     `,transliteration:`jama kubera digapla jah te
kavi kovida kahi sake kah te`,hindi_meaning:",      , -       ",meaning:"Where Yama, Kubera and the guardians of directions are, how can poets and sages adequately praise you?"},{id:18,verse_number:18,chapter_number:1,text:`   
    `,transliteration:`tum upakra sugrvahi knh
rma milya rja pada dnh`,hindi_meaning:"    ;        ",meaning:"You helped Sugriva, introduced him to Rama and secured for him the throne."},{id:19,verse_number:19,chapter_number:1,text:`   
    `,transliteration:`tumharo mantra bibhaa mn
lakevara bhae saba jaga jn`,hindi_meaning:"              ",meaning:"Vibhishana accepted your counsel and became king of Lanka; the world knows this."},{id:20,verse_number:20,chapter_number:1,text:`    
    `,transliteration:`yuga sahasra yojana para bhn
lilyo thi madhura phala jn`,hindi_meaning:"           ",meaning:"You swallowed the sun thinking it a sweet fruit, though it was thousands of yojanas away."},{id:21,verse_number:21,chapter_number:1,text:`    
    `,transliteration:`prabhu mudrik meli mukha mh
jaladhi lghi gaye acaraja nh`,hindi_meaning:"             ",meaning:"Placing the Lord's ring in your mouth you crossed the ocean  no wonder at that."},{id:22,verse_number:22,chapter_number:1,text:`    
   `,transliteration:`durgama kja jagata ke jete
sugama anugraha tumhare tete`,hindi_meaning:"      ,        ",meaning:"All difficult tasks in the world become easy by your grace."},{id:23,verse_number:23,chapter_number:1,text:`   
    `,transliteration:`rma dure tum rakhvre
hota na j binu paisre`,hindi_meaning:"                ",meaning:"You are the guardian at Rama's door; none can enter without your permission."},{id:24,verse_number:24,chapter_number:1,text:`    
     `,transliteration:`saba sukha lahai tumhr saran
tum rakaka kh ko ara n`,hindi_meaning:"          ;   ,     ",meaning:"All happiness comes to those who take refuge in you; you are the protector so none fears."},{id:25,verse_number:25,chapter_number:1,text:`   
    `,transliteration:`pana teja samhro pai
tno loka hka te kpai`,hindi_meaning:"                ",meaning:"You control your own radiance; otherwise the three worlds would quake at your roar."},{id:26,verse_number:26,chapter_number:1,text:`    
   `,transliteration:`bhta pica nikaa nahi vai
mahbra jaba nma sunvai`,hindi_meaning:"-      ;         ",meaning:"Ghosts and evil spirits do not come near when the mighty one's name is chanted."},{id:27,verse_number:27,chapter_number:1,text:`    
   `,transliteration:`nsai roga harai saba pr
japata niratara hanumata br`,hindi_meaning:"              ",meaning:"All diseases vanish and all pains are removed by constant repetition of Hanuman's name."},{id:28,verse_number:28,chapter_number:1,text:`   
     `,transliteration:`sakaa te hanumna chuvai
man krama bacana dhyna jo lvai`,hindi_meaning:" ,         ,       ",meaning:"Hanuman delivers from troubles those who bring him in mind, deed and speech."},{id:29,verse_number:29,chapter_number:1,text:`    
     `,transliteration:`saba para rma tapasv rj
tina ke kja sakala tum sj`,hindi_meaning:"      ,       ",meaning:"Rama, the ascetic king, rules over all, and you made all his works successful."},{id:30,verse_number:30,chapter_number:1,text:`    
    `,transliteration:`aura manoratha jo ko lvai
sohi amita jvana phala pvai`,hindi_meaning:"   ()   ,   -  ",meaning:"Whoever brings a desire to you attains boundless fruits of life."},{id:31,verse_number:31,chapter_number:1,text:`   
   `,transliteration:`cro yuga paratpa tumhr
hai parasiddha jagata ujyr`,hindi_meaning:"              ",meaning:"Your glory shines across the four ages and your fame illumines the world."},{id:32,verse_number:32,chapter_number:1,text:`-   
   `,transliteration:`sdhu-sata ke tum rakhvre
asura nikadana rma dulre`,hindi_meaning:" -            ",meaning:"You are the guardian of saints, destroyer of demons, and beloved friend of Rama."},{id:33,verse_number:33,chapter_number:1,text:`     
    `,transliteration:`aa siddhi nava nidhi ke dt
asa bara dna jnak mt`,hindi_meaning:"             ()   ",meaning:"You are the grantor of the eight perfections and nine treasures, as given by Mother Janaki (Sita)."},{id:34,verse_number:34,chapter_number:1,text:`   
    `,transliteration:`rma rasyana tumhare ps
sad raho raghupati ke ds`,hindi_meaning:"  (-)           ",meaning:"The elixir of Rama is with you; may you remain forever the servant of Raghupati."},{id:35,verse_number:35,chapter_number:1,text:`    
-   `,transliteration:`tumhare bhajana rma ko pvai
janama-janama ke dukha bisarvai`,hindi_meaning:"        -     ",meaning:"By your devotion one attains Rama and forgets the sorrows of many births."},{id:36,verse_number:36,chapter_number:1,text:`    
  - `,transliteration:`ata kla raghubara pura j
jah janma hari-bhakta kah`,hindi_meaning:"         ,   -  ",meaning:"At the end one goes to Raghubira's abode where one is known as a devotee of Hari."},{id:37,verse_number:37,chapter_number:1,text:`    
    `,transliteration:`aura devat citta na dharai
hanumata sei sarba sukha karai`,hindi_meaning:"               ",meaning:"Fix not your mind on other deities; by Hanuman's grace all happiness is achieved."},{id:38,verse_number:38,chapter_number:1,text:`    
   `,transliteration:`sakaa kaai miai saba pr
jo sumirai hanumata balabr`,hindi_meaning:"     ,           ",meaning:"All troubles are cut and all pains removed for those who remember mighty Hanuman."},{id:39,verse_number:39,chapter_number:1,text:`    
    `,transliteration:`jaya jaya jaya hanumna gos
kp karahu gurudeva k n`,hindi_meaning:"           ",meaning:"Hail, hail, hail Hanuman Gosain; show mercy like a true guru."},{id:40,verse_number:40,chapter_number:1,text:`     
    `,transliteration:`jo sata bra pha kara jo
chuahi badi mah sukha ho`,hindi_meaning:"     ,         ",meaning:"Whoever recites this a hundred times is freed from bondage and attains great bliss."},{id:41,verse_number:41,chapter_number:1,text:`    
   `,transliteration:`jo yaha pahai hanumna cls
hoya siddhi skh gaurs`,hindi_meaning:"             () ",meaning:"Whoever reads this Hanuman Chalisa attains spiritual attainments; Gaurisa (Shiva) is witness."},{id:42,verse_number:42,chapter_number:1,text:`   
    `,transliteration:`tulasdsa sad hari cer
kjai ntha hdaya maha er`,hindi_meaning:"        !     ",meaning:"Tulsidas is forever a servant of Hari; O Lord, please make your abode in my heart."},{id:43,verse_number:43,chapter_number:1,text:`  ,   
   ,    `,transliteration:`pavanatanaya sakaa harana, magala mrti rpa
rma lakmaa st sahita, hdaya basahu sura bhpa`,hindi_meaning:" !    ,     --      ,    ",meaning:"O Son of the Wind, remover of troubles, embodiment of auspiciousness  dwell in my heart along with Rama, Lakshmana and Sita, O king of gods."}]}],Kj=[{id:1,chapter_number:1,name:"",name_meaning:"Sunderkand Path & Prayers",summary:"The complete devotional path including Sunderkand, Hanuman Chalisa, Sankatmochan, and Aartis.",verses_count:20,verses:[{id:1,verse_number:1,chapter_number:1,text:`  
  
    
   `,transliteration:`nta vatamaprameyamanagha nirvantiprada
brahmambhupandrasevyamania vedntavedya vibhum|
rmkhya jagadvara suraguru mymanuya hari
vande'ha karukara raghuvara bhplacmaim||1||`,hindi_meaning:"       ,  , ,  (  ), ,    , ,      ,     , ,    ,       ,     ,   ,            ",meaning:"I worship that Lord Hari, known by the name of Rama, who is peace personified, eternal, immeasurable, sinless, the bestower of the peace of final beatitude, constantly served by Brahma, Shiva and Sesha, knowable through the Vedanta, all-pervading, the Lord of the universe, the preceptor of the gods, who has assumed a human form through Maya, the dispeller of all sins, the mine of compassion, the best of the Raghus and the crest-jewel of kings."},{id:2,verse_number:2,chapter_number:1,text:`   
   
    
   `,transliteration:`nny sph raghupate hdaye'smadye
satya vadmi ca bhavnakhilntartm|
bhakti prayaccha raghupugava nirbhar me
kmdidoarahita kuru mnasa ca||2||`,hindi_meaning:" !            (   )           !    ()            ",meaning:"O Lord of the Raghus! There is no other desire in my heart; I speak the truth and You are the indwelling Spirit of all. O Best of the Raghus! Grant me Your full devotion and make my mind free from faults like lust, etc."},{id:3,verse_number:3,chapter_number:1,text:` 
 
 
  `,transliteration:`atulitabaladhma hemaailbhadeha
danujavanaknu jninmagragayam|
sakalaguanidhna vnarmadha
raghupatipriyabhakta vtajta nammi||3||`,hindi_meaning:"   ,    ()     ,    [  ]    ,   ,    ,   ,           ",meaning:"I bow to the son of the Wind-god, the beloved devotee of the Lord of the Raghus, the repository of incomparable strength, whose body resembles a golden mountain, who is a fire to the forest of demons, the foremost among the wise, the storehouse of all good qualities and the master of the monkeys."},{id:4,verse_number:4,chapter_number:1,text:`        
           
         
          `,transliteration:`jmavata ke bacana suhe| suni hanumata hdaya ati bhe||
taba lagi mohi parikhehu tumha bh| sahi dukha kada mla phala kh||
jaba lagi vau stahi dekh| hoihi kju mohi haraa bise||
yaha kahi ni sabanhi kahu mth| caleu harai hiya dhari raghunth||`,hindi_meaning:"            [ -]  !   , --      ,       []     ,                         ",meaning:"Jambavan's words were very pleasing to Hanuman's heart. He said, 'Brothers, wait for me here, sustaining yourselves on roots and fruits, until I return after seeing Sita. The work will surely be accomplished, for I feel very happy.' Saying this and bowing his head to them all, he set out with joy, cherishing the Lord of the Raghus in his heart."},{id:5,verse_number:5,chapter_number:1,text:`         
       
         
        `,transliteration:`sidhu tra eka bhdhara sudara| kautuka kdi cahaeu t para||
bra bra raghubra sabhr| tarakeu pavanatanaya bala bhr||
jehi giri carana dei hanumat| caleu so g ptla turat||
jimi amogha raghupati kara bn| eh bhti caleu hanumn||`,hindi_meaning:"            ( )       -                     ,              ,    ",meaning:"There was a beautiful mountain on the seashore. Hanuman sprang onto it with ease. Invoking the Hero of Raghu's line again and again, the son of the Wind-god leapt with great force. The mountain on which Hanuman planted his foot sank immediately into the nethermost region. Hanuman shot forth like the unerring shaft of the Lord of the Raghus."},{id:6,verse_number:6,chapter_number:1,text:`       

 
      
      `,transliteration:`jalanidhi raghupati dta bicr| tai mainka hohi ramahr||

Doha 1
hanmna tehi paras kara puni knha pranma|
rma kju knhe binu mohi kah birma||1||`,hindi_meaning:`             !       

[]       ,    - !        ?`,meaning:`The Ocean, realizing him to be the messenger of the Lord of the Raghus, said to Mainaka, 'O Mainaka! Relieve him of his fatigue.' 

[Doha 1] Hanuman simply touched the mountain with his hand, then bowed to it and said, 'There can be no rest for me until I have accomplished Rama's work.' ||1||`},{id:7,verse_number:7,chapter_number:1,text:`        
         
        
          `,transliteration:`jta pavanasuta devanha dekh| jnai kahu bala buddhi bise||
suras nma ahinha kai mt| pahainhi i kah tehi bt||
ju suranha mohi dnha ahr| sunata bacana kaha pavanakumr||
rma kju kari phiri mai vau| st kai sudhi prabhuhi sunvau||`,hindi_meaning:"          -            ,       -              -               ,",meaning:"The gods saw the son of the Wind-god speeding along. To test his strength and intelligence, they sent Surasa, the mother of serpents. She came and said to him, 'Today the gods have provided me a meal.' Hearing these words, the son of the Wind-god said, 'Let me return after accomplishing Rama's work and communicating the news of Sita to the Lord.'"},{id:8,verse_number:8,chapter_number:1,text:`          
         
         
        `,transliteration:`taba tava badana paihihau | satya kahau mohi jna de m||
kavanehu jatana dei nahi jn| grasasi na mohi kaheu hanumn||
jojana bhari tehi badanu pasr| kapi tanu knha duguna bistr||
soraha jojana mukha tehi hay| turata pavanasuta battisa bhay||`,hindi_meaning:"         !    ,             ,    -         (  )                          ",meaning:"'Then I will come and enter your mouth. I speak the truth, O mother! Let me go now.' When she would not let him go by any means, Hanuman said, 'Why don't you devour me then?' She expanded her mouth to a distance of one Yojan. The monkey made his body twice as large. She stretched her mouth sixteen Yojans wide. Instantly the son of the Wind-god became thirty-two Yojans long."},{id:9,verse_number:9,chapter_number:1,text:`         
         
         
          `,transliteration:`jasa jasa suras badanu bahv| tsu dna kapi rpa dikhv||
sata jojana tehi nana knh| ati laghu rpa pavanasuta lnh||
badana paihi puni bhera v| mg bid thi siru nv||
mohi suranha jehi lgi pahv| budhi bala maramu tora mai pv||`,hindi_meaning:"-      ,                             []            [ -]   -    ,       ",meaning:"Just as Surasa expanded her mouth, the monkey showed a form twice as large. When she made her mouth a hundred Yojans wide, the son of the Wind-god assumed a very minute form. He entered her mouth and came out again, and bowing his head to her, asked for leave. She said, 'I have gauged your wit and strength, for which the gods had sent me.'"},{id:10,verse_number:10,chapter_number:1,text:` 
       
      `,transliteration:`Doha 2
rma kju sabu karihahu tumha bala buddhi nidhna|
sia dei ga so harai caleu hanumna||2||`,hindi_meaning:"[]      ,   -         ,     ",meaning:"[Doha 2] 'You will accomplish all of Rama's work, for you are a repository of strength and wisdom.' Having given this blessing, she departed, and Hanuman proceeded happily. ||2||"},{id:11,verse_number:11,chapter_number:1,text:` 
       
        `,transliteration:`Doha 58
kehi pai kadar pharai koi jatana kou sca|
binaya na mna khagesa sunu ehi pai nava nca||58||`,hindi_meaning:"[  -]  ! ,      ,             ,       (   )",meaning:"[Kakabhushundi says:] Listen, O King of birds (Garuda)! Even if one waters a plantain with a million cares, it bears fruit only when it is hewn. A vile fellow heeds no prayer; he yields only when reprimanded. ||58||"},{id:12,verse_number:12,chapter_number:1,text:`          
          
        
           `,transliteration:`sabhaya sidhu gahi pada prabhu kere| chamahu ntha saba avaguna mere||
gagana samra anala jala dharan| inha kai ntha sahaja jaa karan||
tava prerita my upaje| si hetu saba grathani ge||
prabhu yasu jehi kaha jasa aha| so tehi bhti rahe sukha laha||`,hindi_meaning:"        -  !    ()    ! , , ,   -                    ,             ,         ",meaning:"Terrified, the Ocean clasped the Lord's feet. 'Forgive, O Lord, all my faults. Ether, air, fire, water and earth- all these, O Lord, are dull by nature. It is Maya who created them for the purpose of creation under Your inspiration: so declare all the scriptures. One finds happiness in remaining exactly where one has been placed by the Lord's command.'"},{id:13,verse_number:13,chapter_number:1,text:` 
      
        `,transliteration:`Doha 59
sunata binta bacana ati kaha kpla musuki|
jehi bidhi utarai kapi kaaku tta so kahahu upi||59||`,hindi_meaning:"          -  !        ,   ",meaning:"Hearing his exceedingly humble words, the All-merciful Lord said with a smile, 'Tell me, dear father, some device whereby the monkey host may cross the ocean.' ||59||"},{id:14,verse_number:14,chapter_number:1,text:`         
         
         
          `,transliteration:`ntha nla nala kapi dvau bh| larik rii sia p||
tinha ke parasa kie giri bhre| tarihahi jaladhi pratpa tumhre||
mai puni ura dhari prabhu prabhut| karihau bala anumna sah||
ehi bidhi ntha payodhi badhia| jehi yaha sujasu loka tihu gia||`,hindi_meaning:"[  -]  !                      -                           !     ,         ",meaning:"'O Lord, there are two monkey brothers, Nila and Nala. They got a blessing from a sage in their boyhood. Touched by them, huge mountains will float on the ocean by Your glory. I too, cherishing Your greatness in my heart, shall help You to the best of my ability. Bridge the ocean, O Lord, in this wise, so that Your glorious renown may be sung in all the three spheres.'"},{id:15,verse_number:15,chapter_number:1,text:`
       
       
        
        `,transliteration:`Chhand
nija bhavana gavaneu sidhu rraghupatihi yaha mata bhya|
yaha carita kali malahara jathmati dsa tulas gya||
sukha bhavana sasaya samana davana bida raghupati guna gan|
taji sakala sa bharosa gvahi sunahi satata saha man||`,hindi_meaning:"    ,     ( )           ,               ,               !     -      ",meaning:"The Ocean went home; the Lord of the Raghus liked his suggestion. This story, which wipes out the impurities of the Kali age, has been sung by Tulsidas according to his lights. The virtues of the Lord of the Raghus are an abode of delight, the dispeller of doubt and the crusher of sorrow. Discarding all other hope and confidence, O foolish mind, sing and hear them unceasingly."},{id:16,verse_number:16,chapter_number:1,text:` 
     
       

( )`,transliteration:`Doha 60
sakala sumagala dyaka raghunyaka guna gna|
sdara sunahi te tarahi bhava sidhu bin jalajna||60||`,hindi_meaning:"             ,     ( )      ",meaning:"The recital of the virtues of the Lord of the Raghus bestows all blessings. Those who reverently hear it cross the ocean of mundane existence without any boat (other means). ||60||"},{id:17,verse_number:17,chapter_number:1,text:`


       
       
  ,  -
    ,   `,transliteration:`Shri Hanuman Chalisa

Doha
shri guru charan saroj raj nij manu mukuru sudhari|
barnau raghubar bimal jasu jo dayaku phal chari||
buddhiheen tanu janike, sumirau pavan-kumar|
bal budhi bidya dehu mohin, harahu kales bikar||`,hindi_meaning:"              ,          ,    (, , , )       ,  - ()      !  ,             ",meaning:"Cleansing the mirror of my mind with the dust from the Lotus-feet of Divine Guru, I describe the unblemished glory of Lord Rama, which bestows four fruits of life (Dharma, Artha, Kama and Moksha). Considering myself devoid of intelligence, I meditate on you, O Son of the Wind. Grant me strength, intelligence and wisdom, and remove my sorrows and shortcomings."},{id:18,verse_number:18,chapter_number:1,text:`
         
     -  
       
       `,transliteration:`Chaupai
jay hanuman gyan gun sagar| jay kapis tihu lok ujagar||
ram dut atulit bal dhama| anjani-putra pavansut nama||
mahabir bikram bajarangi| kumati nivar sumati ke sangi||
kanchan baran biraj subesa| kanan kundal kunchit kesa||`,hindi_meaning:"      !           !                            ,               ( )                         ",meaning:"Victory to Hanuman, the ocean of wisdom and virtue. Victory to the Lord of Monkeys, renowned in all three worlds. You are the messenger of Rama, the repository of immeasurable strength. You are known as Anjani-Putra (son of Anjani) and Pavansut (son of the Wind). O great hero, you are valiant and your body is like a thunderbolt. You dispel evil thoughts and are a companion of wisdom. Your complexion is golden, and you are beautifully attired. You wear ear-rings and have curly hair."},{id:19,verse_number:19,chapter_number:1,text:` 

     ,    
     ,       
    ,     
     ,   `,transliteration:`Sankatmochan Hanumanashtak

bal samay rabi bhakshi liyo tab, tinahu lok bhayo andhiyaro|
tahi so tras bhayo jag ko, yah sankat kahu so jat na taro||
devan aani kari binati tab, chhadi diyo rabi kashta nivaro|
ko nahin janat hai jagmein kapi, sankatmochan naam tiharo||1||`,hindi_meaning:"       ,                               ,             !         '' ",meaning:"In your childhood, you swallowed the sun, plunging the three worlds into darkness. The world was terrified, and no one could avert this crisis. Then the gods came and prayed to you; you released the sun and removed their distress. O Monkey Lord! Who in this world does not know that your name is 'Sankatmochan' (Liberator from Perils)?"},{id:20,verse_number:20,chapter_number:1,text:` 

        
     -    
        
        `,transliteration:`Shri Hanumanji Ki Aarti

aarti kijai hanuman lala ki| dushtadalan raghunath kala ki||
jake bal se girivar kampai| rog-dosh jake nikat na jhampai||
anjani putra maha baladai| santan ke prabhu sada sahai||
de bira raghunath pathaye| lanka jari siya sudhi laye||`,hindi_meaning:"    ,          ()     -       -   ()        ,              ,       () ",meaning:"Perform the Aarti of the beloved Hanuman, the destroyer of the wicked and the manifestation of Raghunath's power. By whose strength great mountains tremble, and near whom diseases and faults do not dare to approach. The son of Anjani, the bestower of great strength, the Lord of saints and their eternal helper. Whom Raghunath sent with a pledge, who burnt Lanka and brought news of Sita."}]}],$j=[{id:1,chapter_number:1,name:" ",name_meaning:"Bajrang Baan - The Thunderbolt Arrow",summary:"Bajrang Baan is a powerful prayer dedicated to Lord Hanuman, traditionally attributed to Tulsidas. It is recited for protection, removal of obstacles, and strength.",verses_count:14,verses:[{id:1,verse_number:1,chapter_number:1,text:" ",transliteration:"hanumna bhuka",hindi_meaning:"  -    ()  ",meaning:"Hanuman Bahuk - Praise of Hanuman's arms"},{id:2,verse_number:2,chapter_number:1,text:" ",transliteration:"rgaeya nama",hindi_meaning:"   ",meaning:"Salutations to Lord Ganesha"},{id:3,verse_number:3,chapter_number:1,text:`    
    `,transliteration:`jaya hanumna jna guna sgara
jaya kapsa tihu loka ujgara`,hindi_meaning:"                  ",meaning:"Victory to Hanuman, ocean of wisdom and virtue. Victory to the Lord of monkeys, illuminator of the three worlds."},{id:4,verse_number:4,chapter_number:1,text:`   
-  `,transliteration:`rmadta atulita bala dhm
ajani-putra pavanasuta nm`,hindi_meaning:"  ,    ,        ()   ",meaning:"Messenger of Rama, possessor of incomparable strength, known as the son of Anjani and the son of the wind."},{id:5,verse_number:5,chapter_number:1,text:`  
    `,transliteration:`mahbra bikrama bajarag
kumati nivra sumati ke sag`,hindi_meaning:",    ()                ",meaning:"Great hero, valiant and thunderbolt-bodied. Remover of evil thoughts and companion of the virtuous."},{id:6,verse_number:6,chapter_number:1,text:`   
    `,transliteration:`bajaraga ba japata hanumn
saba sukha lahaim tumhr saran`,hindi_meaning:"               ,      ",meaning:"Chanting the Bajrang Baan brings refuge in Hanuman; all happiness is obtained by seeking your shelter."},{id:7,verse_number:7,chapter_number:1,text:`    
-   `,transliteration:`tumhare bhajana rma ko pvai
janama-janama ke dukha bisarvai`,hindi_meaning:"         -     ",meaning:"Through your devotion one attains Rama and forgets the sorrows of many births."},{id:8,verse_number:8,chapter_number:1,text:`    
  - `,transliteration:`ata kla raghubara pura j
jah janma hari-bhakta kah`,hindi_meaning:"    ()   ()    ,   -  ",meaning:"At the end one goes to Raghubira's city where one is called a devotee of Hari."},{id:9,verse_number:9,chapter_number:1,text:`    
    `,transliteration:`aura devat citta na dharai
hanumata sei sarba sukha karai`,hindi_meaning:"               ",meaning:"Fix not your mind on other deities; by Hanuman's grace all happiness is achieved."},{id:10,verse_number:10,chapter_number:1,text:`    
   `,transliteration:`sakaa kaai miai saba pr
jo sumirai hanumata balabr`,hindi_meaning:"   ()    ,          ",meaning:"Whoever remembers Hanuman, the mighty hero, all their troubles are cut and all pains are removed."},{id:11,verse_number:11,chapter_number:1,text:`    
    `,transliteration:`jaya jaya jaya hanumna gos
kp karahu gurudeva k n`,hindi_meaning:"           ",meaning:"Hail, hail, hail Hanuman Gosain; show mercy as a true guru."},{id:12,verse_number:12,chapter_number:1,text:`     
    `,transliteration:`jo sata bra pha kara jo
chuahi badi mah sukha ho`,hindi_meaning:"     ,           ",meaning:"Whoever recites this a hundred times is freed from bondage and attains great bliss."},{id:13,verse_number:13,chapter_number:1,text:`    
   `,transliteration:`jo yaha pahai bajaraga ba
hoya siddhi skh gaurs`,hindi_meaning:"     ,          () ",meaning:"Whoever reads this Bajrang Baan attains spiritual accomplishments; Gaurisa (Shiva) is witness."},{id:14,verse_number:14,chapter_number:1,text:`   
    `,transliteration:`tulasdsa sad hari cer
kjai ntha hdaya maha er`,hindi_meaning:"     ()    !     ",meaning:"Tulsidas is forever a servant of Hari; O Lord, please make your abode in my heart."}]}],qj=[{id:1,chapter_number:1,name:" ",name_meaning:"Yaksha Prashna  The Questions of the Yaksha",summary:"The Yaksha Prashna (Yaksha-Yudhishthira Samvad) appears in the Vana Parva of the Mahabharata. It consists of a series of philosophical and ethical questions posed by a Yaksha to Yudhishthira, testing his wisdom, righteousness, and knowledge.",verses_count:126,verses:[{id:1,verse_number:1,chapter_number:1,text:`  ?
   `,transliteration:"kata srya udeti? / brahmaa tejas srya udeti.",hindi_meaning:` :       ?

 :        `,meaning:"The Sun rises by the radiance of Brahman, the Absolute."},{id:2,verse_number:2,chapter_number:1,text:`  ?
  `,transliteration:"ki svargt param? / pit svargt para.",hindi_meaning:` :     ?

 :     `,meaning:"The father is higher than heaven."},{id:3,verse_number:3,chapter_number:1,text:`  ?
  `,transliteration:"ki bhme guru? / mt bhme gurutar.",hindi_meaning:` :     ?

 :     `,meaning:"Mother is heavier than the earth."},{id:4,verse_number:4,chapter_number:1,text:`  ?
  `,transliteration:"ki vtt ghram? / mana vtt ghram.",hindi_meaning:` :     ?

 :     `,meaning:"The mind is swifter than the wind."},{id:5,verse_number:5,chapter_number:1,text:`   ?
   `,transliteration:"ki td adhika bahu? / sakalp td adhik bahava.",hindi_meaning:` :      ?

 :  ()     `,meaning:"Thoughts are more numerous than blades of grass."},{id:6,verse_number:6,chapter_number:1,text:`  ?
  `,transliteration:"ki ghi dhanam? / santoa la ca.",hindi_meaning:` :     ?

 :    ( ) `,meaning:"Contentment and good conduct are the true wealth of a householder."},{id:7,verse_number:7,chapter_number:1,text:`  ?
  `,transliteration:"ka riye vardhana? / dna riye vardhanam.",hindi_meaning:` :     ?

 :     `,meaning:"Charity enhances prosperity."},{id:8,verse_number:8,chapter_number:1,text:` ?
 `,transliteration:"ka ppa? / vivsaghtaka ppihatama.",hindi_meaning:` :   ?

 :     `,meaning:"The betrayer of trust is the greatest sinner."},{id:9,verse_number:9,chapter_number:1,text:`  ?
   `,transliteration:"ka naraka yti? / yo dharma jtv'dharma carati.",hindi_meaning:` :    ?

 :        `,meaning:"He who knows righteousness but chooses unrighteousness goes to hell."},{id:10,verse_number:10,chapter_number:1,text:`  ?
  `,transliteration:"ki rog bhayakaratamam? / lobho rog bhayakaratama.",hindi_meaning:` :      ?

 :      `,meaning:"Greed is the most dreadful disease."},{id:11,verse_number:11,chapter_number:1,text:` ?
      Brahmaa `,transliteration:"ka brhmaa? / dama satya day ca  etai brhmaa lakaam.",hindi_meaning:` :   ?

 :  (-),         `,meaning:"The one who has selfcontrol, truth, and compassion is a Brahmin (not birth)."},{id:12,verse_number:12,chapter_number:1,text:`  ?
  `,transliteration:"ki katriyasya teja? / aurya rakaa ca.",hindi_meaning:` :     ?

 :    `,meaning:"Valor and protection constitute a Kshatriya's divinity."},{id:13,verse_number:13,chapter_number:1,text:`  ?
   `,transliteration:"ki vaiyasya karma? / ki pauplana vijya ca.",hindi_meaning:` :     ?

 : ,    `,meaning:"Agriculture, cattlerearing, and commerce are a Vaishya's duties."},{id:14,verse_number:14,chapter_number:1,text:`  ?
`,transliteration:"ki drasya dharma? / sev.",hindi_meaning:` :     ?

 :  `,meaning:"Service is the Shudra's duty."},{id:15,verse_number:15,chapter_number:1,text:` ?
   `,transliteration:"kim dtavyam? / do dtavy  tyjy.",hindi_meaning:` :   ?

 :         `,meaning:"What should be given away? One's faults  they must be discarded."},{id:16,verse_number:16,chapter_number:1,text:`  ?
  `,transliteration:"ki phalaprada mahat? / tapa ca dna ca.",hindi_meaning:` :      ?

 :     `,meaning:"Austerity and charity give the greatest fruit."},{id:17,verse_number:17,chapter_number:1,text:` ?
       `,transliteration:"ka mitram? / padi tath dharme ca upakaroti  sa mitram.",hindi_meaning:` :   ?

 :             `,meaning:"One who helps in adversity and righteousness is a true friend."},{id:18,verse_number:18,chapter_number:1,text:` ?
     `,transliteration:"ka atru? / yo drohena v lobhena v hinsati.",hindi_meaning:` :   ?

 :         `,meaning:"He who harms you by deceit or greed is an enemy."},{id:19,verse_number:19,chapter_number:1,text:` ?
   ,   `,transliteration:"kim caryam? / ahortra mta payanti jan, tatheha jvitavchino bhavanti.",hindi_meaning:` :   ?

 : -    ,         `,meaning:"People see death daily, yet live as if they will never die  that is the greatest wonder."},{id:20,verse_number:20,chapter_number:1,text:`  ?
  `,transliteration:"ki dhant reya? / la rehatara dhant.",hindi_meaning:` :     ?

 :  ()    `,meaning:"Character is superior to wealth."},{id:21,verse_number:21,chapter_number:1,text:` ?
  `,transliteration:"ka araam? / dharma araa reham.",hindi_meaning:` :   ?

 :    `,meaning:"Righteousness is the best refuge."},{id:22,verse_number:22,chapter_number:1,text:`  ?
    `,transliteration:"ka puruasya mpa? / karma  purua karma myate.",hindi_meaning:` :     ?

 :        `,meaning:"A man is measured by his actions."},{id:23,verse_number:23,chapter_number:1,text:` ?
 `,transliteration:"ki priyam? / satya priyam.",hindi_meaning:` :   ?

 :   `,meaning:"Truth is dearest."},{id:24,verse_number:24,chapter_number:1,text:` ?
 `,transliteration:"ka priyatama? / dama priyatama.",hindi_meaning:` :    ?

 :  (-)   `,meaning:"Self-control is the greatest friend."},{id:25,verse_number:25,chapter_number:1,text:`  ?
  `,transliteration:"ki puya nayati? / nind puya nayati.",hindi_meaning:` :      ?

 :      `,meaning:"Fault-finding destroys merit."},{id:26,verse_number:26,chapter_number:1,text:` ?
 `,transliteration:"ki ghratamam? / mana ghratamam.",hindi_meaning:` :    ?

 :    `,meaning:"The mind is the fastest."},{id:27,verse_number:27,chapter_number:1,text:` ?
 `,transliteration:"ka balavattara? / kla balavattara.",hindi_meaning:` :    ?

 :  ()   `,meaning:"Time is the strongest."},{id:28,verse_number:28,chapter_number:1,text:`  ?
`,transliteration:"ki dukheu hitakaram? / dhairyam.",hindi_meaning:` :     ?

 :  `,meaning:"Fortitude is most useful in adversity."},{id:29,verse_number:29,chapter_number:1,text:` ?
   `,transliteration:"ka mukta? / yo rgadveavarjita sa mukta.",hindi_meaning:` :   ?

 :          `,meaning:"He is free who is free from attachment and aversion."},{id:30,verse_number:30,chapter_number:1,text:` ?
 `,transliteration:"kica sukhatamam? / santoa sukhatama.",hindi_meaning:` :     ?

 :     `,meaning:"Contentment is the highest happiness."},{id:31,verse_number:31,chapter_number:1,text:`  ?
   `,transliteration:"kim rj anvicchet? / lokasya hitam dharma ca.",hindi_meaning:` :    ?

 :      `,meaning:"A king should seek the welfare of his people and righteousness."},{id:32,verse_number:32,chapter_number:1,text:`  ?
     `,transliteration:"ka caur ncatama? / ya krti harati sa caur ncatama.",hindi_meaning:` :      ?

 :          `,meaning:"He who steals another's reputation is the worst of thieves."},{id:33,verse_number:33,chapter_number:1,text:`  ?
  `,transliteration:"ka dna reham? / annadna jnadna ca.",hindi_meaning:` :     ?

 :    `,meaning:"The best charity is giving food and giving knowledge."},{id:34,verse_number:34,chapter_number:1,text:`  ?
  `,transliteration:"ki narasya obh? / vidy narasya obh.",hindi_meaning:` :     ?

 :     `,meaning:"Knowledge is a man's beauty."},{id:35,verse_number:35,chapter_number:1,text:`  ?
`,transliteration:"ki pumsam anugacchati? / dharmo'nugacchati.",hindi_meaning:` :      ?

 :    `,meaning:"Righteousness follows a person."},{id:36,verse_number:36,chapter_number:1,text:`  ?
  `,transliteration:"ki ppa nighnti? / pryacitta ppa nighnti.",hindi_meaning:` :      ?

 :      `,meaning:"Atonement destroys sin."},{id:37,verse_number:37,chapter_number:1,text:` ?
`,transliteration:"ki dukha? / dridryam.",hindi_meaning:` :   ?

 :  `,meaning:"Poverty is sorrow."},{id:38,verse_number:38,chapter_number:1,text:` ?
 `,transliteration:"ka rog? / matsar rog.",hindi_meaning:` :   ?

 :   `,meaning:"The envious person is diseased."},{id:39,verse_number:39,chapter_number:1,text:` ?
    `,transliteration:"ka mha? / yo adharme ramyate sa mha.",hindi_meaning:` :   ?

 :        `,meaning:"One who delights in unrighteousness is a fool."},{id:40,verse_number:40,chapter_number:1,text:`  ?
`,transliteration:"ki rakati manuya? / dharma.",hindi_meaning:` :      ?

 :  `,meaning:"Dharma protects the human being."},{id:41,verse_number:41,chapter_number:1,text:`  ?
 `,transliteration:"ki nar bandhanam? / moha bandhanam.",hindi_meaning:` :     ?

 :   `,meaning:"Delusion is the bondage of humans."},{id:42,verse_number:42,chapter_number:1,text:`  ?
 `,transliteration:"ka mrga reha? / satyamrga reha.",hindi_meaning:` :     ?

 :   `,meaning:"The path of truth is the best path."},{id:43,verse_number:43,chapter_number:1,text:`  ?
 `,transliteration:"ki narasya mitram? / dharmo mitram.",hindi_meaning:` :     ?

 :   `,meaning:"Dharma is a man's friend."},{id:44,verse_number:44,chapter_number:1,text:` ?
`,transliteration:"ka panth? / satpanth.",hindi_meaning:` :    ?

 :  `,meaning:"The righteous road is the true road."},{id:45,verse_number:45,chapter_number:1,text:` ?
 `,transliteration:"ki amtam? / jnam amtam.",hindi_meaning:` :   ?

 :   `,meaning:"Knowledge is immortal."},{id:46,verse_number:46,chapter_number:1,text:`  ?
  `,transliteration:"kim ajnasya nanam? / vidy ajnasya nanam.",hindi_meaning:` :      ?

 :      `,meaning:"Knowledge destroys ignorance."},{id:47,verse_number:47,chapter_number:1,text:`  ?
  `,transliteration:"ka sasrasya pram? / vairgyam sasrasya pram.",hindi_meaning:` :     ?

 :     `,meaning:"Detachment is the shore beyond the ocean of worldly existence."},{id:48,verse_number:48,chapter_number:1,text:`  ?
  `,transliteration:"ki sarve hitatamam? / ahis sarve hitatamam.",hindi_meaning:` :      ?

 :      `,meaning:"Nonviolence is the greatest good for all."},{id:49,verse_number:49,chapter_number:1,text:` ?
    `,transliteration:"ka ra? / yo kma jayati sa ra.",hindi_meaning:` :   ?

 :        `,meaning:"He is a hero who conquers desire."},{id:50,verse_number:50,chapter_number:1,text:` ?
    `,transliteration:"ka parjita? / yo manas parjita sa parjita.",hindi_meaning:` :   ?

 :        `,meaning:"He is defeated who is defeated by his own mind."},{id:51,verse_number:51,chapter_number:1,text:`  ?
  `,transliteration:"ki dukham anantam? / avidy dukham anantam.",hindi_meaning:` :    ?

 :    `,meaning:"Ignorance is endless sorrow."},{id:52,verse_number:52,chapter_number:1,text:` ?
 `,transliteration:"ka dhanavn? / santoavn dhanavn.",hindi_meaning:` :   ?

 :   `,meaning:"The contented person is rich."},{id:53,verse_number:53,chapter_number:1,text:`  ?
  `,transliteration:"ki dna nitya? / ahis dna nityam.",hindi_meaning:` :    ?

 :    `,meaning:"Nonviolence is perpetual charity."},{id:54,verse_number:54,chapter_number:1,text:` ?
    `,transliteration:"ka dea? / yatra jvo labhyate sa dea.",hindi_meaning:` :   ?

 :       `,meaning:"Where one can live is the proper land."},{id:55,verse_number:55,chapter_number:1,text:` ?
     `,transliteration:"ka paita? / ya bhtn hita veda sa paita.",hindi_meaning:` :   ?

 :           `,meaning:"He who understands the welfare of all beings is wise."},{id:56,verse_number:56,chapter_number:1,text:` ?
   `,transliteration:"ka mrkha? / yo garvita sa mrkha.",hindi_meaning:` :   ?

 :      `,meaning:"The arrogant person is a fool."},{id:57,verse_number:57,chapter_number:1,text:`  ?
  `,transliteration:"ki jagati durlabham? / sadbhva jagati durlabha.",hindi_meaning:` :     ?

 :     `,meaning:"Goodness is rare in the world."},{id:58,verse_number:58,chapter_number:1,text:` ?
  `,transliteration:"ki sram? / dharma eva sra.",hindi_meaning:` :   ?

 :    `,meaning:"Dharma is the essence."},{id:59,verse_number:59,chapter_number:1,text:` ?
     `,transliteration:"ka mahtm? / yo sarve hita icchati sa mahtm.",hindi_meaning:` :   ?

 :        `,meaning:"He who desires the welfare of all is noble."},{id:60,verse_number:60,chapter_number:1,text:`   ?
   `,transliteration:"ki nar param yu? / sadcra  sa yu.",hindi_meaning:` :      ?

 :     `,meaning:"Good conduct is the highest lifespan (it outlives the body)."},{id:61,verse_number:61,chapter_number:1,text:`   ?
    `,transliteration:"ka paita iti ucyate? / ya strrtha carati sa paita.",hindi_meaning:` :    ?

 :         `,meaning:"He who lives according to scriptural wisdom is truly learned."},{id:62,verse_number:62,chapter_number:1,text:`  ?
  `,transliteration:"ki rakati jvitam? / anna jvita rakati.",hindi_meaning:` :      ?

 :      `,meaning:"Food protects life."},{id:63,verse_number:63,chapter_number:1,text:`   ?
`,transliteration:"ka manuyn nayati ptlam? / lobha.",hindi_meaning:` :       ?

 :  `,meaning:"Greed drags humans to ruin."},{id:64,verse_number:64,chapter_number:1,text:`   ?
  `,transliteration:"ka manuya svarga nayati? / satya svarga nayati.",hindi_meaning:` :       ?

 :     `,meaning:"Truthfulness leads a person to heaven."},{id:65,verse_number:65,chapter_number:1,text:`  ?
`,transliteration:"ki sarve priyatamam? / jvitam.",hindi_meaning:` :     ?

 :  `,meaning:"Life is dearest to all beings."},{id:66,verse_number:66,chapter_number:1,text:`  ?
  `,transliteration:"ki para tpasya? / dharmaplana para tpasya.",hindi_meaning:` :     ?

 :     `,meaning:"Upholding dharma is supreme austerity."},{id:67,verse_number:67,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve bandhu? / dharma sarve bandhu.",hindi_meaning:` :    ?

 :    `,meaning:"Dharma is the universal relative and protector."},{id:68,verse_number:68,chapter_number:1,text:`  ?
  `,transliteration:"ki vidt uttamam? / dhairya vidt uttamam.",hindi_meaning:` :     ?

 :     `,meaning:"Courage is better than despair."},{id:69,verse_number:69,chapter_number:1,text:`  ?
  `,transliteration:"ka dukhasya mlam? / rga dukhasya mlam.",hindi_meaning:` :     ?

 :     `,meaning:"Attachment is the root of suffering."},{id:70,verse_number:70,chapter_number:1,text:`  ?
`,transliteration:"ka sukhasya mlam? / vairgyam.",hindi_meaning:` :     ?

 :  `,meaning:"Detachment is the root of happiness."},{id:71,verse_number:71,chapter_number:1,text:` ?
 `,transliteration:"kim anarthahetu? / apraj anarthahetu.",hindi_meaning:` :     ?

 :     `,meaning:"Lack of wisdom is the cause of misfortune."},{id:72,verse_number:72,chapter_number:1,text:`  ?
 `,transliteration:"ka patha kaatama? / adharmapatha kaatama.",hindi_meaning:` :      ?

 :    `,meaning:"The path of unrighteousness is the most difficult."},{id:73,verse_number:73,chapter_number:1,text:` ?
 `,transliteration:"kica vatam? / dharma vata.",hindi_meaning:` :   ?

 :   `,meaning:"Dharma alone is eternal."},{id:74,verse_number:74,chapter_number:1,text:`  ?
  `,transliteration:"ka sarvabhtn pit? / dharma sarvabhtn pit.",hindi_meaning:` :      ?

 :      `,meaning:"Dharma is the father of all beings."},{id:75,verse_number:75,chapter_number:1,text:`  ?
  `,transliteration:"ki rakati sarvn? / satya rakati sarvn.",hindi_meaning:` :     ?

 :     `,meaning:"Truth protects everyone."},{id:76,verse_number:76,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve atru? / ajna sarve atru.",hindi_meaning:` :    ?

 :    `,meaning:"Ignorance is the enemy of all."},{id:77,verse_number:77,chapter_number:1,text:`  ?
  `,transliteration:"ka dharmasya mlam? / ahis dharmasya mlam.",hindi_meaning:` :     ?

 :     `,meaning:"Non-violence is the root of dharma."},{id:78,verse_number:78,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve priya? / satyabh sarve priya.",hindi_meaning:` :    ?

 :    `,meaning:"The truth-speaker is dear to everyone."},{id:79,verse_number:79,chapter_number:1,text:`  ?
  `,transliteration:"ka para var? / jna para varam.",hindi_meaning:` :    ?

 :    `,meaning:"Knowledge is the supreme boon."},{id:80,verse_number:80,chapter_number:1,text:`  ?
  `,transliteration:"ka sarvasya dhra? / dharma sarvasya dhra.",hindi_meaning:` :    ?

 :    `,meaning:"Dharma is the foundation of everything."},{id:81,verse_number:81,chapter_number:1,text:`  ?
  `,transliteration:"ka satyasya mlam? / dharma satyasya mlam.",hindi_meaning:` :     ?

 :     `,meaning:"Dharma is the root of truth."},{id:82,verse_number:82,chapter_number:1,text:`  ?
 `,transliteration:"ki dna puyatamam? / annadna puyatamam.",hindi_meaning:` :     ?

 :    `,meaning:"Food-giving is the most sacred charity."},{id:83,verse_number:83,chapter_number:1,text:`  ?
     `,transliteration:"ka r ra? / yo dhairyea sthita sa r ra.",hindi_meaning:` :     ?

 :          `,meaning:"He who stands firm with courage is the hero among heroes."},{id:84,verse_number:84,chapter_number:1,text:`  ?
 `,transliteration:"ki nar saukhyam? / santoa saukhyam.",hindi_meaning:` :     ?

 :   `,meaning:"Contentment is happiness for humans."},{id:85,verse_number:85,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve hitakr? / dharma sarve hitakr.",hindi_meaning:` :    ?

 :    `,meaning:"Dharma benefits all beings."},{id:86,verse_number:86,chapter_number:1,text:` ?
    `,transliteration:"ka mahbala? / yo mana nighti sa mahbala.",hindi_meaning:` :   ?

 :         `,meaning:"He who controls his mind is truly powerful."},{id:87,verse_number:87,chapter_number:1,text:` ?
 `,transliteration:"kim updeyam? / sadcra updeya.",hindi_meaning:` :   ?

 :   `,meaning:"Good conduct is worth adopting."},{id:88,verse_number:88,chapter_number:1,text:` ?
 `,transliteration:"ka parityjya? / adharma parityjya.",hindi_meaning:` :    ?

 :    `,meaning:"Unrighteousness must be abandoned."},{id:89,verse_number:89,chapter_number:1,text:`  ?
 `,transliteration:"ka sarvadharm sra? / ahis sarvadharmasra.",hindi_meaning:` :      ?

 :      `,meaning:"Nonviolence is the essence of all dharma."},{id:90,verse_number:90,chapter_number:1,text:`   ?
  `,transliteration:"ki sarve priyatama dhanam? / vidy priyatama dhanam.",hindi_meaning:` :      ?

 :     `,meaning:"Knowledge is the most beloved wealth for all."},{id:91,verse_number:91,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve bandhanam? / rga sarve bandhanam.",hindi_meaning:` :    ?

 :    `,meaning:"Attachment is the bondage of all beings."},{id:92,verse_number:92,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve mokaka? / jna sarve mokaka.",hindi_meaning:` :    ?

 :    `,meaning:"Knowledge is the liberator of all beings."},{id:93,verse_number:93,chapter_number:1,text:` ?
 `,transliteration:"ka mahgua? / kam mahgua.",hindi_meaning:` :   ?

 :   `,meaning:"Forgiveness is the greatest virtue."},{id:94,verse_number:94,chapter_number:1,text:` ?
- `,transliteration:"ka mahppa? / ahis-tyga mahppa.",hindi_meaning:` :   ?

 :     `,meaning:"Abandoning non-violence is a great sin."},{id:95,verse_number:95,chapter_number:1,text:`  ?
  `,transliteration:"ki sarvath tyjyam? / krodha sarvath tyjya.",hindi_meaning:` :       ?

 :       `,meaning:"Anger must always be abandoned."},{id:96,verse_number:96,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve mitram? / samat sarve mitram.",hindi_meaning:` :    ?

 :    `,meaning:"Equanimity is the friend of all beings."},{id:97,verse_number:97,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve atru? / dvea sarve atru.",hindi_meaning:` :    ?

 :    `,meaning:"Hatred is the enemy of all beings."},{id:98,verse_number:98,chapter_number:1,text:`  ?
  `,transliteration:"ka ppasya mlam? / lobha ppasya mlam.",hindi_meaning:` :     ?

 :     `,meaning:"Greed is the root of sin."},{id:99,verse_number:99,chapter_number:1,text:`  ?
  `,transliteration:"ka puyasya mlam? / raddh puyasya mlam.",hindi_meaning:` :     ?

 :     `,meaning:"Faith is the root of merit."},{id:100,verse_number:100,chapter_number:1,text:`   ?
   `,transliteration:"ka narasya mahn vaira? / ajna narasya mahn vaira.",hindi_meaning:` :      ?

 :      `,meaning:"Ignorance is man's greatest enemy."},{id:101,verse_number:101,chapter_number:1,text:`  ?
  `,transliteration:"ki sarve gurutamam? / mt sarve gurutam.",hindi_meaning:` :      ?

 :      `,meaning:"The mother is the greatest teacher for all."},{id:102,verse_number:102,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve dayitatama? / pit sarve dayitatama.",hindi_meaning:` :     ?

 :     `,meaning:"The father is the most beloved of all."},{id:103,verse_number:103,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve poaka? / anna sarve poaka.",hindi_meaning:` :    ?

 :    `,meaning:"Food nourishes all beings."},{id:104,verse_number:104,chapter_number:1,text:`  ?
  `,transliteration:"ka dharm reha? / ahis dharm reha.",hindi_meaning:` :     ?

 :     `,meaning:"Nonviolence is the highest of all dharmas."},{id:105,verse_number:105,chapter_number:1,text:`  ?
  `,transliteration:"ka sarvappn naka? / pryacitta ppn naka.",hindi_meaning:` :      ?

 :     `,meaning:"Atonement destroys all sins."},{id:106,verse_number:106,chapter_number:1,text:` ?
  `,transliteration:"ka pvaka? / jna pvaka paramam.",hindi_meaning:` :   ?

 :    `,meaning:"Knowledge is the supreme purifier."},{id:107,verse_number:107,chapter_number:1,text:`  ?
 `,transliteration:"ka dukara manuyea? / manonigraha dukara.",hindi_meaning:` :      ?

 :   `,meaning:"Control of the mind is most difficult for humans."},{id:108,verse_number:108,chapter_number:1,text:` ?
 `,transliteration:"ka pvana? / satsaga pvana.",hindi_meaning:` :   ?

 :   `,meaning:"Association with the good is purifying."},{id:109,verse_number:109,chapter_number:1,text:`  ?
  `,transliteration:"ka para teja? / satya para teja.",hindi_meaning:` :    ?

 :    `,meaning:"Truth is the supreme light."},{id:110,verse_number:110,chapter_number:1,text:`  ?
 `,transliteration:"ka sarv adhihnam? / dharma sarvdhishnam.",hindi_meaning:` :    ?

 :    `,meaning:"Dharma is the foundation of all things."},{id:111,verse_number:111,chapter_number:1,text:`  ?
  `,transliteration:"ka nityam avekaya? / tm nityam avekaya.",hindi_meaning:` :    ?

 :     `,meaning:"The Self must be contemplated always."},{id:112,verse_number:112,chapter_number:1,text:`  ?
  `,transliteration:"ka nityam dhrya? / dharma nityam dhrya.",hindi_meaning:` :     ?

 :      `,meaning:"Dharma must be upheld at all times."},{id:113,verse_number:113,chapter_number:1,text:`  ?
  `,transliteration:"ki nitya sevanyam? / sadvtti nitya sevany.",hindi_meaning:` :     ?

 :      `,meaning:"Good conduct must always be practiced."},{id:114,verse_number:114,chapter_number:1,text:`  ?
  `,transliteration:"ka paramo bandhu? / dharma paramo bandhu.",hindi_meaning:` :    ?

 :    `,meaning:"Dharma is the supreme relative."},{id:115,verse_number:115,chapter_number:1,text:`  ?
  `,transliteration:"ka mantra sarvottama? / satya mantra sarvottama.",hindi_meaning:` :     ?

 :     `,meaning:"Truth is the highest mantra."},{id:116,verse_number:116,chapter_number:1,text:` ?
 `,transliteration:"ka hnikara? / adharma hnikara.",hindi_meaning:` :   ?

 :   `,meaning:"Unrighteousness is harmful."},{id:117,verse_number:117,chapter_number:1,text:` ?
 `,transliteration:"ka ntikara? / jna ntikaram.",hindi_meaning:` :   ?

 :   `,meaning:"Knowledge brings peace."},{id:118,verse_number:118,chapter_number:1,text:`  ?
  `,transliteration:"ka jvanasya sra? / vairgya jvanasya sra.",hindi_meaning:` :     ?

 :     `,meaning:"Detachment is the essence of life."},{id:119,verse_number:119,chapter_number:1,text:`  ?
  `,transliteration:"ka ppasya naka? / pryacitta ppasya naka.",hindi_meaning:` :     ?

 :     `,meaning:"Atonement destroys sin."},{id:120,verse_number:120,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve araam? / dharma sarve araam.",hindi_meaning:` :    ?

 :    `,meaning:"Dharma is the refuge of all beings."},{id:121,verse_number:121,chapter_number:1,text:` ?
    `,transliteration:"ka pp? / yo gurn avamanyate sa pp.",hindi_meaning:` :   ?

 :         `,meaning:"He who disrespects his teachers is sinful."},{id:122,verse_number:122,chapter_number:1,text:`  ?
 ,       `,transliteration:"ka naraka gacchati? / ahis tyajati, satya vadati na  sa naraka gacchati.",hindi_meaning:` :    ?

 :     ,        `,meaning:"He who abandons non-violence and truth goes to hell."},{id:123,verse_number:123,chapter_number:1,text:` ?
 `,transliteration:"ka pvanatama? / satsaga pvanatama.",hindi_meaning:` :    ?

 :    `,meaning:"Association with the virtuous is most purifying."},{id:124,verse_number:124,chapter_number:1,text:`  ?
  `,transliteration:"ka sarve prabhu? / dharma sarve prabhu.",hindi_meaning:` :    ?

 :    `,meaning:"Dharma is the lord of all beings."},{id:125,verse_number:125,chapter_number:1,text:`  ?
     `,transliteration:"ka sarvatra pjya? / yo dharma carati sa sarvatra pjya.",hindi_meaning:` :    ?

 :          `,meaning:"He who practices righteousness is honored everywhere."},{id:126,verse_number:126,chapter_number:1,text:` ?
 `,transliteration:"ka pavitratama? / satya pavitratamam.",hindi_meaning:` :    ?

 :    `,meaning:"Truth is the purest of all."}]}];function Zj({onSearch:a,placeholder:e="Search..."}){const[t,n]=W.useState(""),i=o=>{const l=o.target.value;n(l),a(l)},s=()=>{n(""),a("")};return k.jsxs("div",{className:"relative animate-fadeIn",children:[k.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:k.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),k.jsx("input",{type:"text",value:t,onChange:i,placeholder:e,className:"w-full pl-10 pr-10 py-3 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none bg-white/90 backdrop-blur-sm text-gray-800 text-base sm:text-sm min-h-[44px]"}),t&&k.jsx("button",{onClick:s,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:k.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}const Xj={stress:["anxiety","worry","fear","trouble","difficulty","sorrow","grief","distress","tension","pressure","strain"],duty:["dharma","responsibility","obligation","work","action","karma","righteousness","purpose","calling"],happiness:["joy","peace","bliss","contentment","satisfaction","delight","pleasure","cheer","gladness"],death:["mortality","afterlife","soul","spirit","rebirth","reincarnation","moksha","liberation","immortality"],anger:["rage","wrath","fury","irritation","temper","resentment","hostility","annoyance"],karma:["action","deed","work","consequence","result","fate","destiny","deeds","activities"],meditation:["yoga","contemplation","concentration","mindfulness","dhyana","samadhi","practice","sadhana"],love:["devotion","affection","compassion","bhakti","attachment","care","kindness","mercy"],knowledge:["wisdom","understanding","insight","jnana","awareness","learning","education","enlightenment"],detachment:["renunciation","non-attachment","vairagya","indifference","dispassion","unattached"],self:["soul","atman","self","ego","identity","individual","person","being"],god:["krishna","lord","divine","supreme","brahman","ishvara","deity","almighty","creator"],path:["way","method","practice","yoga","marga","route","approach","technique"],mind:["thought","consciousness","intellect","buddhi","manas","mental","thinking","awareness"],control:["discipline","restraint","mastery","regulation","self-control","willpower","restraint"],peace:["tranquility","calm","serenity","shanti","quiet","stillness","harmony"],success:["achievement","victory","triumph","accomplishment","prosperity","wealth"],failure:["defeat","loss","mistake","error","defeat","downfall"],guidance:["direction","advice","counsel","instruction","teaching","guidance"],purpose:["meaning","goal","aim","objective","intention","reason"],suffering:["pain","misery","agony","torment","hardship","adversity"],devotion:["worship","prayer","bhakti","faith","dedication","surrender"]};function Qj(a){const e=a.toLowerCase(),t=[e];for(const[n,i]of Object.entries(Xj)){e.includes(n)&&t.push(...i);for(const s of i)e.includes(s)&&t.push(n,...i)}return[...new Set(t)]}function Jj(a,e){const t=Qj(a),n=a.toLowerCase().trim(),i=n.split(/\s+/).filter(o=>o.length>2),s=[];return e.forEach(o=>{o.verses.forEach(l=>{let u=0;const c=l.text.toLowerCase(),f=l.transliteration.toLowerCase(),p=l.meaning.toLowerCase(),g=l.hindi_meaning.toLowerCase(),b=o.summary.toLowerCase(),A=o.name_meaning.toLowerCase();p.includes(n)&&(u+=150),g.includes(n)&&(u+=120),(A.includes(n)||b.includes(n))&&(u+=80);const x=new RegExp(`\\b${n.replace(/\s+/g,"\\s+")}\\b`,"i");x.test(p)&&(u+=50),x.test(g)&&(u+=40),t.forEach(M=>{p.includes(M)&&(u+=15),g.includes(M)&&(u+=12),b.includes(M)&&(u+=8),A.includes(M)&&(u+=10)}),i.forEach(M=>{M.length>3?(p.includes(M)&&(u+=8),g.includes(M)&&(u+=6)):(p.includes(M)&&(u+=4),g.includes(M)&&(u+=3)),f.includes(M)&&(u+=3),c.includes(M)&&(u+=2),b.includes(M)&&(u+=4)}),u>0&&s.push({verse:l,chapter:o,score:u})})}),s.sort((o,l)=>l.score-o.score).slice(0,7)}function eI(a,e){return Jj(a,e).map(({verse:n,chapter:i})=>({chapter:i.chapter_number,verse:n.verse_number,meaning:n.meaning,chapterName:i.name_meaning,verseId:n.id}))}function tI({chapters:a,onNavigateToVerse:e}){const[t,n]=W.useState(!1),[i,s]=W.useState(!1),[o,l]=W.useState([{type:"bot",content:"Namaste!  I am the Gita Chatbot. Ask me questions about life, duty, karma, stress, happiness, or any topic, and I will find relevant verses from the Bhagavad Gita for you."}]),[u,c]=W.useState(""),f=W.useRef(null);W.useEffect(()=>{var b;(b=f.current)==null||b.scrollIntoView({behavior:"smooth"})},[o]);const p=()=>{if(!u.trim()||i)return;const b={type:"user",content:u};l(M=>[...M,b]);const A=u;c(""),s(!0);const x={type:"loading",content:"Searching the Bhagavad Gita..."};l(M=>[...M,x]),setTimeout(()=>{s(!1);const M=eI(A,a);l(T=>T.filter(C=>C.type!=="loading"));const w={type:"bot",content:M.length>0?`I found ${M.length} relevant verse${M.length>1?"s":""} from the Bhagavad Gita. Click on any verse to read it in detail:`:`I couldn't find specific verses matching "${A}". Try asking about:

 Duty and Dharma
 Karma and Actions
 Stress and Worry
 Happiness and Peace
 Meditation and Yoga
 Detachment and Renunciation
 Knowledge and Wisdom
 Devotion and Bhakti

Or rephrase your question with different words.`,verses:M.length>0?M:void 0};l(T=>[...T,w])},800)},g=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),p())};return k.jsxs(k.Fragment,{children:[!t&&k.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-20 sm:bottom-6 right-4 sm:right-6 bg-amber-500 text-white rounded-full p-4 shadow-lg hover:bg-amber-600 active:bg-amber-700 transition-all duration-300 z-50 animate-pulse-slow hover:animate-none touch-manipulation min-w-[56px] min-h-[56px] flex items-center justify-center","aria-label":"Open Chatbot",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),t&&k.jsxs("div",{className:"fixed inset-0 sm:inset-auto sm:bottom-6 sm:right-6 sm:w-96 sm:h-[600px] sm:rounded-xl bg-white shadow-2xl flex flex-col z-50 border-0 sm:border border-gray-200",children:[k.jsxs("div",{className:"bg-amber-500 text-white p-4 sm:rounded-t-xl flex items-center justify-between flex-shrink-0",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Gita Chatbot"}),k.jsx("p",{className:"text-xs text-amber-100",children:"Ask me anything"})]}),k.jsx("button",{onClick:()=>n(!1),className:"text-white hover:text-amber-100 active:text-amber-200 transition-colors p-2 -mr-2 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Close Chatbot",children:k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[o.map((b,A)=>k.jsx("div",{className:`flex ${b.type==="user"?"justify-end":"justify-start"} animate-fadeIn`,style:{animationDelay:`${A*.1}s`},children:k.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${b.type==="user"?"bg-amber-500 text-white":"bg-white text-gray-800 shadow-sm border border-gray-200"}`,children:b.type==="loading"?k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-amber-500 border-t-transparent"}),k.jsx("p",{className:"text-sm text-gray-600",children:b.content})]}):k.jsxs(k.Fragment,{children:[k.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.content}),b.verses&&b.verses.length>0&&k.jsx("div",{className:"mt-3 space-y-2",children:b.verses.map((x,M)=>k.jsxs("div",{onClick:()=>{e&&(n(!1),e(x.chapter,x.verse))},className:`bg-amber-50 border border-amber-200 rounded p-2 text-xs ${e?"cursor-pointer hover:bg-amber-100 hover:border-amber-300 transition-colors":""}`,children:[k.jsxs("div",{className:"font-semibold text-amber-700 mb-1",children:["Chapter ",x.chapter,": ",x.chapterName," - Verse ",x.verse,e&&k.jsx("span",{className:"ml-2 text-amber-600 text-[10px]",children:"(Click to read)"})]}),k.jsx("div",{className:"text-gray-700",children:x.meaning})]},M))})]})})},A)),k.jsx("div",{ref:f})]}),k.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-200 bg-white sm:rounded-b-xl flex-shrink-0",children:k.jsxs("div",{className:"flex gap-2",children:[k.jsx("input",{type:"text",value:u,onChange:b=>c(b.target.value),onKeyPress:g,placeholder:"Ask a question...",className:"flex-1 px-3 sm:px-4 py-2.5 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none text-sm min-h-[44px]"}),k.jsx("button",{onClick:p,className:"bg-amber-500 text-white px-4 py-2.5 sm:py-2 rounded-lg hover:bg-amber-600 active:bg-amber-700 transition-colors touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Send message",children:k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})]})}function nI({chapters:a,textName:e,textNameHindi:t,onChapterSelect:n,textType:i,hasPDF:s,onViewPDF:o}){const[l,u]=W.useState(""),[c,f]=W.useState(a);W.useEffect(()=>{f(a),u("")},[a,i]);const p=g=>{if(u(g),!g.trim()){f(a);return}const b=g.toLowerCase(),A=a.filter(x=>{const M=x.name.toLowerCase().includes(b),w=x.name_meaning.toLowerCase().includes(b),T=x.summary.toLowerCase().includes(b),C=x.verses.some(P=>P.text.toLowerCase().includes(b)||P.transliteration.toLowerCase().includes(b)||P.meaning.toLowerCase().includes(b)||P.hindi_meaning.toLowerCase().includes(b));return M||w||T||C});f(A)};return k.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-6 sm:py-8",children:[k.jsxs("div",{className:"text-center mb-6 sm:mb-8 animate-fadeIn",children:[k.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-6xl font-bold text-gray-800 mb-2",children:t}),k.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-600 mb-4",children:e}),s&&o&&k.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 sm:px-6 py-2 sm:py-3 bg-amber-500 text-white rounded-lg font-medium hover:bg-amber-600 active:bg-amber-700 transition-all duration-200 shadow-md hover:shadow-lg touch-manipulation",children:[k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),k.jsxs("span",{className:"text-sm sm:text-base",children:["View ",e," in PDF"]})]})]}),i==="gita"&&k.jsx("div",{className:"max-w-2xl mx-auto mb-6 sm:mb-8 px-2 sm:px-0",children:k.jsx(Zj,{onSearch:p,placeholder:`Search ${e}...`})}),k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 max-w-7xl mx-auto",children:c.map((g,b)=>k.jsx("div",{onClick:()=>n(g.chapter_number),className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg hover:shadow-2xl active:scale-95 transition-all duration-300 cursor-pointer touch-manipulation border border-gray-200 p-4 sm:p-6 animate-fadeIn",style:{animationDelay:`${b*.05}s`},children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-amber-600 mb-2",children:g.chapter_number}),k.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-2",children:g.name}),k.jsx("p",{className:"text-sm text-gray-600 mb-2 sm:mb-3",children:g.name_meaning}),k.jsx("p",{className:"text-xs text-gray-500 mb-2 line-clamp-2",children:g.summary}),k.jsxs("div",{className:"text-xs text-amber-600 font-medium",children:[g.verses_count," ",g.verses_count===1?"verse":"verses"]})]})},g.id))}),c.length===0&&k.jsx("div",{className:"text-center py-12",children:k.jsxs("p",{className:"text-gray-500 text-lg",children:['No chapters found matching "',l,'"']})}),i==="gita"&&k.jsx(tI,{chapters:a,onNavigateToVerse:(g,b)=>{n(g,b)}})]})}function yT({className:a="w-6 h-6"}){return k.jsx("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}function bT({className:a="w-6 h-6"}){return k.jsx("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}function _T({className:a="w-6 h-6"}){return k.jsx("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function aI({verse:a,chapterName:e,chapterNumber:t}){const[n,i]=W.useState(!1),s=async()=>{const o=`Chapter ${t}: ${e}
Verse ${a.verse_number}

${a.text}

${a.meaning}`,l=`${window.location.origin}${window.location.pathname}?chapter=${t}&verse=${a.verse_number}`;if(navigator.share)try{await navigator.share({title:`Bhagavad Gita - Chapter ${t}, Verse ${a.verse_number}`,text:o,url:l})}catch{console.log("Share cancelled")}else try{await navigator.clipboard.writeText(`${o}

${l}`),i(!0),setTimeout(()=>i(!1),2e3)}catch(u){console.error("Failed to copy:",u)}};return k.jsx("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2.5 sm:py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 active:bg-blue-700 transition-colors text-sm font-medium touch-manipulation min-h-[44px]",children:n?k.jsxs(k.Fragment,{children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),k.jsx("span",{children:"Copied!"})]}):k.jsxs(k.Fragment,{children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),k.jsx("span",{children:"Share"})]})})}function iI({chapter:a,currentVerse:e,onVerseChange:t,onBack:n,fontSize:i,textType:s}){const o=a.verses.find(A=>A.verse_number===e),l=a.verses.length,u=()=>{e>1&&t(e-1)},c=()=>{e<l&&t(e+1)};if(!o)return k.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[k.jsx("p",{className:"text-gray-500",children:"Verse not found"}),k.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600",children:"Back to Chapters"})]});const f=s==="gita",g="/dharmic-treasures/krishna-arjuna-bg.jpg".replace(/\/\//g,"/"),b=f?g:void 0;return f&&b&&console.log("Background image path:",b),k.jsxs("div",{className:`relative min-h-screen ${f?"":"container mx-auto px-3 sm:px-4 py-4 sm:py-6 md:py-8 max-w-4xl animate-fadeIn pb-20 sm:pb-8"}`,children:[f&&k.jsxs("div",{className:"fixed inset-0 z-0 animate-fadeIn",style:{backgroundImage:b?`url(${b})`:"linear-gradient(to bottom right, #fef3c7, #fed7aa, #fde68a)",backgroundSize:"cover",backgroundPosition:"center top",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",top:"40px",height:"calc(100% - 40px)"},children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/20"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-transparent to-black/10"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-transparent to-black/5"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-transparent via-transparent to-black/5"}),k.jsx("div",{className:"absolute inset-0 bg-black/15"})]}),k.jsxs("div",{className:`relative z-10 ${f?"container mx-auto px-3 sm:px-4 py-4 sm:py-6 md:py-8 max-w-4xl animate-fadeIn pb-20 sm:pb-8":""}`,children:[k.jsxs("div",{className:"mb-4 sm:mb-6",children:[k.jsxs("button",{onClick:n,className:`flex items-center gap-2 transition-all duration-300 mb-3 sm:mb-4 py-2 -ml-2 pl-2 pr-4 rounded-lg touch-manipulation animate-slideInLeft ${f?"text-white hover:text-amber-200 active:text-amber-300 drop-shadow-md":"text-gray-700 hover:text-amber-600 active:text-amber-700"}`,children:[k.jsx(yT,{className:"w-5 h-5 flex-shrink-0"}),k.jsx("span",{className:"text-sm sm:text-base",children:"Back to Chapters"})]}),k.jsx("div",{className:`${f?"bg-white/50 backdrop-blur-sm":"bg-white/90 backdrop-blur-sm"} rounded-xl shadow-lg p-4 sm:p-6 border border-white/30 animate-scaleIn`,children:k.jsxs("div",{className:"text-center mb-4",children:[k.jsx("div",{className:"text-xl sm:text-2xl font-bold text-amber-600 mb-2",children:a.chapter_number}),k.jsx("h1",{className:`text-xl sm:text-2xl md:text-3xl font-bold mb-2 ${f?"text-gray-900 drop-shadow-sm":"text-gray-800"}`,children:a.name}),k.jsx("p",{className:`text-base sm:text-lg mb-3 sm:mb-4 ${f?"text-gray-800 drop-shadow-sm font-semibold":"text-gray-600"}`,children:a.name_meaning}),k.jsx("p",{className:`text-xs sm:text-sm ${f?"text-gray-700 drop-shadow-sm font-medium":"text-gray-500"}`,children:a.summary})]})})]}),k.jsxs("div",{className:`${f?"bg-white/50 backdrop-blur-sm":"bg-white/90 backdrop-blur-sm"} rounded-xl shadow-lg p-4 sm:p-6 md:p-8 border border-white/30 mb-4 sm:mb-6 animate-fadeIn`,style:{fontSize:`${i}px`},children:[k.jsx("div",{className:"text-center mb-4 sm:mb-6",children:k.jsxs("div",{className:"inline-block bg-amber-500 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-semibold",children:["Verse ",o.verse_number]})}),k.jsx("div",{className:"mb-4 sm:mb-6",children:k.jsx("div",{className:`text-lg sm:text-xl md:text-2xl lg:text-3xl leading-relaxed text-center mb-3 sm:mb-4 ${f?"text-gray-900 drop-shadow-sm font-bold":"text-gray-800 font-medium"}`,children:o.text})}),k.jsxs("div",{className:"mb-4 sm:mb-6",children:[k.jsx("div",{className:`text-xs sm:text-sm font-semibold mb-2 ${f?"text-gray-800 drop-shadow-sm":"text-gray-600"}`,children:"Transliteration:"}),k.jsx("div",{className:`text-base sm:text-lg italic leading-relaxed ${f?"text-gray-800 drop-shadow-sm font-semibold":"text-gray-700"}`,children:o.transliteration})]}),k.jsxs("div",{className:"mb-4 sm:mb-6",children:[k.jsx("div",{className:`text-xs sm:text-sm font-semibold mb-2 ${f?"text-gray-800 drop-shadow-sm":"text-gray-600"}`,children:"Hindi Meaning:"}),s==="yakshaPrashna"&&o.hindi_meaning.includes(`

`)?k.jsx("div",{className:"text-base sm:text-lg text-gray-700 leading-relaxed",children:o.hindi_meaning.split(`

`).map((A,x)=>A.includes(" :")?k.jsx("div",{className:"mb-2",children:k.jsx("div",{className:"font-medium text-amber-700",children:A.trim()})},x):A.includes(" :")?k.jsx("div",{className:"ml-0",children:k.jsx("div",{className:"font-medium text-green-700",children:A.trim()})},x):k.jsx("div",{className:"mb-2",children:A.trim()},x))}):k.jsx("div",{className:`text-base sm:text-lg leading-relaxed whitespace-pre-line ${f?"text-gray-800 drop-shadow-sm font-semibold":"text-gray-700"}`,children:o.hindi_meaning})]}),k.jsxs("div",{className:"mb-4 sm:mb-6",children:[k.jsx("div",{className:`text-xs sm:text-sm font-semibold mb-2 ${f?"text-gray-800 drop-shadow-sm":"text-gray-600"}`,children:"Meaning:"}),k.jsx("div",{className:`text-base sm:text-lg leading-relaxed ${f?"text-gray-800 drop-shadow-sm font-semibold":"text-gray-700"}`,children:o.meaning})]}),k.jsx("div",{className:"flex justify-center mt-6",children:k.jsx(aI,{verse:o,chapterName:a.name,chapterNumber:a.chapter_number})})]},e),k.jsxs("div",{className:"fixed bottom-0 left-0 right-0 sm:relative sm:bottom-auto sm:left-auto sm:right-auto flex items-center justify-between bg-white/95 backdrop-blur-md sm:bg-white/90 sm:backdrop-blur-sm rounded-t-xl sm:rounded-xl shadow-lg sm:shadow-lg p-3 sm:p-4 border-t sm:border border-gray-200 animate-slideInRight z-40",children:[k.jsxs("button",{onClick:u,disabled:e===1,className:`flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-2 rounded-lg font-medium transition-all touch-manipulation min-h-[44px] ${e===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-amber-500 text-white hover:bg-amber-600 active:bg-amber-700"}`,children:[k.jsx(bT,{className:"w-5 h-5 flex-shrink-0"}),k.jsx("span",{className:"text-sm sm:text-base",children:"Previous"})]}),k.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 font-medium px-2",children:[e," / ",l]}),k.jsxs("button",{onClick:c,disabled:e===l,className:`flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-2 rounded-lg font-medium transition-all touch-manipulation min-h-[44px] ${e===l?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-amber-500 text-white hover:bg-amber-600 active:bg-amber-700"}`,children:[k.jsx("span",{className:"text-sm sm:text-base",children:"Next"}),k.jsx(_T,{className:"w-5 h-5 flex-shrink-0"})]})]})]})]})}const Un=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),fw=[.001,0,0,.001,0,0],m_=1.35,Pa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},_r={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Km="pdfjs_internal_editor_",be={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},je={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},wT={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ln={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Pm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Mt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ed={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Hp={ERRORS:0,WARNINGS:1,INFOS:5},fc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Ng={moveTo:0,lineTo:1,curveTo:2,closePath:3},kT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let eb=Hp.WARNINGS;function rI(a){Number.isInteger(a)&&(eb=a)}function sI(){return eb}function tb(a){eb>=Hp.INFOS&&console.info(`Info: ${a}`)}function _e(a){eb>=Hp.WARNINGS&&console.warn(`Warning: ${a}`)}function tt(a){throw new Error(a)}function Ne(a,e){a||tt(e)}function oI(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function D0(a,e=null,t=null){if(!a)return null;if(t&&typeof a=="string"){if(t.addDefaultProtocol&&a.startsWith("www.")){const i=a.match(/\./g);(i==null?void 0:i.length)>=2&&(a=`http://${a}`)}if(t.tryConvertEncoding)try{a=cI(a)}catch{}}const n=e?URL.parse(a,e):URL.parse(a);return oI(n)?n:null}function B0(a,e,t=!1){const n=URL.parse(a);return n?(n.hash=e,n.href):t&&D0(a,"http://example.com")?a.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ae(a,e,t,n=!1){return Object.defineProperty(a,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const zl=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class _S extends zl{constructor(e,t){super(e,"PasswordException"),this.code=t}}class f_ extends zl{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class oy extends zl{constructor(e){super(e,"InvalidPDFException")}}class $m extends zl{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class hI extends zl{constructor(e){super(e,"FormatError")}}class Ts extends zl{constructor(e){super(e,"AbortException")}}function xT(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&tt("Invalid argument for bytesToString");const e=a.length,t=8192;if(e<t)return String.fromCharCode.apply(null,a);const n=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=a.subarray(i,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function Up(a){typeof a!="string"&&tt("Invalid argument for stringToBytes");const e=a.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=a.charCodeAt(n)&255;return t}function lI(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function dI(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function uI(){try{return new Function(""),!0}catch{return!1}}class rn{static get isLittleEndian(){return Ae(this,"isLittleEndian",dI())}static get isEvalSupported(){return Ae(this,"isEvalSupported",uI())}static get isOffscreenCanvasSupported(){return Ae(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ae(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ae(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Ae(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const p_=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var _s,iv,pw;class re{static makeHexColor(e,t,n){return`#${p_[e]}${p_[t]}${p_[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],s=e[n+1];e[n]=i*t[0]+s*t[2]+t[4],e[n+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],s=t[1],o=t[2],l=t[3],u=t[4],c=t[5];for(let f=0;f<6;f+=2){const p=e[n+f],g=e[n+f+1];e[n+f]=p*i+g*o+u,e[n+f+1]=p*s+g*l+c}}static applyInverseTransform(e,t){const n=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const i=t[0],s=t[1],o=t[2],l=t[3],u=t[4],c=t[5],f=e[0],p=e[1],g=e[2],b=e[3];let A=i*f+u,x=A,M=i*g+u,w=M,T=l*p+c,C=T,P=l*b+c,I=P;if(s!==0||o!==0){const N=s*f,O=s*g,D=o*p,U=o*b;A+=D,w+=D,M+=U,x+=U,T+=N,I+=N,P+=O,C+=O}n[0]=Math.min(n[0],A,M,x,w),n[1]=Math.min(n[1],T,P,C,I),n[2]=Math.max(n[2],A,M,x,w),n[3]=Math.max(n[3],T,P,C,I)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],s=e[2],o=e[3],l=n**2+i**2,u=n*s+i*o,c=s**2+o**2,f=(l+c)/2,p=Math.sqrt(f**2-(l*c-u**2));t[0]=Math.sqrt(f+p||1),t[1]=Math.sqrt(f-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[n,s,i,o]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,n,i,s,o,l,u,c){c[0]=Math.min(c[0],e,l),c[1]=Math.min(c[1],t,u),c[2]=Math.max(c[2],e,l),c[3]=Math.max(c[3],t,u),E(this,_s,pw).call(this,e,n,s,l,t,i,o,u,3*(-e+3*(n-s)+l),6*(e-2*n+s),3*(n-e),c),E(this,_s,pw).call(this,e,n,s,l,t,i,o,u,3*(-t+3*(i-o)+u),6*(t-2*i+o),3*(i-t),c)}}_s=new WeakSet,iv=function(e,t,n,i,s,o,l,u,c,f){if(c<=0||c>=1)return;const p=1-c,g=c*c,b=g*c,A=p*(p*(p*e+3*c*t)+3*g*n)+b*i,x=p*(p*(p*s+3*c*o)+3*g*l)+b*u;f[0]=Math.min(f[0],A),f[1]=Math.min(f[1],x),f[2]=Math.max(f[2],A),f[3]=Math.max(f[3],x)},pw=function(e,t,n,i,s,o,l,u,c,f,p,g){if(Math.abs(c)<1e-12){Math.abs(f)>=1e-12&&E(this,_s,iv).call(this,e,t,n,i,s,o,l,u,-p/f,g);return}const b=f**2-4*p*c;if(b<0)return;const A=Math.sqrt(b),x=2*c;E(this,_s,iv).call(this,e,t,n,i,s,o,l,u,(-f+A)/x,g),E(this,_s,iv).call(this,e,t,n,i,s,o,l,u,(-f-A)/x,g)},S(re,_s);function cI(a){return decodeURIComponent(escape(a))}let g_=null,wS=null;function ST(a){return g_||(g_=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wS=new Map([["","t"]])),a.replaceAll(g_,(e,t,n)=>t?t.normalize("NFKC"):wS.get(n))}function F0(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),xT(a)}const z0="pdfjs_internal_id_";function mI(a,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...s]=t;if(!a(n)&&!Number.isInteger(n)||!e(i))return!1;const o=s.length;let l=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;l=!1;break;default:return!1}for(const u of s)if(!(typeof u=="number"||l&&u===null))return!1;return!0}function Mn(a,e,t){return Math.min(Math.max(a,e),t)}function AT(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(xT(a))}function fI(a){return Uint8Array.fromBase64?Uint8Array.fromBase64(a):Up(atob(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...e){return new Promise(t=>{t(a(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(a){return a.reduce((e,t)=>e+t,0)});class qm{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(s){var u;if(!s)return;let o=null;const l=s.name;if(l==="#text")o=s.value;else if(qm.shouldBuildText(l))(u=s==null?void 0:s.attributes)!=null&&u.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class H0{static setupStorage(e,t,n,i,s){const o=i.getValue(t,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{i.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of n.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const u=l.target.options,c=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:s}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[u,c]of Object.entries(o))if(c!=null)switch(u){case"class":c.length&&e.setAttribute(u,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!l||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,c)}l&&s.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,t,n)}static render(e){var p,g;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:n});const l=s!=="richText",u=e.div;if(u.append(o),e.viewport){const b=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=b}l&&u.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const b=document.createTextNode(i.value);o.append(b),l&&qm.shouldBuildText(i.name)&&c.push(b)}return{textDivs:c}}const f=[[i,-1,o]];for(;f.length>0;){const[b,A,x]=f.at(-1);if(A+1===b.children.length){f.pop();continue}const M=b.children[++f.at(-1)[1]];if(M===null)continue;const{name:w}=M;if(w==="#text"){const C=document.createTextNode(M.value);c.push(C),x.append(C);continue}const T=(p=M==null?void 0:M.attributes)!=null&&p.xmlns?document.createElementNS(M.attributes.xmlns,w):document.createElement(w);if(x.append(T),M.attributes&&this.setAttributes({html:T,element:M,storage:t,intent:s,linkService:n}),((g=M.children)==null?void 0:g.length)>0)f.push([M,-1,T]);else if(M.value){const C=document.createTextNode(M.value);l&&qm.shouldBuildText(w)&&c.push(C),T.append(C)}}for(const b of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Lr="http://www.w3.org/2000/svg",uh=class uh{};K(uh,"CSS",96),K(uh,"PDF",72),K(uh,"PDF_TO_CSS_UNITS",uh.CSS/uh.PDF);let Es=uh;async function _c(a,e="text"){if(Jc(a,document.baseURI)){const t=await fetch(a);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",a,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class Wp{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=o,n*=t;const u=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let f,p,g,b;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,p=0,g=0,b=1;break;case 90:f=0,p=1,g=1,b=0;break;case 270:f=0,p=-1,g=-1,b=0;break;case 0:f=1,p=0,g=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(g=-g,b=-b);let A,x,M,w;f===0?(A=Math.abs(c-e[1])*n+s,x=Math.abs(u-e[0])*n+o,M=(e[3]-e[1])*n,w=(e[2]-e[0])*n):(A=Math.abs(u-e[0])*n+s,x=Math.abs(c-e[1])*n+o,M=(e[2]-e[0])*n,w=(e[3]-e[1])*n),this.transform=[f*n,p*n,g*n,b*n,A-f*n*u-g*n*c,x-p*n*u-b*n*c],this.width=M,this.height=w}get rawDims(){const e=this.viewBox;return Ae(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Wp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return re.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];re.applyTransform(t,this.transform);const n=[e[2],e[3]];return re.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return re.applyInverseTransform(n,this.transform),n}}class nb extends zl{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Vp(a){const e=a.length;let t=0;for(;t<e&&a[t].trim()==="";)t++;return a.substring(t,t+5).toLowerCase()==="data:"}function ab(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function TT(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function ET(a,e="document.pdf"){if(typeof a!="string")return e;if(Vp(a))return _e('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(a);if(!n)return e;const i=l=>{try{let u=decodeURIComponent(l);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:l):u}catch{return l}},s=/\.pdf$/i,o=n.pathname.split("/").at(-1);if(s.test(o))return i(o);if(n.searchParams.size>0){const l=Array.from(n.searchParams.values()).reverse();for(const c of l)if(s.test(c))return i(c);const u=Array.from(n.searchParams.keys()).reverse();for(const c of u)if(s.test(c))return i(c)}if(n.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(u)return i(u[0])}return e}class kS{constructor(){K(this,"started",Object.create(null));K(this,"times",[])}time(e){e in this.started&&_e(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||_e(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Jc(a,e){const t=e?URL.parse(a,e):URL.parse(a);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Da(a){a.preventDefault()}function yt(a){a.preventDefault(),a.stopPropagation()}function pI(a){console.log("Deprecated API usage: "+a)}var tf;class Zm{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;h(this,tf)||y(this,tf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=h(this,tf).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const c=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,c==="-"?(o+=f,l+=p):c==="+"&&(o-=f,l-=p),new Date(Date.UTC(n,i,s,o,l,u))}}tf=new WeakMap,S(Zm,tf);function CT(a,{scale:e=1,rotation:t=0}){const{width:n,height:i}=a.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new Wp({viewBox:s,userUnit:1,scale:e,rotation:t})}function wc(a){if(a.startsWith("#")){const e=parseInt(a.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(e=>parseInt(e)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(_e(`Not a valid color format: "${a}"`),[0,0,0])}function gI(a){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of a.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;a.set(t,wc(n))}e.remove()}function gt(a){const{a:e,b:t,c:n,d:i,e:s,f:o}=a.getTransform();return[e,t,n,i,s,o]}function Yi(a){const{a:e,b:t,c:n,d:i,e:s,f:o}=a.getTransform().invertSelf();return[e,t,n,i,s,o]}function Ko(a,e,t=!1,n=!0){if(e instanceof Wp){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=a,l=rn.isCSSRoundSupported,u=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,f=l?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=l?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=f,o.height=p):(o.width=p,o.height=f)}n&&a.setAttribute("data-main-rotation",e.rotation)}class Oi{constructor(){const{pixelRatio:e}=Oi;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,s=-1){let o=1/0,l=1/0,u=1/0;n=Oi.capPixels(n,s),n>0&&(o=Math.sqrt(n/(e*t))),i!==-1&&(l=i/e,u=i/t);const c=Math.min(o,l,u);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const hy=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class vI{static get isDarkMode(){var e;return Ae(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class PT{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),Ae(this,"commentForegroundColor",wc(n))}}function LT(a,e,t,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return a=Math.round(a*n+i),e=Math.round(e*n+i),t=Math.round(t*n+i),[a,e,t]}function xS(a,e){const t=a[0]/255,n=a[1]/255,i=a[2]/255,s=Math.max(t,n,i),o=Math.min(t,n,i),l=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const u=s-o;switch(e[1]=l<.5?u/(s+o):u/(2-s-o),s){case t:e[0]=((n-i)/u+(n<i?6:0))*60;break;case n:e[0]=((i-t)/u+2)*60;break;case i:e[0]=((t-n)/u+4)*60;break}}e[2]=l}function gw(a,e){const t=a[0],n=a[1],i=a[2],s=(1-Math.abs(2*i-1))*n,o=s*(1-Math.abs(t/60%2-1)),l=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+l,e[1]=o+l,e[2]=l;break;case 1:e[0]=o+l,e[1]=s+l,e[2]=l;break;case 2:e[0]=l,e[1]=s+l,e[2]=o+l;break;case 3:e[0]=l,e[1]=o+l,e[2]=s+l;break;case 4:e[0]=o+l,e[1]=l,e[2]=s+l;break;case 5:case 6:e[0]=s+l,e[1]=l,e[2]=o+l;break}}function SS(a){return a<=.03928?a/12.92:((a+.055)/1.055)**2.4}function AS(a,e,t){gw(a,t),t.map(SS);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];gw(e,t),t.map(SS);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const TS=new Map;function MT(a,e){const t=a[0]+a[1]*256+a[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=TS.get(t);if(n)return n;const i=new Float32Array(9),s=i.subarray(0,3),o=i.subarray(3,6);xS(a,o);const l=i.subarray(6,9);xS(e,l);const u=l[2]<.5,c=u?12:4.5;if(o[2]=u?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),AS(o,l,s)<c){let f,p;u?(f=o[2],p=1):(f=0,p=o[2]);const g=.005;for(;p-f>g;){const b=o[2]=(f+p)/2;u===AS(o,l,s)<c?f=b:p=b}o[2]=u?p:f}return gw(o,s),n=re.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),TS.set(t,n),n}function U0({html:a,dir:e,className:t},n){const i=document.createDocumentFragment();if(typeof a=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=a.split(/(?:\r\n?|\n)/);for(let l=0,u=o.length;l<u;++l){const c=o[l];s.append(document.createTextNode(c)),l<u-1&&s.append(document.createElement("br"))}i.append(s)}else H0.render({xfaHtml:a,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),n.append(i)}var zs,Hs,Ga,Ya,nf,Us,Rd,Od,af,by,jT,yn,IT,NT,td,em;const Nr=class Nr{constructor(e){S(this,yn);S(this,zs,null);S(this,Hs,null);S(this,Ga);S(this,Ya,null);S(this,nf,null);S(this,Us,null);S(this,Rd,null);S(this,Od,null);y(this,Ga,e),h(Nr,af)||y(Nr,af,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=y(this,zs,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=h(this,Ga)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Da,{signal:t}),e.addEventListener("pointerdown",E(Nr,by,jT),{signal:t}));const n=y(this,Ya,document.createElement("div"));n.className="buttons",e.append(n);const i=h(this,Ga).toolbarPosition;if(i){const{style:s}=e,o=h(this,Ga)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return h(this,zs)}hide(){var e;h(this,zs).classList.add("hidden"),(e=h(this,Hs))==null||e.hideDropdown()}show(){var e,t;h(this,zs).classList.remove("hidden"),(e=h(this,nf))==null||e.shown(),(t=h(this,Us))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=h(this,Ga),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",h(Nr,af)[e]),E(this,yn,td).call(this,n)&&n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),h(this,Ya).append(n)}async addAltText(e){const t=await e.render();E(this,yn,td).call(this,t),h(this,Ya).append(t,h(this,yn,em)),y(this,nf,e)}addComment(e,t=null){if(h(this,Us))return;const n=e.renderForToolbar();if(!n)return;E(this,yn,td).call(this,n);const i=y(this,Rd,h(this,yn,em));t?(h(this,Ya).insertBefore(n,t),h(this,Ya).insertBefore(i,t)):h(this,Ya).append(n,i),y(this,Us,e),e.toolbar=this}addColorPicker(e){if(h(this,Hs))return;y(this,Hs,e);const t=e.renderButton();E(this,yn,td).call(this,t),h(this,Ya).append(t,h(this,yn,em))}async addEditSignatureButton(e){const t=y(this,Od,await e.renderEditButton(h(this,Ga)));E(this,yn,td).call(this,t),h(this,Ya).append(t,h(this,yn,em))}removeButton(e){var t,n;switch(e){case"comment":(t=h(this,Us))==null||t.removeToolbarCommentButton(),y(this,Us,null),(n=h(this,Rd))==null||n.remove(),y(this,Rd,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,n){const i=h(this,Ya).querySelector(n);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){h(this,Od)&&(h(this,Od).title=e)}remove(){var e;h(this,zs).remove(),(e=h(this,Hs))==null||e.destroy(),y(this,Hs,null)}};zs=new WeakMap,Hs=new WeakMap,Ga=new WeakMap,Ya=new WeakMap,nf=new WeakMap,Us=new WeakMap,Rd=new WeakMap,Od=new WeakMap,af=new WeakMap,by=new WeakSet,jT=function(e){e.stopPropagation()},yn=new WeakSet,IT=function(e){h(this,Ga)._focusEventsAllowed=!1,yt(e)},NT=function(e){h(this,Ga)._focusEventsAllowed=!0,yt(e)},td=function(e){const t=h(this,Ga)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",E(this,yn,IT).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",E(this,yn,NT).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Da,{signal:t}),!0)},em=function(){const e=document.createElement("div");return e.className="divider",e},S(Nr,by),S(Nr,af,null);let vw=Nr;var rf,vh,Dr,Cs,RT,OT,yw;class yI{constructor(e){S(this,Cs);S(this,rf,null);S(this,vh,null);S(this,Dr);y(this,Dr,e)}show(e,t,n){const[i,s]=E(this,Cs,OT).call(this,t,n),{style:o}=h(this,vh)||y(this,vh,E(this,Cs,RT).call(this));e.append(h(this,vh)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,vh).remove()}}rf=new WeakMap,vh=new WeakMap,Dr=new WeakMap,Cs=new WeakSet,RT=function(){const e=y(this,vh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=h(this,Dr)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Da,{signal:t});const n=y(this,rf,document.createElement("div"));return n.className="buttons",e.append(n),h(this,Dr).hasCommentManager()&&E(this,Cs,yw).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{h(this,Dr).commentSelection("floating_button")}),E(this,Cs,yw).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{h(this,Dr).highlightSelection("floating_button")}),e},OT=function(e,t){let n=0,i=0;for(const s of e){const o=s.y+s.height;if(o<n)continue;const l=s.x+(t?s.width:0);if(o>n){i=l,n=o;continue}t?l>i&&(i=l):l<i&&(i=l)}return[t?1-i:i,n]},yw=function(e,t,n,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",n);const l=h(this,Dr)._signal;l instanceof AbortSignal&&!l.aborted&&(s.addEventListener("contextmenu",Da,{signal:l}),s.addEventListener("click",i,{signal:l})),h(this,rf).append(s)};function DT(a,e,t){for(const n of t)e.addEventListener(n,a[n].bind(a))}var _y;class bI{constructor(){S(this,_y,0)}get id(){return`${Km}${Ht(this,_y)._++}`}}_y=new WeakMap;var Dd,sf,An,Bd,rv;const ix=class ix{constructor(){S(this,Bd);S(this,Dd,F0());S(this,sf,0);S(this,An,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ae(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return E(this,Bd,rv).call(this,`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return E(this,Bd,rv).call(this,e,e)}async getFromBlob(e,t){const n=await t;return E(this,Bd,rv).call(this,e,n)}async getFromId(e){h(this,An)||y(this,An,new Map);const t=h(this,An).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){h(this,An)||y(this,An,new Map);let n=h(this,An).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${h(this,Dd)}_${Ht(this,sf)._++}`,refCounter:1,isSvg:!1},h(this,An).set(e,n),h(this,An).set(n.id,n),n}getSvgUrl(e){const t=h(this,An).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;h(this,An)||y(this,An,new Map);const t=h(this,An).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${h(this,Dd)}_`)}};Dd=new WeakMap,sf=new WeakMap,An=new WeakMap,Bd=new WeakSet,rv=async function(e,t){h(this,An)||y(this,An,new Map);let n=h(this,An).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${h(this,Dd)}_${Ht(this,sf)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await _c(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=ix._isSVGFittingCanvas,o=new FileReader,l=new Image,u=new Promise((c,f)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,c()},o.onload=async()=>{const p=n.svgUrl=o.result;l.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=o.onerror=f});o.readAsDataURL(i),await u}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){_e(i),n=null}return h(this,An).set(e,n),n&&h(this,An).set(n.id,n),n};let bw=ix;var jt,Ws,of,pt;class _I{constructor(e=128){S(this,jt,[]);S(this,Ws,!1);S(this,of);S(this,pt,-1);y(this,of,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(i&&e(),h(this,Ws))return;const u={cmd:e,undo:t,post:n,type:s};if(h(this,pt)===-1){h(this,jt).length>0&&(h(this,jt).length=0),y(this,pt,0),h(this,jt).push(u);return}if(o&&h(this,jt)[h(this,pt)].type===s){l&&(u.undo=h(this,jt)[h(this,pt)].undo),h(this,jt)[h(this,pt)]=u;return}const c=h(this,pt)+1;c===h(this,of)?h(this,jt).splice(0,1):(y(this,pt,c),c<h(this,jt).length&&h(this,jt).splice(c)),h(this,jt).push(u)}undo(){if(h(this,pt)===-1)return;y(this,Ws,!0);const{undo:e,post:t}=h(this,jt)[h(this,pt)];e(),t==null||t(),y(this,Ws,!1),y(this,pt,h(this,pt)-1)}redo(){if(h(this,pt)<h(this,jt).length-1){y(this,pt,h(this,pt)+1),y(this,Ws,!0);const{cmd:e,post:t}=h(this,jt)[h(this,pt)];e(),t==null||t(),y(this,Ws,!1)}}hasSomethingToUndo(){return h(this,pt)!==-1}hasSomethingToRedo(){return h(this,pt)<h(this,jt).length-1}cleanType(e){if(h(this,pt)!==-1){for(let t=h(this,pt);t>=0;t--)if(h(this,jt)[t].type!==e){h(this,jt).splice(t+1,h(this,pt)-t),y(this,pt,t);return}h(this,jt).length=0,y(this,pt,-1)}}destroy(){y(this,jt,null)}}jt=new WeakMap,Ws=new WeakMap,of=new WeakMap,pt=new WeakMap;var wy,BT;class Gp{constructor(e){S(this,wy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=rn.platform;for(const[n,i,s={}]of e)for(const o of n){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(E(this,wy,BT).call(this,t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:l=null}}=n;l&&!l(e,t)||(i.bind(e,...o,t)(),s||yt(t))}}wy=new WeakSet,BT=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const ky=class ky{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return gI(e),Ae(this,"_colors",e)}convert(e){const t=wc(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((s,o)=>s===t[o]))return ky._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?re.makeHexColor(...t):e}};K(ky,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _w=ky;var Fd,ca,zd,xt,Wt,Hd,Ka,Ud,$a,Tn,Vs,Gs,Wd,Ys,Zi,qa,yh,hf,lf,Vd,df,Xi,Ks,Gd,$s,Qi,xy,qs,Yd,uf,Zs,bh,Kd,Xs,cf,Bt,We,Br,Qs,Js,mf,$d,ff,eo,Ji,Fr,pf,gf,Za,J,sv,ww,FT,zT,tm,HT,UT,WT,kw,VT,xw,Sw,GT,Dn,Mr,YT,KT,Aw,$T,nm,Tw;const kd=class kd{constructor(e,t,n,i,s,o,l,u,c,f,p,g,b,A,x,M){S(this,J);S(this,Fd,new AbortController);S(this,ca,null);S(this,zd,null);S(this,xt,new Map);S(this,Wt,new Map);S(this,Hd,null);S(this,Ka,null);S(this,Ud,null);S(this,$a,new _I);S(this,Tn,null);S(this,Vs,null);S(this,Gs,null);S(this,Wd,0);S(this,Ys,new Set);S(this,Zi,null);S(this,qa,null);S(this,yh,new Set);K(this,"_editorUndoBar",null);S(this,hf,!1);S(this,lf,!1);S(this,Vd,!1);S(this,df,null);S(this,Xi,null);S(this,Ks,null);S(this,Gd,null);S(this,$s,!1);S(this,Qi,null);S(this,xy,new bI);S(this,qs,!1);S(this,Yd,!1);S(this,uf,!1);S(this,Zs,null);S(this,bh,null);S(this,Kd,null);S(this,Xs,null);S(this,cf,null);S(this,Bt,be.NONE);S(this,We,new Set);S(this,Br,null);S(this,Qs,null);S(this,Js,null);S(this,mf,null);S(this,$d,null);S(this,ff,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,eo,[0,0]);S(this,Ji,null);S(this,Fr,null);S(this,pf,null);S(this,gf,null);S(this,Za,null);const w=this._signal=h(this,Fd).signal;y(this,Fr,e),y(this,pf,t),y(this,gf,n),y(this,Hd,i),y(this,Tn,s),y(this,Qs,o),y(this,$d,u),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:w}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),l._on("setpreference",this.onSetPreference.bind(this),{signal:w}),l._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:w}),window.addEventListener("pointerdown",()=>{y(this,Yd,!0)},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{y(this,Yd,!1)},{capture:!0,signal:w}),E(this,J,HT).call(this),E(this,J,GT).call(this),E(this,J,kw).call(this),y(this,Ka,u.annotationStorage),y(this,df,u.filterFactory),y(this,Js,c),y(this,Gd,f||null),y(this,hf,p),y(this,lf,g),y(this,Vd,b),y(this,cf,A||null),this.viewParameters={realScale:Es.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=M!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=kd.prototype,t=o=>h(o,Fr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ae(this,"_keyboardManager",new Gp([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&h(o,Fr).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&h(o,Fr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n,i,s,o,l,u,c;(e=h(this,Za))==null||e.resolve(),y(this,Za,null),(t=h(this,Fd))==null||t.abort(),y(this,Fd,null),this._signal=null;for(const f of h(this,Wt).values())f.destroy();h(this,Wt).clear(),h(this,xt).clear(),h(this,yh).clear(),(n=h(this,Xs))==null||n.clear(),y(this,ca,null),h(this,We).clear(),h(this,$a).destroy(),(i=h(this,Hd))==null||i.destroy(),(s=h(this,Tn))==null||s.destroy(),(o=h(this,Qs))==null||o.destroy(),(l=h(this,Qi))==null||l.hide(),y(this,Qi,null),(u=h(this,Kd))==null||u.destroy(),y(this,Kd,null),y(this,zd,null),h(this,Xi)&&(clearTimeout(h(this,Xi)),y(this,Xi,null)),h(this,Ji)&&(clearTimeout(h(this,Ji)),y(this,Ji,null)),(c=this._editorUndoBar)==null||c.destroy(),y(this,$d,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return h(this,cf)}get useNewAltTextFlow(){return h(this,lf)}get useNewAltTextWhenAddingImage(){return h(this,Vd)}get hcmFilter(){return Ae(this,"hcmFilter",h(this,Js)?h(this,df).addHCMFilter(h(this,Js).foreground,h(this,Js).background):"none")}get direction(){return Ae(this,"direction",getComputedStyle(h(this,Fr)).direction)}get _highlightColors(){return Ae(this,"_highlightColors",h(this,Gd)?new Map(h(this,Gd).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ae(this,"highlightColors",null);const t=new Map,n=!!h(this,Js);for(const[i,s]of e){const o=i.endsWith("_HCM");if(n&&o){t.set(i.replace("_HCM",""),s);continue}!n&&!o&&t.set(i,s)}return Ae(this,"highlightColors",t)}get highlightColorNames(){return Ae(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),y(this,Gs,e)}setMainHighlightColorPicker(e){y(this,Kd,e)}editAltText(e,t=!1){var n;(n=h(this,Hd))==null||n.editAltText(this,e,t)}hasCommentManager(){return!!h(this,Tn)}editComment(e,t,n,i){var s;(s=h(this,Tn))==null||s.showDialog(this,e,t,n,i)}selectComment(e,t){const n=h(this,Wt).get(e),i=n==null?void 0:n.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=h(this,Tn))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=h(this,Tn))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=h(this,Tn))==null||t.removeComments([e.uid])}toggleComment(e,t,n=void 0){var i;(i=h(this,Tn))==null||i.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){var n;return e&&((n=h(this,Tn))==null?void 0:n.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=h(this,Tn))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(h(this,Wt).has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){var t;(t=h(this,Qs))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return h(this,Qs)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":y(this,Vd,t);break}}onPageChanging({pageNumber:e}){y(this,Wd,e-1)}focusMainContainer(){h(this,Fr).focus()}findParent(e,t){for(const n of h(this,Wt).values()){const{x:i,y:s,width:o,height:l}=n.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+l)return n}return null}disableUserSelect(e=!1){h(this,pf).classList.toggle("noUserSelect",e)}addShouldRescale(e){h(this,yh).add(e)}removeShouldRescale(e){h(this,yh).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Es.PDF_TO_CSS_UNITS;for(const n of h(this,yh))n.onScaleChanging();(t=h(this,Gs))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:l}=n,u=n.toString(),f=E(this,J,sv).call(this,n).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;n.empty();const g=E(this,J,ww).call(this,f),b=h(this,Bt)===be.NONE,A=()=>{const x=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:l,text:u});b&&this.showAllEditors("highlight",!0,!0),t&&(x==null||x.editComment())};if(b){this.switchToMode(be.HIGHLIGHT,A);return}A()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!h(this,Ka))return null;const t=`${Km}${e}`,n=h(this,Ka).getRawValue(t);return n&&h(this,Ka).remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&h(this,Ka)&&!h(this,Ka).has(e.id)&&h(this,Ka).setValue(e.id,e)}a11yAlert(e,t=null){const n=h(this,gf);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,h(this,$s)&&(y(this,$s,!1),E(this,J,tm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of h(this,We))if(t.div.contains(e)){y(this,bh,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!h(this,bh))return;const[e,t]=h(this,bh);y(this,bh,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){E(this,J,kw).call(this),E(this,J,xw).call(this)}removeEditListeners(){E(this,J,VT).call(this),E(this,J,Sw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of h(this,qa))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of h(this,qa))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=h(this,ca))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of h(this,We)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of h(this,qa))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){_e(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const u of n){const c=await i.deserialize(u);if(!c)return;s.push(c)}const o=()=>{for(const u of s)E(this,J,Aw).call(this,u);E(this,J,Tw).call(this,s)},l=()=>{for(const u of s)u.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(s){_e(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Bt)!==be.NONE&&!this.isEditorHandlingKeyboard&&kd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,$s)&&(y(this,$s,!1),E(this,J,tm).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(E(this,J,UT).call(this),E(this,J,xw).call(this),E(this,J,Dn).call(this,{isEditing:h(this,Bt)!==be.NONE,isEmpty:E(this,J,nm).call(this),hasSomethingToUndo:h(this,$a).hasSomethingToUndo(),hasSomethingToRedo:h(this,$a).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,J,WT).call(this),E(this,J,Sw).call(this),E(this,J,Dn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!h(this,qa)){y(this,qa,e);for(const t of h(this,qa))E(this,J,Mr).call(this,t.defaultPropertiesToUpdate)}}getId(){return h(this,xy).id}get currentLayer(){return h(this,Wt).get(h(this,Wd))}getLayer(e){return h(this,Wt).get(e)}get currentPageIndex(){return h(this,Wd)}addLayer(e){h(this,Wt).set(e.pageIndex,e),h(this,qs)?e.enable():e.disable()}removeLayer(e){h(this,Wt).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,s=!1){var o,l,u,c,f,p;if(h(this,Bt)!==e&&!(h(this,Za)&&(await h(this,Za).promise,!h(this,Za)))){if(y(this,Za,Promise.withResolvers()),(o=h(this,Gs))==null||o.commitOrRemove(),h(this,Bt)===be.POPUP&&((l=h(this,Tn))==null||l.hideSidebar()),(u=h(this,Tn))==null||u.destroyPopup(),y(this,Bt,e),e===be.NONE){this.setEditingState(!1),E(this,J,KT).call(this);for(const g of h(this,xt).values())g.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),h(this,Za).resolve();return}for(const g of h(this,xt).values())g.addStandaloneCommentButton();e===be.SIGNATURE&&await((f=h(this,Qs))==null?void 0:f.loadSignatures()),this.setEditingState(!0),await E(this,J,YT).call(this),this.unselectAll();for(const g of h(this,Wt).values())g.updateMode(e);if(e===be.POPUP){h(this,zd)||y(this,zd,await h(this,$d).getAnnotationsByType(new Set(h(this,qa).map(A=>A._editorType))));const g=new Set,b=[];for(const A of h(this,xt).values()){const{annotationElementId:x,hasComment:M,deleted:w}=A;x&&g.add(x),M&&!w&&b.push(A.getData())}for(const A of h(this,zd)){const{id:x,popupRef:M,contentsObj:w}=A;M&&(w!=null&&w.str)&&!g.has(x)&&!h(this,Ys).has(x)&&b.push(A)}(p=h(this,Tn))==null||p.showSidebar(b)}if(!t){n&&this.addNewEditorFromKeyboard(),h(this,Za).resolve();return}for(const g of h(this,xt).values())g.uid===t?(this.setSelected(g),s?g.editComment():i?g.enterInEditMode():g.focus()):g.unselect();h(this,Za).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==h(this,Bt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(h(this,qa)){switch(e){case je.CREATE:this.currentLayer.addNewEditor(t);return;case je.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,mf)||y(this,mf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of h(this,We))n.updateParams(e,t);else for(const n of h(this,qa))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const o of h(this,xt).values())o.editorType===e&&o.show(t);(((s=h(this,mf))==null?void 0:s.get(je.HIGHLIGHT_SHOW_ALL))??!0)!==t&&E(this,J,Mr).call(this,[[je.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(h(this,uf)!==e){y(this,uf,e);for(const t of h(this,Wt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of h(this,xt).values())t.pageIndex===e&&(yield t)}getEditor(e){return h(this,xt).get(e)}addEditor(e){h(this,xt).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(h(this,Xi)&&clearTimeout(h(this,Xi)),y(this,Xi,setTimeout(()=>{this.focusMainContainer(),y(this,Xi,null)},0))),h(this,xt).delete(e.id),e.annotationElementId&&((t=h(this,Xs))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!h(this,Ys).has(e.annotationElementId))&&((n=h(this,Ka))==null||n.remove(e.id))}addDeletedAnnotationElement(e){h(this,Ys).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return h(this,Ys).has(e)}removeDeletedAnnotationElement(e){h(this,Ys).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){h(this,ca)!==e&&(y(this,ca,e),e&&E(this,J,Mr).call(this,e.propertiesToUpdate))}updateUI(e){h(this,J,$T)===e&&E(this,J,Mr).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){E(this,J,Mr).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(h(this,We).has(e)){h(this,We).delete(e),e.unselect(),E(this,J,Dn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,We).add(e),e.select(),E(this,J,Mr).call(this,e.propertiesToUpdate),E(this,J,Dn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=h(this,Gs))==null||t.commitOrRemove();for(const n of h(this,We))n!==e&&n.unselect();h(this,We).clear(),h(this,We).add(e),e.select(),E(this,J,Mr).call(this,e.propertiesToUpdate),E(this,J,Dn).call(this,{hasSelectedEditor:!0})}isSelected(e){return h(this,We).has(e)}get firstSelectedEditor(){return h(this,We).values().next().value}unselect(e){e.unselect(),h(this,We).delete(e),E(this,J,Dn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,We).size!==0}get isEnterHandled(){return h(this,We).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;h(this,$a).undo(),E(this,J,Dn).call(this,{hasSomethingToUndo:h(this,$a).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,J,nm).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){h(this,$a).redo(),E(this,J,Dn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,$a).hasSomethingToRedo(),isEmpty:E(this,J,nm).call(this)})}addCommands(e){h(this,$a).add(e),E(this,J,Dn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,J,nm).call(this)})}cleanUndoStack(e){h(this,$a).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...h(this,We)],n=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},i=()=>{for(const o of t)E(this,J,Aw).call(this,o)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=h(this,ca))==null||e.commitOrRemove()}hasSomethingToControl(){return h(this,ca)||this.hasSelection}selectAll(){for(const e of h(this,We))e.commit();E(this,J,Tw).call(this,h(this,xt).values())}unselectAll(){var e;if(!(h(this,ca)&&(h(this,ca).commitOrRemove(),h(this,Bt)!==be.NONE))&&!((e=h(this,Gs))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of h(this,We))t.unselect();h(this,We).clear(),E(this,J,Dn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;h(this,eo)[0]+=e,h(this,eo)[1]+=t;const[i,s]=h(this,eo),o=[...h(this,We)],l=1e3;h(this,Ji)&&clearTimeout(h(this,Ji)),y(this,Ji,setTimeout(()=>{y(this,Ji,null),h(this,eo)[0]=h(this,eo)[1]=0,this.addCommands({cmd:()=>{for(const u of o)h(this,xt).has(u.id)&&(u.translateInPage(i,s),u.translationDone())},undo:()=>{for(const u of o)h(this,xt).has(u.id)&&(u.translateInPage(-i,-s),u.translationDone())},mustExec:!1})},l));for(const u of o)u.translateInPage(e,t),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),y(this,Zi,new Map);for(const e of h(this,We))h(this,Zi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Zi))return!1;this.disableUserSelect(!1);const e=h(this,Zi);y(this,Zi,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},l]of e)l.newX=i,l.newY=s,l.newPageIndex=o,t||(t=i!==l.savedX||s!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const n=(i,s,o,l)=>{if(h(this,xt).has(i.id)){const u=h(this,Wt).get(l);u?i._setParentAndPosition(u,s,o):(i.pageIndex=l,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:l}]of e)n(i,s,o,l)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:l}]of e)n(i,s,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(h(this,Zi))for(const n of h(this,Zi).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||h(this,We).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return h(this,ca)===e}getActive(){return h(this,ca)}getMode(){return h(this,Bt)}isEditingMode(){return h(this,Bt)!==be.NONE}get imageManager(){return Ae(this,"imageManager",new bw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,f=t.rangeCount;c<f;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(c,f,p,g)=>({x:(f-i)/o,y:1-(c+p-n)/s,width:g/o,height:p/s});break;case"180":l=(c,f,p,g)=>({x:1-(c+p-n)/s,y:1-(f+g-i)/o,width:p/s,height:g/o});break;case"270":l=(c,f,p,g)=>({x:1-(f+g-i)/o,y:(c-n)/s,width:g/o,height:p/s});break;default:l=(c,f,p,g)=>({x:(c-n)/s,y:(f-i)/o,width:p/s,height:g/o});break}const u=[];for(let c=0,f=t.rangeCount;c<f;c++){const p=t.getRangeAt(c);if(!p.collapsed)for(const{x:g,y:b,width:A,height:x}of p.getClientRects())A===0||x===0||u.push(l(g,b,A,x))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(h(this,Ud)||y(this,Ud,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=h(this,Ud))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=h(this,Ud))==null?void 0:i.get(e.data.id);if(!t)return;const n=h(this,Ka).getRawValue(t);n&&(h(this,Bt)===be.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var s;const i=(s=h(this,Xs))==null?void 0:s.get(e);i&&(i.setCanvas(t,n),h(this,Xs).delete(e))}addMissingCanvas(e,t){(h(this,Xs)||y(this,Xs,new Map)).set(e,t)}};Fd=new WeakMap,ca=new WeakMap,zd=new WeakMap,xt=new WeakMap,Wt=new WeakMap,Hd=new WeakMap,Ka=new WeakMap,Ud=new WeakMap,$a=new WeakMap,Tn=new WeakMap,Vs=new WeakMap,Gs=new WeakMap,Wd=new WeakMap,Ys=new WeakMap,Zi=new WeakMap,qa=new WeakMap,yh=new WeakMap,hf=new WeakMap,lf=new WeakMap,Vd=new WeakMap,df=new WeakMap,Xi=new WeakMap,Ks=new WeakMap,Gd=new WeakMap,$s=new WeakMap,Qi=new WeakMap,xy=new WeakMap,qs=new WeakMap,Yd=new WeakMap,uf=new WeakMap,Zs=new WeakMap,bh=new WeakMap,Kd=new WeakMap,Xs=new WeakMap,cf=new WeakMap,Bt=new WeakMap,We=new WeakMap,Br=new WeakMap,Qs=new WeakMap,Js=new WeakMap,mf=new WeakMap,$d=new WeakMap,ff=new WeakMap,eo=new WeakMap,Ji=new WeakMap,Fr=new WeakMap,pf=new WeakMap,gf=new WeakMap,Za=new WeakMap,J=new WeakSet,sv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},ww=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of h(this,Wt).values())if(n.hasTextLayer(e))return n;return null},FT=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=E(this,J,sv).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(h(this,Qi)||y(this,Qi,new yI(this)),h(this,Qi).show(n,i,this.direction==="ltr"))},zT=function(){var s,o,l;const e=document.getSelection();if(!e||e.isCollapsed){h(this,Br)&&((s=h(this,Qi))==null||s.hide(),y(this,Br,null),E(this,J,Dn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===h(this,Br))return;const i=E(this,J,sv).call(this,e).closest(".textLayer");if(!i){h(this,Br)&&((o=h(this,Qi))==null||o.hide(),y(this,Br,null),E(this,J,Dn).call(this,{hasSelectedText:!1}));return}if((l=h(this,Qi))==null||l.hide(),y(this,Br,t),E(this,J,Dn).call(this,{hasSelectedText:!0}),!(h(this,Bt)!==be.HIGHLIGHT&&h(this,Bt)!==be.NONE)&&(h(this,Bt)===be.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),y(this,$s,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=h(this,Bt)===be.HIGHLIGHT?E(this,J,ww).call(this,i):null;if(u==null||u.toggleDrawing(),h(this,Yd)){const c=new AbortController,f=this.combinedSignal(c),p=g=>{g.type==="pointerup"&&g.button!==0||(c.abort(),u==null||u.toggleDrawing(!0),g.type==="pointerup"&&E(this,J,tm).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}else u==null||u.toggleDrawing(!0),E(this,J,tm).call(this,"main_toolbar")}},tm=function(e=""){h(this,Bt)===be.HIGHLIGHT?this.highlightSelection(e):h(this,hf)&&E(this,J,FT).call(this)},HT=function(){document.addEventListener("selectionchange",E(this,J,zT).bind(this),{signal:this._signal})},UT=function(){if(h(this,Ks))return;y(this,Ks,new AbortController);const e=this.combinedSignal(h(this,Ks));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},WT=function(){var e;(e=h(this,Ks))==null||e.abort(),y(this,Ks,null)},kw=function(){if(h(this,Zs))return;y(this,Zs,new AbortController);const e=this.combinedSignal(h(this,Zs));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},VT=function(){var e;(e=h(this,Zs))==null||e.abort(),y(this,Zs,null)},xw=function(){if(h(this,Vs))return;y(this,Vs,new AbortController);const e=this.combinedSignal(h(this,Vs));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Sw=function(){var e;(e=h(this,Vs))==null||e.abort(),y(this,Vs,null)},GT=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Dn=function(e){Object.entries(e).some(([n,i])=>h(this,ff)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,ff),e)}),h(this,Bt)===be.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,J,Mr).call(this,[[je.HIGHLIGHT_FREE,!0]]))},Mr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},YT=async function(){if(!h(this,qs)){y(this,qs,!0);const e=[];for(const t of h(this,Wt).values())e.push(t.enable());await Promise.all(e);for(const t of h(this,xt).values())t.enable()}},KT=function(){if(this.unselectAll(),h(this,qs)){y(this,qs,!1);for(const e of h(this,Wt).values())e.disable();for(const e of h(this,xt).values())e.disable()}},Aw=function(e){const t=h(this,Wt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},$T=function(){let e=null;for(e of h(this,We));return e},nm=function(){if(h(this,xt).size===0)return!0;if(h(this,xt).size===1)for(const e of h(this,xt).values())return e.isEmpty();return!1},Tw=function(e){for(const t of h(this,We))t.unselect();h(this,We).clear();for(const t of e)t.isEmpty()||(h(this,We).add(t),t.select());E(this,J,Dn).call(this,{hasSelectedEditor:this.hasSelection})},K(kd,"TRANSLATE_SMALL",1),K(kd,"TRANSLATE_BIG",10);let $o=kd;var qt,er,yi,qd,tr,ma,Zd,nr,Qn,zr,_h,ar,to,ji,am,ov;const Bn=class Bn{constructor(e){S(this,ji);S(this,qt,null);S(this,er,!1);S(this,yi,null);S(this,qd,null);S(this,tr,null);S(this,ma,null);S(this,Zd,!1);S(this,nr,null);S(this,Qn,null);S(this,zr,null);S(this,_h,null);S(this,ar,!1);y(this,Qn,e),y(this,ar,e._uiManager.useNewAltTextFlow),h(Bn,to)||y(Bn,to,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Bn._l10n??(Bn._l10n=e)}async render(){const e=y(this,yi,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=y(this,qd,document.createElement("span"));e.append(t),h(this,ar)?(e.classList.add("new"),e.setAttribute("data-l10n-id",h(Bn,to).missing),t.setAttribute("data-l10n-id",h(Bn,to)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=h(this,Qn)._uiManager._signal;e.addEventListener("contextmenu",Da,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),h(this,Qn)._uiManager.editAltText(h(this,Qn)),h(this,ar)&&h(this,Qn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,ji,am)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(y(this,Zd,!0),i(s))},{signal:n}),await E(this,ji,ov).call(this),e}finish(){h(this,yi)&&(h(this,yi).focus({focusVisible:h(this,Zd)}),y(this,Zd,!1))}isEmpty(){return h(this,ar)?h(this,qt)===null:!h(this,qt)&&!h(this,er)}hasData(){return h(this,ar)?h(this,qt)!==null||!!h(this,zr):this.isEmpty()}get guessedText(){return h(this,zr)}async setGuessedText(e){h(this,qt)===null&&(y(this,zr,e),y(this,_h,await Bn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),E(this,ji,ov).call(this))}toggleAltTextBadge(e=!1){var t;if(!h(this,ar)||h(this,qt)){(t=h(this,nr))==null||t.remove(),y(this,nr,null);return}if(!h(this,nr)){const n=y(this,nr,document.createElement("div"));n.className="noAltTextBadge",h(this,Qn).div.append(n)}h(this,nr).classList.toggle("hidden",!e)}serialize(e){let t=h(this,qt);return!e&&h(this,zr)===t&&(t=h(this,_h)),{altText:t,decorative:h(this,er),guessedText:h(this,zr),textWithDisclaimer:h(this,_h)}}get data(){return{altText:h(this,qt),decorative:h(this,er)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(y(this,zr,n),y(this,_h,i)),!(h(this,qt)===e&&h(this,er)===t)&&(s||(y(this,qt,e),y(this,er,t)),E(this,ji,ov).call(this))}toggle(e=!1){h(this,yi)&&(!e&&h(this,ma)&&(clearTimeout(h(this,ma)),y(this,ma,null)),h(this,yi).disabled=!e)}shown(){h(this,Qn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,ji,am)}})}destroy(){var e,t;(e=h(this,yi))==null||e.remove(),y(this,yi,null),y(this,qd,null),y(this,tr,null),(t=h(this,nr))==null||t.remove(),y(this,nr,null)}};qt=new WeakMap,er=new WeakMap,yi=new WeakMap,qd=new WeakMap,tr=new WeakMap,ma=new WeakMap,Zd=new WeakMap,nr=new WeakMap,Qn=new WeakMap,zr=new WeakMap,_h=new WeakMap,ar=new WeakMap,to=new WeakMap,ji=new WeakSet,am=function(){return h(this,qt)&&"added"||h(this,qt)===null&&this.guessedText&&"review"||"missing"},ov=async function(){var i,s,o;const e=h(this,yi);if(!e)return;if(h(this,ar)){if(e.classList.toggle("done",!!h(this,qt)),e.setAttribute("data-l10n-id",h(Bn,to)[h(this,ji,am)]),(i=h(this,qd))==null||i.setAttribute("data-l10n-id",h(Bn,to)[`${h(this,ji,am)}-label`]),!h(this,qt)){(s=h(this,tr))==null||s.remove();return}}else{if(!h(this,qt)&&!h(this,er)){e.classList.remove("done"),(o=h(this,tr))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=h(this,tr);if(!t){y(this,tr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${h(this,Qn).id}`;const l=100,u=h(this,Qn)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(h(this,ma)),y(this,ma,null)},{once:!0}),e.addEventListener("mouseenter",()=>{y(this,ma,setTimeout(()=>{y(this,ma,null),h(this,tr).classList.add("show"),h(this,Qn)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:u}),e.addEventListener("mouseleave",()=>{var c;h(this,ma)&&(clearTimeout(h(this,ma)),y(this,ma,null)),(c=h(this,tr))==null||c.classList.remove("show")},{signal:u})}h(this,er)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=h(this,qt)),t.parentNode||e.append(t);const n=h(this,Qn).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},S(Bn,to,null),K(Bn,"_l10n",null);let ly=Bn;var dn,Xa,wh,it,vf,kh,bi,xh,Sh,Ah,yf,Ew;class Rg{constructor(e){S(this,yf);S(this,dn,null);S(this,Xa,null);S(this,wh,!1);S(this,it,null);S(this,vf,null);S(this,kh,null);S(this,bi,null);S(this,xh,null);S(this,Sh,!1);S(this,Ah,null);y(this,it,e)}renderForToolbar(){const e=y(this,Xa,document.createElement("button"));return e.className="comment",E(this,yf,Ew).call(this,e,!1)}renderForStandalone(){const e=y(this,dn,document.createElement("button"));e.className="annotationCommentButton";const t=h(this,it).commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(h(this,it)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=h(this,it).commentButtonColor;i&&(n.backgroundColor=i)}return E(this,yf,Ew).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=h(this,dn)??h(this,Xa))==null||e.focus()},0)}onUpdatedColor(){if(!h(this,dn))return;const e=h(this,it).commentButtonColor;e&&(h(this,dn).style.backgroundColor=e),h(this,it)._uiManager.updatePopupColor(h(this,it))}get commentButtonWidth(){var e;return(((e=h(this,dn))==null?void 0:e.getBoundingClientRect().width)??0)/h(this,it).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(h(this,Ah))return h(this,Ah);if(!h(this,dn))return null;const{x:e,y:t,height:n}=h(this,dn).getBoundingClientRect(),{x:i,y:s,width:o,height:l}=h(this,it).parent.boundingClientRect;return[(e-i)/o,(t+n-s)/l]}set commentPopupPositionInLayer(e){y(this,Ah,e)}hasDefaultPopupPosition(){return h(this,Ah)===null}removeStandaloneCommentButton(){var e;(e=h(this,dn))==null||e.remove(),y(this,dn,null)}removeToolbarCommentButton(){var e;(e=h(this,Xa))==null||e.remove(),y(this,Xa,null)}setCommentButtonStates({selected:e,hasPopup:t}){h(this,dn)&&(h(this,dn).classList.toggle("selected",e),h(this,dn).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let n,i;if(t)[n,i]=t;else{[n,i]=h(this,it).commentButtonPosition;const{width:f,height:p,x:g,y:b}=h(this,it);n=g+n*f,i=b+i*p}const s=h(this,it).parent.boundingClientRect,{x:o,y:l,width:u,height:c}=s;h(this,it)._uiManager.editComment(h(this,it),o+n*u,l+i*c,{...e,parentDimensions:s})}finish(){h(this,Xa)&&(h(this,Xa).focus({focusVisible:h(this,wh)}),y(this,wh,!1))}isDeleted(){return h(this,Sh)||h(this,bi)===""}isEmpty(){return h(this,bi)===null}hasBeenEdited(){return this.isDeleted()||h(this,bi)!==h(this,vf)}serialize(){return this.data}get data(){return{text:h(this,bi),richText:h(this,kh),date:h(this,xh),deleted:this.isDeleted()}}set data(e){if(e!==h(this,bi)&&y(this,kh,null),e===null){y(this,bi,""),y(this,Sh,!0);return}y(this,bi,e),y(this,xh,new Date),y(this,Sh,!1)}setInitialText(e,t=null){y(this,vf,e),this.data=e,y(this,xh,null),y(this,kh,t)}shown(){}destroy(){var e,t;(e=h(this,Xa))==null||e.remove(),y(this,Xa,null),(t=h(this,dn))==null||t.remove(),y(this,dn,null),y(this,bi,""),y(this,kh,null),y(this,xh,null),y(this,it,null),y(this,wh,!1),y(this,Sh,!1)}}dn=new WeakMap,Xa=new WeakMap,wh=new WeakMap,it=new WeakMap,vf=new WeakMap,kh=new WeakMap,bi=new WeakMap,xh=new WeakMap,Sh=new WeakMap,Ah=new WeakMap,yf=new WeakSet,Ew=function(e,t){if(!h(this,it)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[h(this,it)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=h(this,it)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Da,{signal:n}),t&&(e.addEventListener("focusin",s=>{h(this,it)._focusEventsAllowed=!1,yt(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{h(this,it)._focusEventsAllowed=!0,yt(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),e===h(this,Xa)?this.edit():h(this,it).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(y(this,wh,!0),i(s))},{signal:n}),e.addEventListener("pointerenter",()=>{h(this,it).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{h(this,it).toggleComment(!1,!1)},{signal:n}),e};var Xd,Th,bf,_f,wf,kf,xf,Hr,Eh,Ur,Ch,Wr,qo,qT,ZT,XT;const rx=class rx{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:o=null,signal:l}){S(this,qo);S(this,Xd);S(this,Th,!1);S(this,bf,null);S(this,_f);S(this,wf);S(this,kf);S(this,xf);S(this,Hr,null);S(this,Eh);S(this,Ur,null);S(this,Ch);S(this,Wr,null);y(this,Xd,e),y(this,bf,n),y(this,_f,t),y(this,wf,i),y(this,kf,s),y(this,xf,o),y(this,Ch,new AbortController),y(this,Eh,AbortSignal.any([l,h(this,Ch).signal])),e.addEventListener("touchstart",E(this,qo,qT).bind(this),{passive:!1,signal:h(this,Eh)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Oi.pixelRatio}destroy(){var e,t;(e=h(this,Ch))==null||e.abort(),y(this,Ch,null),(t=h(this,Hr))==null||t.abort(),y(this,Hr,null)}};Xd=new WeakMap,Th=new WeakMap,bf=new WeakMap,_f=new WeakMap,wf=new WeakMap,kf=new WeakMap,xf=new WeakMap,Hr=new WeakMap,Eh=new WeakMap,Ur=new WeakMap,Ch=new WeakMap,Wr=new WeakMap,qo=new WeakSet,qT=function(e){var i,s,o;if((i=h(this,_f))!=null&&i.call(this))return;if(e.touches.length===1){if(h(this,Hr))return;const l=y(this,Hr,new AbortController),u=AbortSignal.any([h(this,Eh),l.signal]),c=h(this,Xd),f={capture:!0,signal:u,passive:!1},p=g=>{var b;g.pointerType==="touch"&&((b=h(this,Hr))==null||b.abort(),y(this,Hr,null))};c.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(yt(g),p(g))},f),c.addEventListener("pointerup",p,f),c.addEventListener("pointercancel",p,f);return}if(!h(this,Wr)){y(this,Wr,new AbortController);const l=AbortSignal.any([h(this,Eh),h(this,Wr).signal]),u=h(this,Xd),c={signal:l,capture:!1,passive:!1};u.addEventListener("touchmove",E(this,qo,ZT).bind(this),c);const f=E(this,qo,XT).bind(this);u.addEventListener("touchend",f,c),u.addEventListener("touchcancel",f,c),c.capture=!0,u.addEventListener("pointerdown",yt,c),u.addEventListener("pointermove",yt,c),u.addEventListener("pointercancel",yt,c),u.addEventListener("pointerup",yt,c),(s=h(this,wf))==null||s.call(this)}if(yt(e),e.touches.length!==2||(o=h(this,bf))!=null&&o.call(this)){y(this,Ur,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),y(this,Ur,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},ZT=function(e){var P;if(!h(this,Ur)||e.touches.length!==2)return;yt(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:s}=t,{screenX:o,screenY:l}=n,u=h(this,Ur),{touch0X:c,touch0Y:f,touch1X:p,touch1Y:g}=u,b=p-c,A=g-f,x=o-i,M=l-s,w=Math.hypot(x,M)||1,T=Math.hypot(b,A)||1;if(!h(this,Th)&&Math.abs(T-w)<=rx.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=i,u.touch0Y=s,u.touch1X=o,u.touch1Y=l,!h(this,Th)){y(this,Th,!0);return}const C=[(i+o)/2,(s+l)/2];(P=h(this,kf))==null||P.call(this,C,T,w)},XT=function(e){var t;e.touches.length>=2||(h(this,Wr)&&(h(this,Wr).abort(),y(this,Wr,null),(t=h(this,xf))==null||t.call(this)),h(this,Ur)&&(yt(e),y(this,Ur,null),y(this,Th,!1)))};let Xm=rx;var Ph,_i,ut,Xe,Vr,Qd,no,Sf,un,Lh,Gr,ir,ao,Af,Mh,fa,Tf,jh,Yr,rr,Jd,eu,Qa,Ih,Ef,Sy,pe,Cw,Cf,Pw,hv,QT,JT,Lw,lv,Mw,eE,tE,nE,jw,aE,Iw,iE,rE,sE,Nw,im;const we=class we{constructor(e){S(this,pe);S(this,Ph,null);S(this,_i,null);S(this,ut,null);S(this,Xe,null);S(this,Vr,null);S(this,Qd,!1);S(this,no,null);S(this,Sf,"");S(this,un,null);S(this,Lh,null);S(this,Gr,null);S(this,ir,null);S(this,ao,null);S(this,Af,"");S(this,Mh,!1);S(this,fa,null);S(this,Tf,!1);S(this,jh,!1);S(this,Yr,!1);S(this,rr,null);S(this,Jd,0);S(this,eu,0);S(this,Qa,null);S(this,Ih,null);K(this,"isSelected",!1);K(this,"_isCopy",!1);K(this,"_editToolbar",null);K(this,"_initialOptions",Object.create(null));K(this,"_initialData",null);K(this,"_isVisible",!0);K(this,"_uiManager",null);K(this,"_focusEventsAllowed",!0);S(this,Ef,!1);S(this,Sy,we._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,o];const[l,u]=this.parentDimensions;this.x=e.x/l,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=we.prototype._resizeWithKeyboard,t=$o.TRANSLATE_SMALL,n=$o.TRANSLATE_BIG;return Ae(this,"_resizerKeyboardManager",new Gp([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],we.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ae(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new wI({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(we._l10n??(we._l10n=e),we._l10nResizer||(we._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),we._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);we._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){tt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,Ef)}set _isDraggable(e){var t;y(this,Ef,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,Sy)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(E(this,pe,im).call(this),(t=h(this,ir))==null||t.remove(),y(this,ir,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(h(this,Mh)?y(this,Mh,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,o]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){E(this,pe,Cw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){h(this,fa)||y(this,fa,[this.x,this.y,this.width,this.height]),E(this,pe,Cw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){h(this,fa)||y(this,fa,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[u,c]=this.getBaseTranslation();o+=u,l+=c;const{style:f}=n;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!h(this,fa)&&(h(this,fa)[0]!==this.x||h(this,fa)[1]!==this.y)}get _hasBeenResized(){return!!h(this,fa)&&(h(this,fa)[2]!==this.width||h(this,fa)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=we,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:s,y:o,width:l,height:u}=this;if(l*=n,u*=i,s*=n,o*=i,this._mustFixPosition)switch(e){case 0:s=Mn(s,0,n-l),o=Mn(o,0,i-u);break;case 90:s=Mn(s,0,n-u),o=Mn(o,l,i);break;case 180:s=Mn(s,l,n),o=Mn(o,u,i);break;case 270:s=Mn(s,u,n),o=Mn(o,0,i-l);break}this.x=s/=n,this.y=o/=i;const[c,f]=this.getBaseTranslation();s+=c,o+=f,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return E(n=we,Cf,Pw).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return E(n=we,Cf,Pw).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=h(this,ut))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||h(this,jh))return this._editToolbar;this._editToolbar=new vw(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=h(this,ut))==null||t.destroy()}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return h(this,ut)||(ly.initialize(we._l10n),y(this,ut,new ly(this)),h(this,Ph)&&(h(this,ut).data=h(this,Ph),y(this,Ph,null))),h(this,ut)}get altTextData(){var e;return(e=h(this,ut))==null?void 0:e.data}set altTextData(e){h(this,ut)&&(h(this,ut).data=e)}get guessedAltText(){var e;return(e=h(this,ut))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=h(this,ut))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=h(this,ut))==null?void 0:t.serialize(e)}hasAltText(){return!!h(this,ut)&&!h(this,ut).isEmpty()}hasAltTextData(){var e;return((e=h(this,ut))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=h(this,Xe))==null||e.focusButton()}addCommentButton(){return h(this,Xe)||y(this,Xe,new Rg(this))}addStandaloneCommentButton(){if(h(this,Vr)){this._uiManager.isEditingMode()&&h(this,Vr).classList.remove("hidden");return}this.hasComment&&(y(this,Vr,h(this,Xe).renderForStandalone()),this.div.append(h(this,Vr)))}removeStandaloneCommentButton(){h(this,Xe).removeStandaloneCommentButton(),y(this,Vr,null)}hideStandaloneCommentButton(){var e;(e=h(this,Vr))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:i}}=h(this,Xe);return{text:t,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){h(this,Xe)||y(this,Xe,new Rg(this)),h(this,Xe).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(h(this,Xe)||y(this,Xe,new Rg(this)),h(this,Xe).setInitialText(e,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=h(this,Xe))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=h(this,Xe))==null?void 0:e.isDeleted()}get hasComment(){return!!h(this,Xe)&&!h(this,Xe).isEmpty()&&!h(this,Xe).isDeleted()}async editComment(e){h(this,Xe)||y(this,Xe,new Rg(this)),h(this,Xe).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){h(this,Xe).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,l=o+s+1,u=i-100,c=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,u,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){h(this,Xe).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=h(this,Qd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),E(this,pe,Iw).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),DT(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(h(this,Ih)||y(this,Ih,new Xm({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:E(this,pe,eE).bind(this),onPinching:E(this,pe,tE).bind(this),onPinchEnd:E(this,pe,nE).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(y(this,Mh,!0),this._isDraggable){E(this,pe,aE).call(this,e);return}E(this,pe,jw).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,rr)&&clearTimeout(h(this,rr)),y(this,rr,setTimeout(()=>{var e;y(this,rr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[l,u]=this.pageTranslation,c=e/i,f=t/i,p=this.x*s,g=this.y*o,b=this.width*s,A=this.height*o;switch(n){case 0:return[p+c+l,o-g-f-A+u,p+c+b+l,o-g-f+u];case 90:return[p+f+l,o-g+c+u,p+f+A+l,o-g+c+b+u];case 180:return[p-c-b+l,o-g+f+u,p-c+l,o-g+f+A+u];case 270:return[p-f-A+l,o-g-c-b+u,p-f+l,o-g-c+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,o]=e,l=s-n,u=o-i;switch(this.rotation){case 0:return[n,t-o,l,u];case 90:return[n,t-i,u,l];case 180:return[s,t-i,l,u];case 270:return[s,t-o,u,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&we._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=h(this,Xe))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:i,deleted:s,richText:o},uid:l,pageIndex:u,creationDate:c,modificationDate:f}=this;return{id:l,pageIndex:u,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:c,modificationDate:n||f,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),y(this,jh,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),y(this,jh,!1),!0):!1}isInEditMode(){return h(this,jh)}shouldGetKeyboardEvents(){return h(this,Yr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&i>0&&e<s&&n>0}rebuild(){E(this,pe,Iw).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,y(i,Ph,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,o]=i.pageDimensions,[l,u,c,f]=i.getRectInCurrentCoords(e.rect,o);return i.x=l/s,i.y=u/o,i.width=c/s,i.height=f/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=h(this,ao))==null||e.abort(),y(this,ao,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,rr)&&(clearTimeout(h(this,rr)),y(this,rr,null)),E(this,pe,im).call(this),this.removeEditToolbar(),h(this,Qa)){for(const n of h(this,Qa).values())clearTimeout(n);y(this,Qa,null)}this.parent=null,(t=h(this,Ih))==null||t.destroy(),y(this,Ih,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,pe,QT).call(this),h(this,un).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,i,s,o]=this.getPDFRect();return[we._round(n+(s-n)*e),we._round(i+(o-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return h(this,Xe).commentPopupPositionInLayer}set commentPopupPosition(e){h(this,Xe).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return h(this,Xe).hasDefaultPopupPosition()}get commentButtonWidth(){return h(this,Xe).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){h(this,Xe).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),y(this,Gr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=h(this,un).children;if(!h(this,_i)){y(this,_i,Array.from(t));const o=E(this,pe,iE).bind(this),l=E(this,pe,rE).bind(this),u=this._uiManager._signal;for(const c of h(this,_i)){const f=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:u}),c.addEventListener("blur",l,{signal:u}),c.addEventListener("focus",E(this,pe,sE).bind(this,f),{signal:u}),c.setAttribute("data-l10n-id",we._l10nResizer[f])}}const n=h(this,_i)[0];let i=0;for(const o of t){if(o===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(h(this,_i).length/4);if(s!==i){if(s<i)for(let l=0;l<i-s;l++)h(this,un).append(h(this,un).firstChild);else if(s>i)for(let l=0;l<s-i;l++)h(this,un).firstChild.before(h(this,un).lastChild);let o=0;for(const l of t){const c=h(this,_i)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",we._l10nResizer[c])}}E(this,pe,Nw).call(this,0),y(this,Yr,!0),h(this,un).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){h(this,Yr)&&E(this,pe,Mw).call(this,h(this,Af),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){E(this,pe,im).call(this),this.div.focus()}select(){var e,t,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(n=h(this,ut))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,n,i,s;this.isSelected&&(this.isSelected=!1,(e=h(this,un))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=h(this,ut))==null||s.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return h(this,Tf)}set isEditing(e){y(this,Tf,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){h(this,Qa)||y(this,Qa,new Map);const{action:n}=e;let i=h(this,Qa).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),h(this,Qa).delete(n),h(this,Qa).size===0&&y(this,Qa,null)},we._telemetryTimeout),h(this,Qa).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),y(this,Qd,!1)}disable(){this.div&&(this.div.tabIndex=-1),y(this,Qd,!0)}updateFakeAnnotationElement(e){if(!h(this,ir)&&!this.deleted){y(this,ir,e.addFakeAnnotation(this));return}if(this.deleted){h(this,ir).remove(),y(this,ir,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&h(this,ir).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ph=new WeakMap,_i=new WeakMap,ut=new WeakMap,Xe=new WeakMap,Vr=new WeakMap,Qd=new WeakMap,no=new WeakMap,Sf=new WeakMap,un=new WeakMap,Lh=new WeakMap,Gr=new WeakMap,ir=new WeakMap,ao=new WeakMap,Af=new WeakMap,Mh=new WeakMap,fa=new WeakMap,Tf=new WeakMap,jh=new WeakMap,Yr=new WeakMap,rr=new WeakMap,Jd=new WeakMap,eu=new WeakMap,Qa=new WeakMap,Ih=new WeakMap,Ef=new WeakMap,Sy=new WeakMap,pe=new WeakSet,Cw=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Cf=new WeakSet,Pw=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},hv=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},QT=function(){if(h(this,un))return;y(this,un,document.createElement("div")),h(this,un).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");h(this,un).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",E(this,pe,JT).bind(this,n),{signal:t}),i.addEventListener("contextmenu",Da,{signal:t}),i.tabIndex=-1}this.div.prepend(h(this,un))},JT=function(e,t){var f;t.preventDefault();const{isMac:n}=rn.platform;if(t.button!==0||t.ctrlKey&&n)return;(f=h(this,ut))==null||f.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,y(this,Lh,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,pe,Mw).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",yt,{passive:!1,signal:o}),window.addEventListener("contextmenu",Da,{signal:o}),y(this,Gr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var p;s.abort(),this.parent.togglePointerEvents(!0),(p=h(this,ut))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=l,this.div.style.cursor=u,E(this,pe,lv).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},Lw=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},lv=function(){if(!h(this,Gr))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=h(this,Gr);y(this,Gr,null);const s=this.x,o=this.y,l=this.width,u=this.height;s===e&&o===t&&l===n&&u===i||this.addCommands({cmd:E(this,pe,Lw).bind(this,s,o,l,u),undo:E(this,pe,Lw).bind(this,e,t,n,i),mustExec:!0})},Mw=function(e,t){const[n,i]=this.parentDimensions,s=this.x,o=this.y,l=this.width,u=this.height,c=we.MIN_SIZE/n,f=we.MIN_SIZE/i,p=E(this,pe,hv).call(this,this.rotation),g=(q,X)=>[p[0]*q+p[2]*X,p[1]*q+p[3]*X],b=E(this,pe,hv).call(this,360-this.rotation),A=(q,X)=>[b[0]*q+b[2]*X,b[1]*q+b[3]*X];let x,M,w=!1,T=!1;switch(e){case"topLeft":w=!0,x=(q,X)=>[0,0],M=(q,X)=>[q,X];break;case"topMiddle":x=(q,X)=>[q/2,0],M=(q,X)=>[q/2,X];break;case"topRight":w=!0,x=(q,X)=>[q,0],M=(q,X)=>[0,X];break;case"middleRight":T=!0,x=(q,X)=>[q,X/2],M=(q,X)=>[0,X/2];break;case"bottomRight":w=!0,x=(q,X)=>[q,X],M=(q,X)=>[0,0];break;case"bottomMiddle":x=(q,X)=>[q/2,X],M=(q,X)=>[q/2,0];break;case"bottomLeft":w=!0,x=(q,X)=>[0,X],M=(q,X)=>[q,0];break;case"middleLeft":T=!0,x=(q,X)=>[0,X/2],M=(q,X)=>[q,X/2];break}const C=x(l,u),P=M(l,u);let I=g(...P);const N=we._round(s+I[0]),O=we._round(o+I[1]);let D=1,U=1,H,V;if(t.fromKeyboard)({deltaX:H,deltaY:V}=t);else{const{screenX:q,screenY:X}=t,[F,ee]=h(this,Lh);[H,V]=this.screenToPageTranslation(q-F,X-ee),h(this,Lh)[0]=q,h(this,Lh)[1]=X}if([H,V]=A(H/n,V/i),w){const q=Math.hypot(l,u);D=U=Math.max(Math.min(Math.hypot(P[0]-C[0]-H,P[1]-C[1]-V)/q,1/l,1/u),c/l,f/u)}else T?D=Mn(Math.abs(P[0]-C[0]-H),c,1)/l:U=Mn(Math.abs(P[1]-C[1]-V),f,1)/u;const Z=we._round(l*D),he=we._round(u*U);I=g(...M(Z,he));const Q=N-I[0],fe=O-I[1];h(this,fa)||y(this,fa,[this.x,this.y,this.width,this.height]),this.width=Z,this.height=he,this.x=Q,this.y=fe,this.setDims(),this.fixAndSetPosition(),this._onResizing()},eE=function(){var e;y(this,Gr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=h(this,ut))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},tE=function(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const o=E(this,pe,hv).call(this,this.rotation),l=(N,O)=>[o[0]*N+o[2]*O,o[1]*N+o[3]*O],[u,c]=this.parentDimensions,f=this.x,p=this.y,g=this.width,b=this.height,A=we.MIN_SIZE/u,x=we.MIN_SIZE/c;s=Math.max(Math.min(s,1/g,1/b),A/g,x/b);const M=we._round(g*s),w=we._round(b*s);if(M===g&&w===b)return;h(this,fa)||y(this,fa,[f,p,g,b]);const T=l(g/2,b/2),C=we._round(f+T[0]),P=we._round(p+T[1]),I=l(M/2,w/2);this.x=C-I[0],this.y=P-I[1],this.width=M,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()},nE=function(){var e;(e=h(this,ut))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),E(this,pe,lv).call(this)},jw=function(e){const{isMac:t}=rn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},aE=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:s},l=c=>{i.abort(),y(this,no,null),y(this,Mh,!1),this._uiManager.endDragSession()||E(this,pe,jw).call(this,c),n&&this._onStopDragging()};t&&(y(this,Jd,e.clientX),y(this,eu,e.clientY),y(this,no,e.pointerId),y(this,Sf,e.pointerType),window.addEventListener("pointermove",c=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:g}=c;if(g!==h(this,no)){yt(c);return}const[b,A]=this.screenToPageTranslation(f-h(this,Jd),p-h(this,eu));y(this,Jd,f),y(this,eu,p),this._uiManager.dragSelectedEditors(b,A)},o),window.addEventListener("touchmove",yt,o),window.addEventListener("pointerdown",c=>{c.pointerType===h(this,Sf)&&(h(this,Ih)||c.isPrimary)&&l(c),yt(c)},o));const u=c=>{if(!h(this,no)||h(this,no)===c.pointerId){l(c);return}yt(c)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})},Iw=function(){if(h(this,ao)||!this.div)return;y(this,ao,new AbortController);const e=this._uiManager.combinedSignal(h(this,ao));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},iE=function(e){we._resizerKeyboardManager.exec(this,e)},rE=function(e){var t;h(this,Yr)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==h(this,un)&&E(this,pe,im).call(this)},sE=function(e){y(this,Af,h(this,Yr)?e:"")},Nw=function(e){if(h(this,_i))for(const t of h(this,_i))t.tabIndex=e},im=function(){y(this,Yr,!1),E(this,pe,Nw).call(this,-1),E(this,pe,lv).call(this)},S(we,Cf),K(we,"_l10n",null),K(we,"_l10nResizer",null),K(we,"_borderLineWidth",-1),K(we,"_colorManager",new _w),K(we,"_zIndex",1),K(we,"_telemetryTimeout",1e3);let st=we;class wI extends st{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const ES=3285377520,Wa=4294901760,Ki=65535;class oE{constructor(e){this.h1=e?e&4294967295:ES,this.h2=e?e&4294967295:ES}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let x=0,M=e.length;x<M;x++){const w=e.charCodeAt(x);w<=255?t[n++]=w:(t[n++]=w>>>8,t[n++]=w&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,o=new Uint32Array(t.buffer,0,i);let l=0,u=0,c=this.h1,f=this.h2;const p=3432918353,g=461845907,b=p&Ki,A=g&Ki;for(let x=0;x<i;x++)x&1?(l=o[x],l=l*p&Wa|l*b&Ki,l=l<<15|l>>>17,l=l*g&Wa|l*A&Ki,c^=l,c=c<<13|c>>>19,c=c*5+3864292196):(u=o[x],u=u*p&Wa|u*b&Ki,u=u<<15|u>>>17,u=u*g&Wa|u*A&Ki,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(l=0,s){case 3:l^=t[i*4+2]<<16;case 2:l^=t[i*4+1]<<8;case 1:l^=t[i*4],l=l*p&Wa|l*b&Ki,l=l<<15|l>>>17,l=l*g&Wa|l*A&Ki,i&1?c^=l:f^=l}this.h1=c,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Wa|e*36045&Ki,t=t*4283543511&Wa|((t<<16|e>>>16)*2950163797&Wa)>>>16,e^=t>>>1,e=e*444984403&Wa|e*60499&Ki,t=t*3301882366&Wa|((t<<16|e>>>16)*3120437893&Wa)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Rw=Object.freeze({map:null,hash:"",transfer:void 0});var Nh,Rh,Kr,cn,Ay,hE;class W0{constructor(){S(this,Ay);S(this,Nh,!1);S(this,Rh,null);S(this,Kr,null);S(this,cn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=h(this,cn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return h(this,cn).get(e)}remove(e){const t=h(this,cn).get(e);if(t!==void 0&&(t instanceof st&&h(this,Kr).delete(t.annotationElementId),h(this,cn).delete(e),h(this,cn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of h(this,cn).values())if(n instanceof st)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=h(this,cn).get(e);let i=!1;if(n!==void 0)for(const[s,o]of Object.entries(t))n[s]!==o&&(i=!0,n[s]=o);else i=!0,h(this,cn).set(e,t);i&&E(this,Ay,hE).call(this),t instanceof st&&((h(this,Kr)||y(this,Kr,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return h(this,cn).has(e)}get size(){return h(this,cn).size}resetModified(){h(this,Nh)&&(y(this,Nh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new lE(this)}get serializable(){if(h(this,cn).size===0)return Rw;const e=new Map,t=new oE,n=[],i=Object.create(null);let s=!1;for(const[o,l]of h(this,cn)){const u=l instanceof st?l.serialize(!1,i):l;u&&(e.set(o,u),t.update(`${o}:${JSON.stringify(u)}`),s||(s=!!u.bitmap))}if(s)for(const o of e.values())o.bitmap&&n.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Rw}get editorStats(){let e=null;const t=new Map;let n=0,i=0;for(const s of h(this,cn).values()){if(!(s instanceof st)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:l}=o;t.has(l)||t.set(l,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const u=e[l]||(e[l]=new Map);for(const[c,f]of Object.entries(o)){if(c==="type")continue;let p=u.get(c);p||(p=new Map,u.set(c,p));const g=p.get(f)??0;p.set(f,g+1)}}if((i>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:n}),!e)return null;for(const[s,o]of t)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){y(this,Rh,null)}updateEditor(e,t){var i;const n=(i=h(this,Kr))==null?void 0:i.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=h(this,Kr))==null?void 0:t.get(e))||null}get modifiedIds(){if(h(this,Rh))return h(this,Rh);const e=[];if(h(this,Kr))for(const t of h(this,Kr).values())t.serialize()&&e.push(t.annotationElementId);return y(this,Rh,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return h(this,cn).entries()}}Nh=new WeakMap,Rh=new WeakMap,Kr=new WeakMap,cn=new WeakMap,Ay=new WeakSet,hE=function(){h(this,Nh)||(y(this,Nh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Pf;class lE extends W0{constructor(t){super();S(this,Pf);const{map:n,hash:i,transfer:s}=t.serializable,o=structuredClone(n,s?{transfer:s}:null);y(this,Pf,{map:o,hash:i,transfer:s})}get print(){tt("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Pf)}get modifiedIds(){return Ae(this,"modifiedIds",{ids:new Set,hash:""})}}Pf=new WeakMap;var tu;class kI{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,tu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),h(this,tu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||h(this,tu).has(e.loadedName))){if(Ne(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=e,l=new FontFace(i,s,o);this.addNativeFontFace(l);try{await l.load(),h(this,tu).add(i),n==null||n(e)}catch{_e(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}tt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw _e(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ae(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ae(this,"isSyncFontLoadingSupported",Un||rn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ne(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ae(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(P,I){return P.charCodeAt(I)<<24|P.charCodeAt(I+1)<<16|P.charCodeAt(I+2)<<8|P.charCodeAt(I+3)&255}function i(P,I,N,O){const D=P.substring(0,I),U=P.substring(I+N);return D+O+U}let s,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let c=0;function f(P,I){if(++c>30){_e("Load test font never loaded."),I();return}if(u.font="30px "+P,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(f.bind(null,P,I))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const A=16,x=1482184792;let M=n(g,A);for(s=0,o=p.length-3;s<o;s+=4)M=M-x+n(p,s)|0;s<p.length&&(M=M-x+n(p+"XXX",s)|0),g=i(g,A,4,lI(M));const w=`url(data:font/opentype;base64,${btoa(g)});`,T=`@font-face {font-family:"${p}";src:${w}}`;this.insertRule(T);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const P of[e.loadedName,p]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=P,C.append(I)}this._document.body.append(C),f(p,()=>{C.remove(),t.complete()})}}tu=new WeakMap;var Ye;class xI{constructor(e,t=null,n,i){S(this,Ye);this.compiledGlyphs=Object.create(null),y(this,Ye,e),this._inspectFont=t,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${AT(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(o){_e(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return h(this,Ye).black}get bold(){return h(this,Ye).bold}get disableFontFace(){return h(this,Ye).disableFontFace??!1}get fontExtraProperties(){return h(this,Ye).fontExtraProperties??!1}get isInvalidPDFjsFont(){return h(this,Ye).isInvalidPDFjsFont}get isType3Font(){return h(this,Ye).isType3Font}get italic(){return h(this,Ye).italic}get missingFile(){return h(this,Ye).missingFile}get remeasure(){return h(this,Ye).remeasure}get vertical(){return h(this,Ye).vertical}get ascent(){return h(this,Ye).ascent}get defaultWidth(){return h(this,Ye).defaultWidth}get descent(){return h(this,Ye).descent}get bbox(){return h(this,Ye).bbox}get fontMatrix(){return h(this,Ye).fontMatrix}get fallbackName(){return h(this,Ye).fallbackName}get loadedName(){return h(this,Ye).loadedName}get mimetype(){return h(this,Ye).mimetype}get name(){return h(this,Ye).name}get data(){return h(this,Ye).data}clearData(){h(this,Ye).clearData()}get cssFontInfo(){return h(this,Ye).cssFontInfo}get systemFontInfo(){return h(this,Ye).systemFontInfo}get defaultVMetrics(){return h(this,Ye).defaultVMetrics}}Ye=new WeakMap;function SI(a){if(a instanceof URL)return a.href;if(typeof a=="string"){if(Un)return a;const e=URL.parse(a,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function AI(a){if(Un&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return Up(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Og(a){if(typeof a!="string")return null;if(a.endsWith("/"))return a;throw new Error(`Invalid factory url: "${a}" must include trailing slash.`)}const Ow=a=>typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0,TI=a=>typeof a=="object"&&typeof(a==null?void 0:a.name)=="string",dE=mI.bind(null,Ow,TI);var $r,Ty;class EI{constructor(){S(this,$r,new Map);S(this,Ty,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};h(this,Ty).then(()=>{for(const[i]of h(this,$r))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){_e("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}h(this,$r).set(t,i)}removeEventListener(e,t){const n=h(this,$r).get(t);n==null||n(),h(this,$r).delete(t)}terminate(){for(const[,e]of h(this,$r))e==null||e();h(this,$r).clear()}}$r=new WeakMap,Ty=new WeakMap;const Dg={DATA:1,ERROR:2},Dt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function CS(){}function Zn(a){if(a instanceof Ts||a instanceof oy||a instanceof _S||a instanceof $m||a instanceof f_)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||tt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Ts(a.message);case"InvalidPDFException":return new oy(a.message);case"PasswordException":return new _S(a.message,a.code);case"ResponseException":return new $m(a.message,a.status,a.missing);case"UnknownErrorException":return new f_(a.message,a.details)}return new f_(a.message,a.toString())}var nu,hi,uE,cE,mE,dv;class rm{constructor(e,t,n){S(this,hi);S(this,nu,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",E(this,hi,uE).bind(this),{signal:h(this,nu).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,o=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:c=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),f.promise},pull:c=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,u.postMessage({sourceName:o,targetName:l,stream:Dt.PULL,streamId:s,desiredSize:c.desiredSize}),f.promise},cancel:c=>{Ne(c instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:o,targetName:l,stream:Dt.CANCEL,streamId:s,reason:Zn(c)}),f.promise}},n)}destroy(){var e;(e=h(this,nu))==null||e.abort(),y(this,nu,null)}}nu=new WeakMap,hi=new WeakSet,uE=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){E(this,hi,mE).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Dg.DATA)i.resolve(e.data);else if(e.callback===Dg.ERROR)i.reject(Zn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:n,targetName:i,callback:Dg.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:n,targetName:i,callback:Dg.ERROR,callbackId:e.callbackId,reason:Zn(o)})});return}if(e.streamId){E(this,hi,cE).call(this,e);return}t(e.data)},cE=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,o=this,l=this.actionHandler[e.action],u={enqueue(c,f=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=f,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:Dt.ENQUEUE,streamId:t,chunk:c},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Dt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){Ne(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Dt.ERROR,streamId:t,reason:Zn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,Promise.try(l,e.data,u).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Dt.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:Dt.START_COMPLETE,streamId:t,reason:Zn(c)})})},mE=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Dt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Zn(e.reason));break;case Dt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Zn(e.reason));break;case Dt.PULL:if(!l){s.postMessage({sourceName:n,targetName:i,stream:Dt.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||CS).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Dt.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:Dt.PULL_COMPLETE,streamId:t,reason:Zn(c)})});break;case Dt.ENQUEUE:if(Ne(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Dt.CLOSE:if(Ne(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),E(this,hi,dv).call(this,o,t);break;case Dt.ERROR:Ne(o,"error should have stream controller"),o.controller.error(Zn(e.reason)),E(this,hi,dv).call(this,o,t);break;case Dt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Zn(e.reason)),E(this,hi,dv).call(this,o,t);break;case Dt.CANCEL:if(!l)break;const u=Zn(e.reason);Promise.try(l.onCancel||CS,u).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Dt.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:Dt.CANCEL_COMPLETE,streamId:t,reason:Zn(c)})}),l.sinkCapability.reject(u),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},dv=async function(e,t){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Lf;class fE{constructor({enableHWA:e=!1}){S(this,Lf,!1);y(this,Lf,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!h(this,Lf)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){tt("Abstract method `_createCanvas` called.")}}Lf=new WeakMap;class CI extends fE{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class pE{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){tt("Abstract method `_fetch` called.")}}class PS extends pE{async _fetch(e){const t=await _c(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Up(t)}}class gE{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(e=!1){}}var Oh,au,qr,Zr,En,Dh,Bh,ae,Sn,sm,nd,uv,ad,vE,Dw,id,om,hm,Bw,lm;class PI extends gE{constructor({docId:t,ownerDocument:n=globalThis.document}){super();S(this,ae);S(this,Oh);S(this,au);S(this,qr);S(this,Zr);S(this,En);S(this,Dh);S(this,Bh,0);y(this,Zr,t),y(this,En,n)}addFilter(t){if(!t)return"none";let n=h(this,ae,Sn).get(t);if(n)return n;const[i,s,o]=E(this,ae,uv).call(this,t),l=t.length===1?i:`${i}${s}${o}`;if(n=h(this,ae,Sn).get(l),n)return h(this,ae,Sn).set(t,n),n;const u=`g_${h(this,Zr)}_transfer_map_${Ht(this,Bh)._++}`,c=E(this,ae,ad).call(this,u);h(this,ae,Sn).set(t,c),h(this,ae,Sn).set(l,c);const f=E(this,ae,id).call(this,u);return E(this,ae,hm).call(this,i,s,o,f),c}addHCMFilter(t,n){var A;const i=`${t}-${n}`,s="base";let o=h(this,ae,sm).get(s);if((o==null?void 0:o.key)===i||(o?((A=o.filter)==null||A.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},h(this,ae,sm).set(s,o)),!t||!n))return o.url;const l=E(this,ae,lm).call(this,t);t=re.makeHexColor(...l);const u=E(this,ae,lm).call(this,n);if(n=re.makeHexColor(...u),h(this,ae,nd).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return o.url;const c=new Array(256);for(let x=0;x<=255;x++){const M=x/255;c[x]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const f=c.join(","),p=`g_${h(this,Zr)}_hcm_filter`,g=o.filter=E(this,ae,id).call(this,p);E(this,ae,hm).call(this,f,f,f,g),E(this,ae,Dw).call(this,g);const b=(x,M)=>{const w=l[x]/255,T=u[x]/255,C=new Array(M+1);for(let P=0;P<=M;P++)C[P]=w+P/M*(T-w);return C.join(",")};return E(this,ae,hm).call(this,b(0,5),b(1,5),b(2,5),g),o.url=E(this,ae,ad).call(this,p),o.url}addAlphaFilter(t){let n=h(this,ae,Sn).get(t);if(n)return n;const[i]=E(this,ae,uv).call(this,[t]),s=`alpha_${i}`;if(n=h(this,ae,Sn).get(s),n)return h(this,ae,Sn).set(t,n),n;const o=`g_${h(this,Zr)}_alpha_map_${Ht(this,Bh)._++}`,l=E(this,ae,ad).call(this,o);h(this,ae,Sn).set(t,l),h(this,ae,Sn).set(s,l);const u=E(this,ae,id).call(this,o);return E(this,ae,Bw).call(this,i,u),l}addLuminosityFilter(t){let n=h(this,ae,Sn).get(t||"luminosity");if(n)return n;let i,s;if(t?([i]=E(this,ae,uv).call(this,[t]),s=`luminosity_${i}`):s="luminosity",n=h(this,ae,Sn).get(s),n)return h(this,ae,Sn).set(t,n),n;const o=`g_${h(this,Zr)}_luminosity_map_${Ht(this,Bh)._++}`,l=E(this,ae,ad).call(this,o);h(this,ae,Sn).set(t,l),h(this,ae,Sn).set(s,l);const u=E(this,ae,id).call(this,o);return E(this,ae,vE).call(this,u),t&&E(this,ae,Bw).call(this,i,u),l}addHighlightHCMFilter(t,n,i,s,o){var T;const l=`${n}-${i}-${s}-${o}`;let u=h(this,ae,sm).get(t);if((u==null?void 0:u.key)===l||(u?((T=u.filter)==null||T.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},h(this,ae,sm).set(t,u)),!n||!i))return u.url;const[c,f]=[n,i].map(E(this,ae,lm).bind(this));let p=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,A]=[s,o].map(E(this,ae,lm).bind(this));g<p&&([p,g,b,A]=[g,p,A,b]),h(this,ae,nd).style.color="";const x=(C,P,I)=>{const N=new Array(256),O=(g-p)/I,D=C/255,U=(P-C)/(255*I);let H=0;for(let V=0;V<=I;V++){const Z=Math.round(p+V*O),he=D+V*U;for(let Q=H;Q<=Z;Q++)N[Q]=he;H=Z+1}for(let V=H;V<256;V++)N[V]=N[H-1];return N.join(",")},M=`g_${h(this,Zr)}_hcm_${t}_filter`,w=u.filter=E(this,ae,id).call(this,M);return E(this,ae,Dw).call(this,w),E(this,ae,hm).call(this,x(b[0],A[0],5),x(b[1],A[1],5),x(b[2],A[2],5),w),u.url=E(this,ae,ad).call(this,M),u.url}destroy(t=!1){var n,i,s,o;t&&((n=h(this,Dh))!=null&&n.size)||((i=h(this,qr))==null||i.parentNode.parentNode.remove(),y(this,qr,null),(s=h(this,au))==null||s.clear(),y(this,au,null),(o=h(this,Dh))==null||o.clear(),y(this,Dh,null),y(this,Bh,0))}}Oh=new WeakMap,au=new WeakMap,qr=new WeakMap,Zr=new WeakMap,En=new WeakMap,Dh=new WeakMap,Bh=new WeakMap,ae=new WeakSet,Sn=function(){return h(this,au)||y(this,au,new Map)},sm=function(){return h(this,Dh)||y(this,Dh,new Map)},nd=function(){if(!h(this,qr)){const t=h(this,En).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=h(this,En).createElementNS(Lr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),y(this,qr,h(this,En).createElementNS(Lr,"defs")),t.append(i),i.append(h(this,qr)),h(this,En).body.append(t)}return h(this,qr)},uv=function(t){if(t.length===1){const c=t[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=c[g]/255;const p=f.join(",");return[p,p,p]}const[n,i,s]=t,o=new Array(256),l=new Array(256),u=new Array(256);for(let c=0;c<256;c++)o[c]=n[c]/255,l[c]=i[c]/255,u[c]=s[c]/255;return[o.join(","),l.join(","),u.join(",")]},ad=function(t){if(h(this,Oh)===void 0){y(this,Oh,"");const n=h(this,En).URL;n!==h(this,En).baseURI&&(Vp(n)?_e('#createUrl: ignore "data:"-URL for performance reasons.'):y(this,Oh,B0(n,"")))}return`url(${h(this,Oh)}#${t})`},vE=function(t){const n=h(this,En).createElementNS(Lr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Dw=function(t){const n=h(this,En).createElementNS(Lr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},id=function(t){const n=h(this,En).createElementNS(Lr,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),h(this,ae,nd).append(n),n},om=function(t,n,i){const s=h(this,En).createElementNS(Lr,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},hm=function(t,n,i,s){const o=h(this,En).createElementNS(Lr,"feComponentTransfer");s.append(o),E(this,ae,om).call(this,o,"feFuncR",t),E(this,ae,om).call(this,o,"feFuncG",n),E(this,ae,om).call(this,o,"feFuncB",i)},Bw=function(t,n){const i=h(this,En).createElementNS(Lr,"feComponentTransfer");n.append(i),E(this,ae,om).call(this,i,"feFuncA",t)},lm=function(t){return h(this,ae,nd).style.color=t,wc(getComputedStyle(h(this,ae,nd)).getPropertyValue("color"))};class yE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){tt("Abstract method `_fetch` called.")}}class LS extends yE{async _fetch(e){const t=await _c(e,"arraybuffer");return new Uint8Array(t)}}class bE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){tt("Abstract method `_fetch` called.")}}class MS extends bE{async _fetch(e){const t=await _c(e,"arraybuffer");return new Uint8Array(t)}}Un&&_e("Please use the `legacy` build in Node.js environments.");async function V0(a){const t=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(t)}class LI extends gE{}class MI extends fE{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class jI extends pE{async _fetch(e){return V0(e)}}class II extends yE{async _fetch(e){return V0(e)}}class NI extends bE{async _fetch(e){return V0(e)}}const Jl="__forcedDependency",{floor:jS,ceil:IS}=Math;function Bg(a,e,t,n,i,s){a[e*4+0]=Math.min(a[e*4+0],t),a[e*4+1]=Math.min(a[e*4+1],n),a[e*4+2]=Math.max(a[e*4+2],i),a[e*4+3]=Math.max(a[e*4+3],s)}const Fw=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var iu,io;class RI{constructor(e,t){S(this,iu);S(this,io);y(this,iu,e),y(this,io,t)}get length(){return h(this,iu).length}isEmpty(e){return h(this,iu)[e]===Fw}minX(e){return h(this,io)[e*4+0]/256}minY(e){return h(this,io)[e*4+1]/256}maxX(e){return(h(this,io)[e*4+2]+1)/256}maxY(e){return(h(this,io)[e*4+3]+1)/256}}iu=new WeakMap,io=new WeakMap;const Fg=(a,e)=>{if(!a)return;let t=a.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},a.set(e,t)),t};var Jn,ea,Fh,wi,zh,Xr,Ve,Ke,Qr,ta,Mf,ru,Hh,Uh,Jr,Cn,sr,jf,zw;class OI{constructor(e,t,n=!1){S(this,jf);S(this,Jn,{__proto__:null});S(this,ea,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Jl]:[]});S(this,Fh,new Map);S(this,wi,[]);S(this,zh,[]);S(this,Xr,[[1,0,0,1,0,0]]);S(this,Ve,[-1/0,-1/0,1/0,1/0]);S(this,Ke,new Float64Array([1/0,1/0,-1/0,-1/0]));S(this,Qr,-1);S(this,ta,new Set);S(this,Mf,new Map);S(this,ru,new Map);S(this,Hh);S(this,Uh);S(this,Jr);S(this,Cn);S(this,sr);y(this,Hh,e.width),y(this,Uh,e.height),E(this,jf,zw).call(this,t),n&&y(this,sr,new Map)}growOperationsCount(e){e>=h(this,Cn).length&&E(this,jf,zw).call(this,e,h(this,Cn))}save(e){return y(this,Jn,{__proto__:h(this,Jn)}),y(this,ea,{__proto__:h(this,ea),transform:{__proto__:h(this,ea).transform},moveText:{__proto__:h(this,ea).moveText},sameLineText:{__proto__:h(this,ea).sameLineText},[Jl]:{__proto__:h(this,ea)[Jl]}}),y(this,Ve,{__proto__:h(this,Ve)}),h(this,wi).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(h(this,Jn));if(t===null)return this;y(this,Jn,t),y(this,ea,Object.getPrototypeOf(h(this,ea))),y(this,Ve,Object.getPrototypeOf(h(this,Ve)));const n=h(this,wi).pop();return n!==void 0&&((i=Fg(h(this,sr),e))==null||i.dependencies.add(n),h(this,Cn)[e]=h(this,Cn)[n]),this}recordOpenMarker(e){return h(this,wi).push(e),this}getOpenMarker(){return h(this,wi).length===0?null:h(this,wi).at(-1)}recordCloseMarker(e){var n;const t=h(this,wi).pop();return t!==void 0&&((n=Fg(h(this,sr),e))==null||n.dependencies.add(t),h(this,Cn)[e]=h(this,Cn)[t]),this}beginMarkedContent(e){return h(this,zh).push(e),this}endMarkedContent(e){var n;const t=h(this,zh).pop();return t!==void 0&&((n=Fg(h(this,sr),e))==null||n.dependencies.add(t),h(this,Cn)[e]=h(this,Cn)[t]),this}pushBaseTransform(e){return h(this,Xr).push(re.multiplyByDOMMatrix(h(this,Xr).at(-1),e.getTransform())),this}popBaseTransform(){return h(this,Xr).length>1&&h(this,Xr).pop(),this}recordSimpleData(e,t){return h(this,Jn)[e]=t,this}recordIncrementalData(e,t){return h(this,ea)[e].push(t),this}resetIncrementalData(e,t){return h(this,ea)[e].length=0,this}recordNamedData(e,t){return h(this,Fh).set(e,t),this}recordSimpleDataFromNamed(e,t,n){h(this,Jn)[e]=h(this,Fh).get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Jl,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in h(this,Jn)&&this.recordFutureForcedDependency(t,h(this,Jn)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of h(this,ta))this.recordFutureForcedDependency(Jl,e);return this}resetBBox(e){return h(this,Qr)!==e&&(y(this,Qr,e),h(this,Ke)[0]=1/0,h(this,Ke)[1]=1/0,h(this,Ke)[2]=-1/0,h(this,Ke)[3]=-1/0),this}recordClipBox(e,t,n,i,s,o){const l=re.multiplyByDOMMatrix(h(this,Xr).at(-1),t.getTransform()),u=[1/0,1/0,-1/0,-1/0];re.axialAlignedBoundingBox([n,s,i,o],l,u);const c=re.intersect(h(this,Ve),u);return c?(h(this,Ve)[0]=c[0],h(this,Ve)[1]=c[1],h(this,Ve)[2]=c[2],h(this,Ve)[3]=c[3]):(h(this,Ve)[0]=h(this,Ve)[1]=1/0,h(this,Ve)[2]=h(this,Ve)[3]=-1/0),this}recordBBox(e,t,n,i,s,o){const l=h(this,Ve);if(l[0]===1/0)return this;const u=re.multiplyByDOMMatrix(h(this,Xr).at(-1),t.getTransform());if(l[0]===-1/0)return re.axialAlignedBoundingBox([n,s,i,o],u,h(this,Ke)),this;const c=[1/0,1/0,-1/0,-1/0];return re.axialAlignedBoundingBox([n,s,i,o],u,c),h(this,Ke)[0]=Math.min(h(this,Ke)[0],Math.max(c[0],l[0])),h(this,Ke)[1]=Math.min(h(this,Ke)[1],Math.max(c[1],l[1])),h(this,Ke)[2]=Math.max(h(this,Ke)[2],Math.min(c[2],l[2])),h(this,Ke)[3]=Math.max(h(this,Ke)[3],Math.min(c[3],l[3])),this}recordCharacterBBox(e,t,n,i=1,s=0,o=0,l){const u=n.bbox;let c,f;if(u&&(c=u[2]!==u[0]&&u[3]!==u[1]&&h(this,ru).get(n),c!==!1&&(f=[0,0,0,0],re.axialAlignedBoundingBox(u,n.fontMatrix,f),(i!==1||s!==0||o!==0)&&re.scaleMinMax([i,0,0,-i,s,o],f),c)))return this.recordBBox(e,t,f[0],f[2],f[1],f[3]);if(!l)return this.recordFullPageBBox(e);const p=l();return u&&f&&c===void 0&&(c=f[0]<=s-p.actualBoundingBoxLeft&&f[2]>=s+p.actualBoundingBoxRight&&f[1]<=o-p.actualBoundingBoxAscent&&f[3]>=o+p.actualBoundingBoxDescent,h(this,ru).set(n,c),c)?this.recordBBox(e,t,f[0],f[2],f[1],f[3]):this.recordBBox(e,t,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,o-p.actualBoundingBoxAscent,o+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return h(this,Ke)[0]=Math.max(0,h(this,Ve)[0]),h(this,Ke)[1]=Math.max(0,h(this,Ve)[1]),h(this,Ke)[2]=Math.min(h(this,Hh),h(this,Ve)[2]),h(this,Ke)[3]=Math.min(h(this,Uh),h(this,Ve)[3]),this}getSimpleIndex(e){return h(this,Jn)[e]}recordDependencies(e,t){const n=h(this,ta),i=h(this,Jn),s=h(this,ea);for(const o of t)o in h(this,Jn)?n.add(i[o]):o in s&&s[o].forEach(n.add,n);return this}recordNamedDependency(e,t){return h(this,Fh).has(t)&&h(this,ta).add(h(this,Fh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Jl]),h(this,sr)){const n=Fg(h(this,sr),e),{dependencies:i}=n;h(this,ta).forEach(i.add,i),h(this,wi).forEach(i.add,i),h(this,zh).forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(h(this,Qr)===e){const n=jS(h(this,Ke)[0]*256/h(this,Hh)),i=jS(h(this,Ke)[1]*256/h(this,Uh)),s=IS(h(this,Ke)[2]*256/h(this,Hh)),o=IS(h(this,Ke)[3]*256/h(this,Uh));Bg(h(this,Jr),e,n,i,s,o);for(const l of h(this,ta))l!==e&&Bg(h(this,Jr),l,n,i,s,o);for(const l of h(this,wi))l!==e&&Bg(h(this,Jr),l,n,i,s,o);for(const l of h(this,zh))l!==e&&Bg(h(this,Jr),l,n,i,s,o);t||(h(this,ta).clear(),y(this,Qr,-1))}return this}recordShowTextOperation(e,t=!1){const n=Array.from(h(this,ta));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return h(this,Qr)===e&&(y(this,Qr,-1),h(this,Ve)[0]=Math.max(h(this,Ve)[0],h(this,Ke)[0]),h(this,Ve)[1]=Math.max(h(this,Ve)[1],h(this,Ke)[1]),h(this,Ve)[2]=Math.min(h(this,Ve)[2],h(this,Ke)[2]),h(this,Ve)[3]=Math.min(h(this,Ve)[3],h(this,Ke)[3]),t||h(this,ta).clear()),this}_takePendingDependencies(){const e=h(this,ta);return y(this,ta,new Set),e}_extractOperation(e){const t=h(this,Mf).get(e);return h(this,Mf).delete(e),t}_pushPendingDependencies(e){for(const t of e)h(this,ta).add(t)}take(){return h(this,ru).clear(),new RI(h(this,Cn),h(this,Jr))}takeDebugMetadata(){return h(this,sr)}}Jn=new WeakMap,ea=new WeakMap,Fh=new WeakMap,wi=new WeakMap,zh=new WeakMap,Xr=new WeakMap,Ve=new WeakMap,Ke=new WeakMap,Qr=new WeakMap,ta=new WeakMap,Mf=new WeakMap,ru=new WeakMap,Hh=new WeakMap,Uh=new WeakMap,Jr=new WeakMap,Cn=new WeakMap,sr=new WeakMap,jf=new WeakSet,zw=function(e,t){const n=new ArrayBuffer(e*4);y(this,Jr,new Uint8ClampedArray(n)),y(this,Cn,new Uint32Array(n)),t&&t.length>0?(h(this,Cn).set(t),h(this,Cn).fill(Fw,t.length)):h(this,Cn).fill(Fw)};var Qe,St,ki,su,ou;const sx=class sx{constructor(e,t,n){S(this,Qe);S(this,St);S(this,ki);S(this,su,0);S(this,ou,0);if(e instanceof sx&&h(e,ki)===!!n)return e;y(this,Qe,e),y(this,St,t),y(this,ki,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Ht(this,ou)._++,h(this,Qe).save(h(this,St)),this}restore(e){return h(this,ou)>0&&(h(this,Qe).restore(h(this,St)),Ht(this,ou)._--),this}recordOpenMarker(e){return Ht(this,su)._++,this}getOpenMarker(){return h(this,su)>0?h(this,St):h(this,Qe).getOpenMarker()}recordCloseMarker(e){return Ht(this,su)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return h(this,Qe).pushBaseTransform(e),this}popBaseTransform(){return h(this,Qe).popBaseTransform(),this}recordSimpleData(e,t){return h(this,Qe).recordSimpleData(e,h(this,St)),this}recordIncrementalData(e,t){return h(this,Qe).recordIncrementalData(e,h(this,St)),this}resetIncrementalData(e,t){return h(this,Qe).resetIncrementalData(e,h(this,St)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return h(this,Qe).recordSimpleDataFromNamed(e,t,h(this,St)),this}recordFutureForcedDependency(e,t){return h(this,Qe).recordFutureForcedDependency(e,h(this,St)),this}inheritSimpleDataAsFutureForcedDependencies(e){return h(this,Qe).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return h(this,Qe).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return h(this,ki)||h(this,Qe).resetBBox(h(this,St)),this}recordClipBox(e,t,n,i,s,o){return h(this,ki)||h(this,Qe).recordClipBox(h(this,St),t,n,i,s,o),this}recordBBox(e,t,n,i,s,o){return h(this,ki)||h(this,Qe).recordBBox(h(this,St),t,n,i,s,o),this}recordCharacterBBox(e,t,n,i,s,o,l){return h(this,ki)||h(this,Qe).recordCharacterBBox(h(this,St),t,n,i,s,o,l),this}recordFullPageBBox(e){return h(this,ki)||h(this,Qe).recordFullPageBBox(h(this,St)),this}getSimpleIndex(e){return h(this,Qe).getSimpleIndex(e)}recordDependencies(e,t){return h(this,Qe).recordDependencies(h(this,St),t),this}recordNamedDependency(e,t){return h(this,Qe).recordNamedDependency(h(this,St),t),this}recordOperation(e){return h(this,Qe).recordOperation(h(this,St),!0),this}recordShowTextOperation(e){return h(this,Qe).recordShowTextOperation(h(this,St),!0),this}bboxToClipBoxDropOperation(e){return h(this,ki)||h(this,Qe).bboxToClipBoxDropOperation(h(this,St),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Qe=new WeakMap,St=new WeakMap,ki=new WeakMap,su=new WeakMap,ou=new WeakMap;let dy=sx;const Va={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},gn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Hw(a,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),a.clip(i)}class G0{isModifyingCurrentTransform(){return!1}getPattern(){tt("Abstract method `getPattern` called.")}}class DI extends G0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===gn.STROKE||i===gn.FILL){const o=t.current.getClippedPathBoundingBox(i,gt(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",l,u),f=c.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),n=re.transform(n,[1,0,0,1,o[0],o[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),Hw(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=e.createPattern(c.canvas,"no-repeat");const p=new DOMMatrix(n);s.setTransform(p)}else Hw(e,this._bbox),s=this._createGradient(e);return s}}function v_(a,e,t,n,i,s,o,l){const u=e.coords,c=e.colors,f=a.data,p=a.width*4;let g;u[t+1]>u[n+1]&&(g=t,t=n,n=g,g=s,s=o,o=g),u[n+1]>u[i+1]&&(g=n,n=i,i=g,g=o,o=l,l=g),u[t+1]>u[n+1]&&(g=t,t=n,n=g,g=s,s=o,o=g);const b=(u[t]+e.offsetX)*e.scaleX,A=(u[t+1]+e.offsetY)*e.scaleY,x=(u[n]+e.offsetX)*e.scaleX,M=(u[n+1]+e.offsetY)*e.scaleY,w=(u[i]+e.offsetX)*e.scaleX,T=(u[i+1]+e.offsetY)*e.scaleY;if(A>=T)return;const C=c[s],P=c[s+1],I=c[s+2],N=c[o],O=c[o+1],D=c[o+2],U=c[l],H=c[l+1],V=c[l+2],Z=Math.round(A),he=Math.round(T);let Q,fe,q,X,F,ee,Y,de;for(let ne=Z;ne<=he;ne++){if(ne<M){const Se=ne<A?0:(A-ne)/(A-M);Q=b-(b-x)*Se,fe=C-(C-N)*Se,q=P-(P-O)*Se,X=I-(I-D)*Se}else{let Se;ne>T?Se=1:M===T?Se=0:Se=(M-ne)/(M-T),Q=x-(x-w)*Se,fe=N-(N-U)*Se,q=O-(O-H)*Se,X=D-(D-V)*Se}let me;ne<A?me=0:ne>T?me=1:me=(A-ne)/(A-T),F=b-(b-w)*me,ee=C-(C-U)*me,Y=P-(P-H)*me,de=I-(I-V)*me;const ye=Math.round(Math.min(Q,F)),ge=Math.round(Math.max(Q,F));let ue=p*ne+ye*4;for(let Se=ye;Se<=ge;Se++)me=(Q-Se)/(Q-F),me<0?me=0:me>1&&(me=1),f[ue++]=fe-(fe-ee)*me|0,f[ue++]=q-(q-Y)*me|0,f[ue++]=X-(X-de)*me|0,f[ue++]=255}}function BI(a,e,t){const n=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const l=e.verticesPerRow,u=Math.floor(n.length/l)-1,c=l-1;for(s=0;s<u;s++){let f=s*l;for(let p=0;p<c;p++,f++)v_(a,t,n[f],n[f+1],n[f+l],i[f],i[f+1],i[f+l]),v_(a,t,n[f+l+1],n[f+1],n[f+l],i[f+l+1],i[f+1],i[f+l])}break;case"triangles":for(s=0,o=n.length;s<o;s+=3)v_(a,t,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class FI extends G0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-l,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),b=c/p,A=f/g,x={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-u,scaleX:1/b,scaleY:1/A},M=p+2*2,w=g+2*2,T=n.getCanvas("mesh",M,w),C=T.context,P=C.createImageData(p,g);if(t){const N=P.data;for(let O=0,D=N.length;O<D;O+=4)N[O]=t[0],N[O+1]=t[1],N[O+2]=t[2],N[O+3]=255}for(const N of this._figures)BI(P,N,x);return C.putImageData(P,2,2),{canvas:T.canvas,offsetX:l-2*b,offsetY:u-2*A,scaleX:b,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){Hw(e,this._bbox);const s=new Float32Array(2);if(i===gn.SHADING)re.singularValueDecompose2dScale(gt(e),s);else if(this.matrix){re.singularValueDecompose2dScale(this.matrix,s);const[l,u]=s;re.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=l,s[1]*=u}else re.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,i===gn.SHADING?null:this._background,t.cachedCanvases);return i!==gn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class zI extends G0{getPattern(){return"hotpink"}}function HI(a){switch(a[0]){case"RadialAxial":return new DI(a);case"Mesh":return new FI(a);case"Dummy":return new zI}throw new Error(`Unknown IR type: ${a[0]}`)}const NS={COLORED:1,UNCOLORED:2},Ey=class Ey{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,t){var ee,Y;const{bbox:n,operatorList:i,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:u}=this;let{xstep:c,ystep:f}=this;c=Math.abs(c),f=Math.abs(f),tb("TilingType: "+o);const p=n[0],g=n[1],b=n[2],A=n[3],x=b-p,M=A-g,w=new Float32Array(2);re.singularValueDecompose2dScale(this.matrix,w);const[T,C]=w;re.singularValueDecompose2dScale(this.baseTransform,w);const P=T*w[0],I=C*w[1];let N=x,O=M,D=!1,U=!1;const H=Math.ceil(c*P),V=Math.ceil(f*I),Z=Math.ceil(x*P),he=Math.ceil(M*I);H>=Z?N=c:D=!0,V>=he?O=f:U=!0;const Q=this.getSizeAndScale(N,this.ctx.canvas.width,P),fe=this.getSizeAndScale(O,this.ctx.canvas.height,I),q=e.cachedCanvases.getCanvas("pattern",Q.size,fe.size),X=q.context,F=u.createCanvasGraphics(X,t);if(F.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(F,s,l),X.translate(-Q.scale*p,-fe.scale*g),F.transform(0,Q.scale,0,0,fe.scale,0,0),X.save(),(ee=F.dependencyTracker)==null||ee.save(),this.clipBbox(F,p,g,b,A),F.baseTransform=gt(F.ctx),F.executeOperatorList(i),F.endDrawing(),(Y=F.dependencyTracker)==null||Y.restore(),X.restore(),D||U){const de=q.canvas;D&&(N=c),U&&(O=f);const ne=this.getSizeAndScale(N,this.ctx.canvas.width,P),me=this.getSizeAndScale(O,this.ctx.canvas.height,I),ye=ne.size,ge=me.size,ue=e.cachedCanvases.getCanvas("pattern-workaround",ye,ge),Se=ue.context,sn=D?Math.floor(x/c):0,wn=U?Math.floor(M/f):0;for(let ze=0;ze<=sn;ze++)for(let on=0;on<=wn;on++)Se.drawImage(de,ye*ze,ge*on,ye,ge,0,0,ye,ge);return{canvas:ue.canvas,scaleX:ne.scale,scaleY:me.scale,offsetX:p,offsetY:g}}return{canvas:q.canvas,scaleX:Q.scale,scaleY:fe.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,n){const i=Math.max(Ey.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const o=i-t,l=s-n;e.ctx.rect(t,n,o,l),re.axialAlignedBoundingBox([t,n,i,s],gt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case NS.COLORED:const{fillStyle:o,strokeStyle:l}=this.ctx;i.fillStyle=s.fillColor=o,i.strokeStyle=s.strokeColor=l;break;case NS.UNCOLORED:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new hI(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i,s){let o=n;i!==gn.SHADING&&(o=re.transform(o,t.baseTransform),this.matrix&&(o=re.transform(o,this.matrix)));const l=this.createPatternCanvas(t,s);let u=new DOMMatrix(o);u=u.translate(l.offsetX,l.offsetY),u=u.scale(1/l.scaleX,1/l.scaleY);const c=e.createPattern(l.canvas,"repeat");return c.setTransform(u),c}};K(Ey,"MAX_PATTERN_SIZE",3e3);let Uw=Ey;function UI({src:a,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const l=rn.isLittleEndian?4278190080:255,[u,c]=o?[s,l]:[l,s],f=n>>3,p=n&7,g=a.length;t=new Uint32Array(t.buffer);let b=0;for(let A=0;A<i;A++){for(const M=e+f;e<M;e++){const w=e<g?a[e]:255;t[b++]=w&128?c:u,t[b++]=w&64?c:u,t[b++]=w&32?c:u,t[b++]=w&16?c:u,t[b++]=w&8?c:u,t[b++]=w&4?c:u,t[b++]=w&2?c:u,t[b++]=w&1?c:u}if(p===0)continue;const x=e<g?a[e++]:255;for(let M=0;M<p;M++)t[b++]=x&1<<7-M?c:u}return{srcPos:e,destPos:b}}const RS=16,OS=100,WI=15,DS=10,ra=16,y_=new DOMMatrix,Ma=new Float32Array(2),wd=new Float32Array([1/0,1/0,-1/0,-1/0]);function VI(a,e){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){e.save(),this.__originalSave()},a.restore=function(){e.restore(),this.__originalRestore()},a.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},a.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},a.transform=function(t,n,i,s,o,l){e.transform(t,n,i,s,o,l),this.__originalTransform(t,n,i,s,o,l)},a.setTransform=function(t,n,i,s,o,l){e.setTransform(t,n,i,s,o,l),this.__originalSetTransform(t,n,i,s,o,l)},a.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},a.rotate=function(t){e.rotate(t),this.__originalRotate(t)},a.clip=function(t){e.clip(t),this.__originalClip(t)},a.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},a.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},a.bezierCurveTo=function(t,n,i,s,o,l){e.bezierCurveTo(t,n,i,s,o,l),this.__originalBezierCurveTo(t,n,i,s,o,l)},a.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},a.closePath=function(){e.closePath(),this.__originalClosePath()},a.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class GI{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function zg(a,e,t,n,i,s,o,l,u,c){const[f,p,g,b,A,x]=gt(a);if(p===0&&g===0){const T=o*f+A,C=Math.round(T),P=l*b+x,I=Math.round(P),N=(o+u)*f+A,O=Math.abs(Math.round(N)-C)||1,D=(l+c)*b+x,U=Math.abs(Math.round(D)-I)||1;return a.setTransform(Math.sign(f),0,0,Math.sign(b),C,I),a.drawImage(e,t,n,i,s,0,0,O,U),a.setTransform(f,p,g,b,A,x),[O,U]}if(f===0&&b===0){const T=l*g+A,C=Math.round(T),P=o*p+x,I=Math.round(P),N=(l+c)*g+A,O=Math.abs(Math.round(N)-C)||1,D=(o+u)*p+x,U=Math.abs(Math.round(D)-I)||1;return a.setTransform(0,Math.sign(p),Math.sign(g),0,C,I),a.drawImage(e,t,n,i,s,0,0,U,O),a.setTransform(f,p,g,b,A,x),[U,O]}a.drawImage(e,t,n,i,s,o,l,u,c);const M=Math.hypot(f,p),w=Math.hypot(g,b);return[M*u,w*c]}class BS{constructor(e,t,n){K(this,"alphaIsShape",!1);K(this,"fontSize",0);K(this,"fontSizeScale",1);K(this,"textMatrix",null);K(this,"textMatrixScale",1);K(this,"fontMatrix",fw);K(this,"leading",0);K(this,"x",0);K(this,"y",0);K(this,"lineX",0);K(this,"lineY",0);K(this,"charSpacing",0);K(this,"wordSpacing",0);K(this,"textHScale",1);K(this,"textRenderingMode",ln.FILL);K(this,"textRise",0);K(this,"fillColor","#000000");K(this,"strokeColor","#000000");K(this,"patternFill",!1);K(this,"patternStroke",!1);K(this,"fillAlpha",1);K(this,"strokeAlpha",1);K(this,"lineWidth",1);K(this,"activeSMask",null);K(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=wd.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=gn.FILL,t=null){const n=this.minMax.slice();if(e===gn.STROKE){t||tt("Stroke bounding box must include transform."),re.singularValueDecompose2dScale(t,Ma);const i=Ma[0]*this.lineWidth/2,s=Ma[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=re.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(wd,0)}getClippedPathBoundingBox(e=gn.FILL,t=null){return re.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function FS(a,e){if(e instanceof ImageData){a.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%ra,s=(t-i)/ra,o=i===0?s:s+1,l=a.createImageData(n,ra);let u=0,c;const f=e.data,p=l.data;let g,b,A,x;if(e.kind===Pm.GRAYSCALE_1BPP){const M=f.byteLength,w=new Uint32Array(p.buffer,0,p.byteLength>>2),T=w.length,C=n+7>>3,P=4294967295,I=rn.isLittleEndian?4278190080:255;for(g=0;g<o;g++){for(A=g<s?ra:i,c=0,b=0;b<A;b++){const N=M-u;let O=0;const D=N>C?n:N*8-7,U=D&-8;let H=0,V=0;for(;O<U;O+=8)V=f[u++],w[c++]=V&128?P:I,w[c++]=V&64?P:I,w[c++]=V&32?P:I,w[c++]=V&16?P:I,w[c++]=V&8?P:I,w[c++]=V&4?P:I,w[c++]=V&2?P:I,w[c++]=V&1?P:I;for(;O<D;O++)H===0&&(V=f[u++],H=128),w[c++]=V&H?P:I,H>>=1}for(;c<T;)w[c++]=0;a.putImageData(l,0,g*ra)}}else if(e.kind===Pm.RGBA_32BPP){for(b=0,x=n*ra*4,g=0;g<s;g++)p.set(f.subarray(u,u+x)),u+=x,a.putImageData(l,0,b),b+=ra;g<o&&(x=n*i*4,p.set(f.subarray(u,u+x)),a.putImageData(l,0,b))}else if(e.kind===Pm.RGB_24BPP)for(A=ra,x=n*A,g=0;g<o;g++){for(g>=s&&(A=i,x=n*A),c=0,b=x;b--;)p[c++]=f[u++],p[c++]=f[u++],p[c++]=f[u++],p[c++]=255;a.putImageData(l,0,g*ra)}else throw new Error(`bad image kind: ${e.kind}`)}function zS(a,e){if(e.bitmap){a.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%ra,s=(t-i)/ra,o=i===0?s:s+1,l=a.createImageData(n,ra);let u=0;const c=e.data,f=l.data;for(let p=0;p<o;p++){const g=p<s?ra:i;({srcPos:u}=UI({src:c,srcPos:u,dest:f,width:n,height:g,nonBlackColor:0})),a.putImageData(l,0,p*ra)}}function Gc(a,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)a[n]!==void 0&&(e[n]=a[n]);a.setLineDash!==void 0&&(e.setLineDash(a.getLineDash()),e.lineDashOffset=a.lineDashOffset)}function Hg(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0);const{filter:e}=a;e!=="none"&&e!==""&&(a.filter="none")}function HS(a,e){if(e)return!0;re.singularValueDecompose2dScale(a,Ma);const t=Math.fround(Oi.pixelRatio*Es.PDF_TO_CSS_UNITS);return Ma[0]<=t&&Ma[1]<=t}const YI=["butt","round","square"],KI=["miter","round","bevel"],$I={},US={};var Di,Ww,Vw,Gw;const ox=class ox{constructor(e,t,n,i,s,{optionalContentConfig:o,markedContentStack:l=null},u,c,f){S(this,Di);this.ctx=e,this.current=new BS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new GI(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,t,n=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=l,n){const u=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...gt(this.compositeCtx))}this.ctx.save(),Hg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=gt(this.ctx)}executeOperatorList(e,t,n,i,s){var w;const o=e.argsArray,l=e.fnArray;let u=t||0;const c=o.length;if(c===u)return u;const f=c-u>DS&&typeof n=="function",p=f?Date.now()+WI:0;let g=0;const b=this.commonObjs,A=this.objs;let x,M;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,n),u;if(!s||s(u))if(x=l[u],M=o[u]??null,x!==fc.dependency)M===null?this[x](u):this[x](u,...M);else for(const T of M){(w=this.dependencyTracker)==null||w.recordNamedData(T,u);const C=T.startsWith("g_")?b:A;if(!C.has(T))return C.get(T,n),u}if(u++,u===c)return u;if(f&&++g>DS){if(Date.now()>p)return n(),u;g=0}}}endDrawing(){E(this,Di,Ww).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,Di,Vw).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,u=i,c="prescale1",f,p;for(;s>2&&l>1||o>2&&u>1;){let g=l,b=u;s>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/g),o>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/b),f=this.cachedCanvases.getCanvas(c,g,b),p=f.context,p.clearRect(0,0,g,b),p.drawImage(e,0,0,l,u,0,0,g,b),e=f.canvas,l=g,u=b,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:u}}_createMaskCanvas(e,t){var H,V;const n=this.ctx,{width:i,height:s}=t,o=this.current.fillColor,l=this.current.patternFill,u=gt(n);let c,f,p,g;if((t.bitmap||t.data)&&t.count>1){const Z=t.bitmap||t.data.buffer;f=JSON.stringify(l?u:[u.slice(0,4),o]),c=this._cachedBitmapsMap.get(Z),c||(c=new Map,this._cachedBitmapsMap.set(Z,c));const he=c.get(f);if(he&&!l){const Q=Math.round(Math.min(u[0],u[2])+u[4]),fe=Math.round(Math.min(u[1],u[3])+u[5]);return(H=this.dependencyTracker)==null||H.recordDependencies(e,Va.transformAndFill),{canvas:he,offsetX:Q,offsetY:fe}}p=he}p||(g=this.cachedCanvases.getCanvas("maskCanvas",i,s),zS(g.context,t));let b=re.transform(u,[1/i,0,0,-1/s,0,0]);b=re.transform(b,[1,0,0,1,0,-s]);const A=wd.slice();re.axialAlignedBoundingBox([0,0,i,s],b,A);const[x,M,w,T]=A,C=Math.round(w-x)||1,P=Math.round(T-M)||1,I=this.cachedCanvases.getCanvas("fillCanvas",C,P),N=I.context,O=x,D=M;N.translate(-O,-D),N.transform(...b),p||(p=this._scaleImage(g.canvas,Yi(N)),p=p.img,c&&l&&c.set(f,p)),N.imageSmoothingEnabled=HS(gt(N),t.interpolate),zg(N,p,0,0,p.width,p.height,0,0,i,s),N.globalCompositeOperation="source-in";const U=re.transform(Yi(N),[1,0,0,1,-O,-D]);return N.fillStyle=l?o.getPattern(n,this,U,gn.FILL,e):o,N.fillRect(0,0,i,s),c&&!l&&(this.cachedCanvases.delete("fillCanvas"),c.set(f,I.canvas)),(V=this.dependencyTracker)==null||V.recordDependencies(e,Va.transformAndFill),{canvas:I.canvas,offsetX:Math.round(O),offsetY:Math.round(D)}}setLineWidth(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=YI[t]}setLineJoin(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=KI[t]}setMiterLimit(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,i,s,o,l;for(const[u,c]of t)switch(u){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(l=this.dependencyTracker)==null||l.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),Gc(this.suspendedCtx,o),VI(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Gc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],o=i[1],l=i[2]-s,u=i[3]-o;l===0||u===0||(this.genericComposeSMask(t.context,n,l,u,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,o,l,u,c,f,p){let g=e.canvas,b=u-f,A=c-p;if(o)if(b<0||A<0||b+n>g.width||A+i>g.height){const M=this.cachedCanvases.getCanvas("maskExtension",n,i),w=M.context;w.drawImage(g,-b,-A),w.globalCompositeOperation="destination-atop",w.fillStyle=o,w.fillRect(0,0,n,i),w.globalCompositeOperation="source-over",g=M.canvas,b=A=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const M=new Path2D;M.rect(b,A,n,i),e.clip(M),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(b,A,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const x=new Path2D;x.rect(u,c,n,i),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(g,b,A,n,i,u,c,n,i),t.restore()}save(e){var n;this.inSMaskMode&&Gc(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Gc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,s,o,l){var u;(u=this.dependencyTracker)==null||u.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,s,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[s]=n;if(!i){s||(s=n[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const o=t===fc.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-o,i[2]+o,i[1]-o,i[3]+o).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const o=n[0]=new Path2D;for(let l=0,u=s.length;l<u;)switch(s[l++]){case Ng.moveTo:o.moveTo(s[l++],s[l++]);break;case Ng.lineTo:o.lineTo(s[l++],s[l++]);break;case Ng.curveTo:o.bezierCurveTo(s[l++],s[l++],s[l++],s[l++],s[l++],s[l++]);break;case Ng.closePath:o.closePath();break;default:_e(`Unrecognized drawing path operator: ${s[l-1]}`);break}s=o}re.axialAlignedBoundingBox(i,gt(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){var o;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const l=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Yi(i),gn.STROKE,e),l){const u=new Path2D;u.addPath(t,i.getTransform().invertSelf().multiplySelf(l)),t=u}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,Va.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(gn.STROKE,gt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){var c,f,p;const i=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const g=s.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=s.getPattern(i,this,Yi(i),gn.FILL,e),g){const b=new Path2D;b.addPath(t,i.getTransform().invertSelf().multiplySelf(g)),t=b}l=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(f=this.dependencyTracker)==null||f.recordDependencies(e,Va.fill),l&&(i.restore(),(p=this.dependencyTracker)==null||p.restore(e)),n&&this.consumePath(e,t,u)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),(n=this.dependencyTracker)==null||n.recordDependencies(e,Va.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=$I}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=US}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=n.getTransform().invertSelf();for(const{transform:o,x:l,y:u,fontSize:c,path:f}of t)f&&i.addPath(f,new DOMMatrix(o).preMultiplySelf(s).translate(l,u).scale(c,-c));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var p,g;(p=this.dependencyTracker)==null||p.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||fw,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&_e("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const o=i.loadedName||"sans-serif",l=((g=i.systemFontInfo)==null?void 0:g.css)||`"${o}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const c=i.italic?"italic":"normal";let f=n;n<RS?f=RS:n>OS&&(f=OS),this.current.fontSizeScale=n/f,this.ctx.font=`${c} ${u} ${f}px ${l}`}setTextRenderingMode(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,n,i,s,o){var w,T,C,P;const l=this.ctx,u=this.current,c=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=f&ln.FILL_STROKE_MASK,b=!!(f&ln.ADD_TO_PATH_FLAG),A=u.patternFill&&!c.missingFile,x=u.patternStroke&&!c.missingFile;let M;if((c.disableFontFace||b||A||x)&&!c.missingFile&&(M=c.getPathGenerator(this.commonObjs,t)),M&&(c.disableFontFace||A||x)){l.save(),l.translate(n,i),l.scale(p,-p),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,l,c);let I;if(g===ln.FILL||g===ln.FILL_STROKE)if(s){I=l.getTransform(),l.setTransform(...s);const N=E(this,Di,Gw).call(this,M,I,s);l.fill(N)}else l.fill(M);if(g===ln.STROKE||g===ln.FILL_STROKE)if(o){I||(I=l.getTransform()),l.setTransform(...o);const{a:N,b:O,c:D,d:U}=I,H=re.inverseTransform(o),V=re.transform([N,O,D,U,0,0],H);re.singularValueDecompose2dScale(V,Ma),l.lineWidth*=Math.max(Ma[0],Ma[1])/p,l.stroke(E(this,Di,Gw).call(this,M,I,o))}else l.lineWidth/=p,l.stroke(M);l.restore()}else(g===ln.FILL||g===ln.FILL_STROKE)&&(l.fillText(t,n,i),(T=this.dependencyTracker)==null||T.recordCharacterBBox(e,l,c,p,n,i,()=>l.measureText(t))),(g===ln.STROKE||g===ln.FILL_STROKE)&&(this.dependencyTracker&&((C=this.dependencyTracker)==null||C.recordCharacterBBox(e,l,c,p,n,i,()=>l.measureText(t)).recordDependencies(e,Va.stroke)),l.strokeText(t,n,i));b&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:gt(l),x:n,y:i,fontSize:p,path:M}),(P=this.dependencyTracker)==null||P.recordCharacterBBox(e,l,c,p,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Ae(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var D,U,H,V;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Va.showText).resetBBox(e),this.current.textRenderingMode&ln.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,t),(D=this.dependencyTracker)==null||D.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){(U=this.dependencyTracker)==null||U.recordOperation(e);return}const o=this.ctx,l=n.fontSizeScale,u=n.charSpacing,c=n.wordSpacing,f=n.fontDirection,p=n.textHScale*f,g=t.length,b=i.vertical,A=b?1:-1,x=i.defaultVMetrics,M=s*n.fontMatrix[0],w=n.textRenderingMode===ln.FILL&&!i.disableFontFace&&!n.patternFill;o.save(),n.textMatrix&&o.transform(...n.textMatrix),o.translate(n.x,n.y+n.textRise),f>0?o.scale(p,-1):o.scale(p,1);let T,C;if(n.patternFill){o.save();const Z=n.fillColor.getPattern(o,this,Yi(o),gn.FILL,e);T=gt(o),o.restore(),o.fillStyle=Z}if(n.patternStroke){o.save();const Z=n.strokeColor.getPattern(o,this,Yi(o),gn.STROKE,e);C=gt(o),o.restore(),o.strokeStyle=Z}let P=n.lineWidth;const I=n.textMatrixScale;if(I===0||P===0){const Z=n.textRenderingMode&ln.FILL_STROKE_MASK;(Z===ln.STROKE||Z===ln.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=I;if(l!==1&&(o.scale(l,l),P/=l),o.lineWidth=P,i.isInvalidPDFjsFont){const Z=[];let he=0;for(const fe of t)Z.push(fe.unicode),he+=fe.width;const Q=Z.join("");if(o.fillText(Q,0,0),this.dependencyTracker!==null){const fe=o.measureText(Q);this.dependencyTracker.recordBBox(e,this.ctx,-fe.actualBoundingBoxLeft,fe.actualBoundingBoxRight,-fe.actualBoundingBoxAscent,fe.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=he*M*p,o.restore(),this.compose();return}let N=0,O;for(O=0;O<g;++O){const Z=t[O];if(typeof Z=="number"){N+=A*Z*s/1e3;continue}let he=!1;const Q=(Z.isSpace?c:0)+u,fe=Z.fontChar,q=Z.accent;let X,F,ee=Z.width;if(b){const ne=Z.vmetric||x,me=-(Z.vmetric?ne[1]:ee*.5)*M,ye=ne[2]*M;ee=ne?-ne[0]:ee,X=me/l,F=(N+ye)/l}else X=N/l,F=0;let Y;if(i.remeasure&&ee>0){Y=o.measureText(fe);const ne=Y.width*1e3/s*l;if(ee<ne&&this.isFontSubpixelAAEnabled){const me=ee/ne;he=!0,o.save(),o.scale(me,1),X/=me}else ee!==ne&&(X+=(ee-ne)/2e3*s/l)}if(this.contentVisible&&(Z.isInFont||i.missingFile)){if(w&&!q)o.fillText(fe,X,F),(H=this.dependencyTracker)==null||H.recordCharacterBBox(e,o,Y?{bbox:null}:i,s/l,X,F,()=>Y??o.measureText(fe));else if(this.paintChar(e,fe,X,F,T,C),q){const ne=X+s*q.offset.x/l,me=F-s*q.offset.y/l;this.paintChar(e,q.fontChar,ne,me,T,C)}}const de=b?ee*M-Q*f:ee*M+Q*f;N+=de,he&&o.restore()}b?n.y-=N:n.x+=N*p,o.restore(),this.compose(),(V=this.dependencyTracker)==null||V.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,i=this.current,s=i.font,o=i.fontSize,l=i.fontDirection,u=s.vertical?1:-1,c=i.charSpacing,f=i.wordSpacing,p=i.textHScale*l,g=i.fontMatrix||fw,b=t.length,A=i.textRenderingMode===ln.INVISIBLE;let x,M,w,T;if(A||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(p,l);const C=this.dependencyTracker;for(this.dependencyTracker=C?new dy(C,e):null,x=0;x<b;++x){if(M=t[x],typeof M=="number"){T=u*M*o/1e3,this.ctx.translate(T,0),i.x+=T*p;continue}const P=(M.isSpace?f:0)+c,I=s.charProcOperatorList[M.operatorListId];I?this.contentVisible&&(this.save(),n.scale(o,o),n.transform(...g),this.executeOperatorList(I),this.restore()):_e(`Type3 character "${M.operatorListId}" is not available.`);const N=[M.width,0];re.applyTransform(N,g),w=N[0]*o+P,n.translate(w,0),i.x+=w*p}n.restore(),C&&(this.dependencyTracker=C)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,s,o,l){var c;const u=new Path2D;u.rect(i,s,o-i,l-s),this.ctx.clip(u),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,o,s,l).recordClipBox(e,this.ctx,i,o,s,l),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||gt(this.ctx),s={createCanvasGraphics:(o,l)=>new ox(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new dy(this.dependencyTracker,l,!0):null)};n=new Uw(t,this.ctx,s,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=HI(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){var o;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,Yi(n),gn.SHADING,e);const s=Yi(n);if(s){const{width:l,height:u}=n.canvas,c=wd.slice();re.axialAlignedBoundingBox([0,0,l,u],s,c);const[f,p,g,b]=c;this.ctx.fillRect(f,p,g-f,b-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Va.transform).recordDependencies(e,Va.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){tt("Should not call beginInlineImage")}beginImageData(){tt("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=gt(this.ctx),n)){re.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,o,l,u]=n,c=new Path2D;c.rect(s,o,l-s,u-o),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,l,o,u),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var C;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||tb("TODO: Support non-isolated groups."),t.knockout&&_e("Knockout groups not supported.");const i=gt(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=wd.slice();re.axialAlignedBoundingBox(t.bbox,gt(n),s);const o=[0,0,n.canvas.width,n.canvas.height];s=re.intersect(s,o)||[0,0,0,0];const l=Math.floor(s[0]),u=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-l,1),f=Math.max(Math.ceil(s[3])-u,1);this.current.startNewPathAndClipBox([0,0,c,f]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,c,f),b=g.context;b.translate(-l,-u),b.transform(...i);let A=new Path2D;const[x,M,w,T]=t.bbox;if(A.rect(x,M,w-x,T-M),t.matrix){const P=new Path2D;P.addPath(A,new DOMMatrix(t.matrix)),A=P}b.clip(A),t.smask&&this.smaskStack.push({canvas:g.canvas,context:b,offsetX:l,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(l,u),n.save()),Gc(n,b),this.ctx=b,(C=this.dependencyTracker)==null||C.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=gt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const l=wd.slice();re.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,n,i,s,o){if(E(this,Di,Ww).call(this),Hg(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const l=n[2]-n[0],u=n[3]-n[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=u,re.singularValueDecompose2dScale(gt(this.ctx),Ma);const{viewportScale:c}=this,f=Math.ceil(l*this.outputScaleX*c),p=Math.ceil(u*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(Ma[0],0,0,-Ma[1],0,u*Ma[1]),Hg(this.ctx)}else{Hg(this.ctx),this.endPath(e);const c=new Path2D;c.rect(n[0],n[1],l,u),this.ctx.clip(c)}}this.current=new BS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),E(this,Di,Vw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var l;if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const i=this.ctx,s=this._createMaskCanvas(e,t),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),(l=this.dependencyTracker)==null||l.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,s=0,o,l){var p,g,b;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const u=this.ctx;u.save();const c=gt(u);u.transform(n,i,s,o,0,0);const f=this._createMaskCanvas(e,t);u.setTransform(1,0,0,1,f.offsetX-c[4],f.offsetY-c[5]),(p=this.dependencyTracker)==null||p.resetBBox(e);for(let A=0,x=l.length;A<x;A+=2){const M=re.transform(c,[n,i,s,o,l[A],l[A+1]]);u.drawImage(f.canvas,M[4],M[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,M[4],M[4]+f.canvas.width,M[5],M[5]+f.canvas.height)}u.restore(),this.compose(),(b=this.dependencyTracker)==null||b.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,l,u;if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,Va.transformAndFill);for(const c of t){const{data:f,width:p,height:g,transform:b}=c,A=this.cachedCanvases.getCanvas("maskCanvas",p,g),x=A.context;x.save();const M=this.getObject(e,f,c);zS(x,M),x.globalCompositeOperation="source-in",x.fillStyle=s?i.getPattern(x,this,Yi(n),gn.FILL,e):i,x.fillRect(0,0,p,g),x.restore(),n.save(),n.transform(...b),n.scale(1,-1),zg(n,A.canvas,0,0,p,g,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,n,0,p,0,g),n.restore()}this.compose(),(u=this.dependencyTracker)==null||u.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){_e("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,s){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){_e("Dependent image isn't ready yet");return}const l=o.width,u=o.height,c=[];for(let f=0,p=s.length;f<p;f+=2)c.push({transform:[n,0,0,i,s[f],s[f+1]],x:0,y:0,w:l,h:u});this.paintInlineImageXObjectGroup(e,o,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,t){var c;if(!this.contentVisible)return;const n=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/n,-1/i);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,i).context;FS(p,t),l=this.applyTransferMapsToCanvas(p)}const u=this._scaleImage(l,Yi(s));s.imageSmoothingEnabled=HS(gt(s),t.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,n,-i,0).recordDependencies(e,Va.imageXObject).recordOperation(e),zg(s,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var o,l,u;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const c=t.width,f=t.height,g=this.cachedCanvases.getCanvas("inlineImage",c,f).context;FS(g,t),s=this.applyTransferMapsToCanvas(g)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const c of n)i.save(),i.transform(...c.transform),i.scale(1,-1),zg(i,s,c.x,c.y,c.w,c.h,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,i,0,1,-1,0),i.restore();(u=this.dependencyTracker)==null||u.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Va.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){var o,l;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===US?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(l=this.dependencyTracker)==null||l.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=gt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let o,l;if(n===0&&i===0){const u=Math.abs(t),c=Math.abs(s);if(u===c)if(e===0)o=l=1/u;else{const f=u*e;o=l=f<1?1/f:1}else if(e===0)o=1/u,l=1/c;else{const f=u*e,p=c*e;o=f<1?1/f:1,l=p<1?1/p:1}}else{const u=Math.abs(t*s-n*i),c=Math.hypot(t,n),f=Math.hypot(i,s);if(e===0)o=f/u,l=c/u;else{const p=e*u;o=f>p?f/p:1,l=c>p?c/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[s,o]=this.getScaleForStroking();if(s===o){n.lineWidth=(i||1)*s,n.stroke(e);return}const l=n.getLineDash();t&&n.save(),n.scale(s,o),y_.a=1/s,y_.d=1/o;const u=new Path2D;if(u.addPath(e,y_),l.length>0){const c=Math.max(s,o);n.setLineDash(l.map(f=>f/c)),n.lineDashOffset/=c}n.lineWidth=i||1,n.stroke(u),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Di=new WeakSet,Ww=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Vw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Gw=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let jd=ox;for(const a in fc)jd.prototype[a]!==void 0&&(jd.prototype[fc[a]]=jd.prototype[a]);var hu,lu,If,du,cv;const xd=class xd{constructor(e){S(this,du);S(this,hu);S(this,lu);S(this,If);y(this,hu,e),y(this,lu,new DataView(h(this,hu))),y(this,If,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const c of xd.strings){const f=t.encode(e[c]);n[c]=f,i+=4+f.length}const s=new ArrayBuffer(i),o=new Uint8Array(s),l=new DataView(s);let u=0;for(const c of xd.strings){const f=n[c],p=f.length;l.setUint32(u,p),o.set(f,u+4),u+=4+p}return Ne(u===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return E(this,du,cv).call(this,0)}get fontWeight(){return E(this,du,cv).call(this,1)}get italicAngle(){return E(this,du,cv).call(this,2)}};hu=new WeakMap,lu=new WeakMap,If=new WeakMap,du=new WeakSet,cv=function(e){Ne(e<xd.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=h(this,lu).getUint32(t)+4;const n=h(this,lu).getUint32(t);return h(this,If).decode(new Uint8Array(h(this,hu),t+4,n))},K(xd,"strings",["fontFamily","fontWeight","italicAngle"]);let uy=xd;var ro,or,Wh,Vh,dm;const Sd=class Sd{constructor(e){S(this,Vh);S(this,ro);S(this,or);S(this,Wh);y(this,ro,e),y(this,or,new DataView(h(this,ro))),y(this,Wh,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const g of Sd.strings){const b=t.encode(e[g]);n[g]=b,i+=4+b.length}i+=4;let s,o,l=1+i;e.style&&(s=t.encode(e.style.style),o=t.encode(e.style.weight),l+=4+s.length+4+o.length);const u=new ArrayBuffer(l),c=new Uint8Array(u),f=new DataView(u);let p=0;f.setUint8(p++,e.guessFallback?1:0),f.setUint32(p,0),p+=4,i=0;for(const g of Sd.strings){const b=n[g],A=b.length;i+=4+A,f.setUint32(p,A),c.set(b,p+4),p+=4+A}return f.setUint32(p-i-4,i),e.style&&(f.setUint32(p,s.length),c.set(s,p+4),p+=4+s.length,f.setUint32(p,o.length),c.set(o,p+4),p+=4+o.length),Ne(p<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(p)}get guessFallback(){return h(this,or).getUint8(0)!==0}get css(){return E(this,Vh,dm).call(this,0)}get loadedName(){return E(this,Vh,dm).call(this,1)}get baseFontName(){return E(this,Vh,dm).call(this,2)}get src(){return E(this,Vh,dm).call(this,3)}get style(){let e=1;e+=4+h(this,or).getUint32(e);const t=h(this,or).getUint32(e),n=h(this,Wh).decode(new Uint8Array(h(this,ro),e+4,t));e+=4+t;const i=h(this,or).getUint32(e),s=h(this,Wh).decode(new Uint8Array(h(this,ro),e+4,i));return{style:n,weight:s}}};ro=new WeakMap,or=new WeakMap,Wh=new WeakMap,Vh=new WeakSet,dm=function(e){Ne(e<Sd.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=h(this,or).getUint32(t)+4;const n=h(this,or).getUint32(t);return h(this,Wh).decode(new Uint8Array(h(this,ro),t+4,n))},K(Sd,"strings",["css","loadedName","baseFontName","src"]);let cy=Sd;var uu,cu,mu,fu,pa,hr,Nf,$e,Et,pi,mv,um;const xe=class xe{constructor({data:e,extra:t}){S(this,Et);S(this,hr);S(this,Nf);S(this,$e);y(this,hr,e),y(this,Nf,new TextDecoder),y(this,$e,new DataView(h(this,hr))),t&&Object.assign(this,t)}get black(){return E(this,Et,pi).call(this,0)}get bold(){return E(this,Et,pi).call(this,1)}get disableFontFace(){return E(this,Et,pi).call(this,2)}get fontExtraProperties(){return E(this,Et,pi).call(this,3)}get isInvalidPDFjsFont(){return E(this,Et,pi).call(this,4)}get isType3Font(){return E(this,Et,pi).call(this,5)}get italic(){return E(this,Et,pi).call(this,6)}get missingFile(){return E(this,Et,pi).call(this,7)}get remeasure(){return E(this,Et,pi).call(this,8)}get vertical(){return E(this,Et,pi).call(this,9)}get ascent(){return E(this,Et,mv).call(this,0)}get defaultWidth(){return E(this,Et,mv).call(this,1)}get descent(){return E(this,Et,mv).call(this,2)}get bbox(){let e=h(xe,cu);if(h(this,$e).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<4;i++)n.push(h(this,$e).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=h(xe,mu);if(h(this,$e).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<6;i++)n.push(h(this,$e).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=h(xe,fu);if(h(this,$e).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<3;i++)n.push(h(this,$e).getInt16(e,!0)),e+=2;return n}get fallbackName(){return E(this,Et,um).call(this,0)}get loadedName(){return E(this,Et,um).call(this,1)}get mimetype(){return E(this,Et,um).call(this,2)}get name(){return E(this,Et,um).call(this,3)}get data(){let e=h(xe,pa);const t=h(this,$e).getUint32(e);e+=4+t;const n=h(this,$e).getUint32(e);e+=4+n;const i=h(this,$e).getUint32(e);e+=4+i;const s=h(this,$e).getUint32(e);if(s!==0)return new Uint8Array(h(this,hr),e+4,s)}clearData(){let e=h(xe,pa);const t=h(this,$e).getUint32(e);e+=4+t;const n=h(this,$e).getUint32(e);e+=4+n;const i=h(this,$e).getUint32(e);e+=4+i;const s=h(this,$e).getUint32(e);new Uint8Array(h(this,hr),e+4,s).fill(0),h(this,$e).setUint32(e,0)}get cssFontInfo(){let e=h(xe,pa);const t=h(this,$e).getUint32(e);e+=4+t;const n=h(this,$e).getUint32(e);e+=4+n;const i=h(this,$e).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(h(this,hr),e+4,i)),new uy(s.buffer)}get systemFontInfo(){let e=h(xe,pa);const t=h(this,$e).getUint32(e);e+=4+t;const n=h(this,$e).getUint32(e);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(h(this,hr),e+4,n)),new cy(i.buffer)}static write(e){const t=e.systemFontInfo?cy.write(e.systemFontInfo):null,n=e.cssFontInfo?uy.write(e.cssFontInfo):null,i=new TextEncoder,s={};let o=0;for(const x of xe.strings)s[x]=i.encode(e[x]),o+=4+s[x].length;const l=h(xe,pa)+4+o+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(l),c=new Uint8Array(u),f=new DataView(u);let p=0;const g=xe.bools.length;let b=0,A=0;for(let x=0;x<g;x++){const M=e[xe.bools[x]];b|=(M===void 0?0:M?2:1)<<A,A+=2,(A===8||x===g-1)&&(f.setUint8(p++,b),b=0,A=0)}Ne(p===h(xe,uu),"FontInfo.write: Boolean properties offset mismatch");for(const x of xe.numbers)f.setFloat64(p,e[x]),p+=8;if(Ne(p===h(xe,cu),"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(p++,4);for(const x of e.bbox)f.setInt16(p,x,!0),p+=2}else f.setUint8(p++,0),p+=2*4;if(Ne(p===h(xe,mu),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(p++,6);for(const x of e.fontMatrix)f.setFloat64(p,x,!0),p+=8}else f.setUint8(p++,0),p+=8*6;if(Ne(p===h(xe,fu),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(p++,1);for(const x of e.defaultVMetrics)f.setInt16(p,x,!0),p+=2}else f.setUint8(p++,0),p+=3*2;Ne(p===h(xe,pa),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(h(xe,pa),0),p+=4;for(const x of xe.strings){const M=s[x],w=M.length;f.setUint32(p,w),c.set(M,p+4),p+=4+w}if(f.setUint32(h(xe,pa),p-h(xe,pa)-4),!t)f.setUint32(p,0),p+=4;else{const x=t.byteLength;f.setUint32(p,x),Ne(p+4+x<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(t),p+4),p+=4+x}if(!n)f.setUint32(p,0),p+=4;else{const x=n.byteLength;f.setUint32(p,x),Ne(p+4+x<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(n),p+4),p+=4+x}return e.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,e.data.length),c.set(e.data,p+4),p+=4+e.data.length),Ne(p<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(p)}};uu=new WeakMap,cu=new WeakMap,mu=new WeakMap,fu=new WeakMap,pa=new WeakMap,hr=new WeakMap,Nf=new WeakMap,$e=new WeakMap,Et=new WeakSet,pi=function(e){Ne(e<xe.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,i=h(this,$e).getUint8(t)>>n&3;return i===0?void 0:i===2},mv=function(e){return Ne(e<xe.numbers.length,"Invalid number index"),h(this,$e).getFloat64(h(xe,uu)+e*8)},um=function(e){Ne(e<xe.strings.length,"Invalid string index");let t=h(xe,pa)+4;for(let s=0;s<e;s++)t+=h(this,$e).getUint32(t)+4;const n=h(this,$e).getUint32(t),i=new Uint8Array(n);return i.set(new Uint8Array(h(this,hr),t+4,n)),h(this,Nf).decode(i)},K(xe,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),K(xe,"numbers",["ascent","defaultWidth","descent"]),K(xe,"strings",["fallbackName","loadedName","mimetype","name"]),S(xe,uu,Math.ceil(xe.bools.length*2/8)),S(xe,cu,h(xe,uu)+xe.numbers.length*8),S(xe,mu,h(xe,cu)+1+2*4),S(xe,fu,h(xe,mu)+1+8*6),S(xe,pa,h(xe,fu)+1+2*3);let Yw=xe;var Rf,Of;class ii{static get workerPort(){return h(this,Rf)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");y(this,Rf,e)}static get workerSrc(){return h(this,Of)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");y(this,Of,e)}}Rf=new WeakMap,Of=new WeakMap,S(ii,Rf,null),S(ii,Of,"");var pu,Df;class qI{constructor({parsedData:e,rawData:t}){S(this,pu);S(this,Df);y(this,pu,e),y(this,Df,t)}getRaw(){return h(this,Df)}get(e){return h(this,pu).get(e)??null}[Symbol.iterator](){return h(this,pu).entries()}}pu=new WeakMap,Df=new WeakMap;const rd=Symbol("INTERNAL");var Bf,Ff,zf,gu;class ZI{constructor(e,{name:t,intent:n,usage:i,rbGroups:s}){S(this,Bf,!1);S(this,Ff,!1);S(this,zf,!1);S(this,gu,!0);y(this,Bf,!!(e&Pa.DISPLAY)),y(this,Ff,!!(e&Pa.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(h(this,zf))return h(this,gu);if(!h(this,gu))return!1;const{print:e,view:t}=this.usage;return h(this,Bf)?(t==null?void 0:t.viewState)!=="OFF":h(this,Ff)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==rd&&tt("Internal method `_setVisible` called."),y(this,zf,n),y(this,gu,t)}}Bf=new WeakMap,Ff=new WeakMap,zf=new WeakMap,gu=new WeakMap;var so,qe,vu,yu,Hf,Kw;class XI{constructor(e,t=Pa.DISPLAY){S(this,Hf);S(this,so,null);S(this,qe,new Map);S(this,vu,null);S(this,yu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,y(this,yu,e.order);for(const n of e.groups)h(this,qe).set(n.id,new ZI(t,n));if(e.baseState==="OFF")for(const n of h(this,qe).values())n._setVisible(rd,!1);for(const n of e.on)h(this,qe).get(n)._setVisible(rd,!0);for(const n of e.off)h(this,qe).get(n)._setVisible(rd,!1);y(this,vu,this.getHash())}}isVisible(e){if(h(this,qe).size===0)return!0;if(!e)return tb("Optional content group not defined."),!0;if(e.type==="OCG")return h(this,qe).has(e.id)?h(this,qe).get(e.id).visible:(_e(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,Hf,Kw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!h(this,qe).has(t))return _e(`Optional content group not found: ${t}`),!0;if(h(this,qe).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!h(this,qe).has(t))return _e(`Optional content group not found: ${t}`),!0;if(!h(this,qe).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!h(this,qe).has(t))return _e(`Optional content group not found: ${t}`),!0;if(!h(this,qe).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!h(this,qe).has(t))return _e(`Optional content group not found: ${t}`),!0;if(h(this,qe).get(t).visible)return!1}return!0}return _e(`Unknown optional content policy ${e.policy}.`),!0}return _e(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var s;const i=h(this,qe).get(e);if(!i){_e(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const l of o)l!==e&&((s=h(this,qe).get(l))==null||s._setVisible(rd,!1,!0));i._setVisible(rd,!!t,!0),y(this,so,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=h(this,qe).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}y(this,so,null)}get hasInitialVisibility(){return h(this,vu)===null||this.getHash()===h(this,vu)}getOrder(){return h(this,qe).size?h(this,yu)?h(this,yu).slice():[...h(this,qe).keys()]:null}getGroup(e){return h(this,qe).get(e)||null}getHash(){if(h(this,so)!==null)return h(this,so);const e=new oE;for(const[t,n]of h(this,qe))e.update(`${t}:${n.visible}`);return y(this,so,e.hexdigest())}[Symbol.iterator](){return h(this,qe).entries()}}so=new WeakMap,qe=new WeakMap,vu=new WeakMap,yu=new WeakMap,Hf=new WeakSet,Kw=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=E(this,Hf,Kw).call(this,s);else if(h(this,qe).has(s))o=h(this,qe).get(s).visible;else return _e(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"};class QI{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ne(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(s==null?void 0:s.length)>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,c)=>{this._onReceiveData({begin:u,chunk:c})}),e.addProgressListener((u,c)=>{this._onProgress({loaded:u,total:c})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Ne(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ne(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new JI(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new eN(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class JI{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=ab(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class eN{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function tN(a){let e=!0,t=n("filename\\*","i").exec(a);if(t){t=t[1];let f=l(t);return f=unescape(f),f=u(f),f=c(f),s(f)}if(t=o(a),t){const f=c(t);return s(f)}if(t=n("filename","i").exec(a),t){t=t[1];let f=l(t);return f=c(f),s(f)}function n(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(f,{fatal:!0}),b=Up(p);p=g.decode(b),e=!1}catch{}}return p}function s(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function o(f){const p=[];let g;const b=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=b.exec(f))!==null;){let[,x,M,w]=g;if(x=parseInt(x,10),x in p){if(x===0)break;continue}p[x]=[M,w]}const A=[];for(let x=0;x<p.length&&x in p;++x){let[M,w]=p[x];w=l(w),M&&(w=unescape(w),x===0&&(w=u(w))),A.push(w)}return A.join("")}function l(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let g=0;g<p.length;++g){const b=p[g].indexOf('"');b!==-1&&(p[g]=p[g].slice(0,b),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const g=f.slice(0,p),A=f.slice(p+1).replace(/^[^']*'/,"");return i(g,A)}function c(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,b,A){if(b==="q"||b==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,M){return String.fromCharCode(parseInt(M,16))}),i(g,A);try{A=atob(A)}catch{}return i(g,A)})}return""}function _E(a,e){const t=new Headers;if(!a||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function ib(a){var e;return((e=URL.parse(a))==null?void 0:e.origin)??null}function wE({responseHeaders:a,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(a.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||n||!e||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function kE(a){const e=a.get("Content-Disposition");if(e){let t=tN(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ab(t))return t}return null}function Yp(a,e){return new $m(`Unexpected server response (${a}) while retrieving PDF "${e}".`,a,a===404||a===0&&e.startsWith("file:"))}function xE(a){return a===200||a===206}function SE(a,e,t){return{method:"GET",headers:a,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function AE(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(_e(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class nN{constructor(e){K(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=_E(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ne(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new aN(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new iN(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class aN{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,SE(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=ib(s.url),!xE(s.status))throw Yp(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:l,suggestedLength:u}=wE({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=u||this._contentLength,this._filename=kE(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ts("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:AE(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class iN{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const o=i.url;fetch(o,SE(s,this._withCredentials,this._abortController)).then(l=>{const u=ib(l.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!xE(l.status))throw Yp(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:AE(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const b_=200,__=206;function rN(a){const e=a.response;return typeof e!="string"?e:Up(e).buffer}class sN{constructor({url:e,httpHeaders:t,withCredentials:n}){K(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=_E(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=__):i.expectedStatus=b_,t.responseType="arraybuffer",Ne(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||b_;if(!(s===b_&&n.expectedStatus===__)&&s!==n.expectedStatus){n.onError(i.status);return}const l=rN(i);if(s===__){const u=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);c?n.onDone({begin:parseInt(c[1],10),chunk:l}):(_e('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class oN{constructor(e){this._source=e,this._manager=new sN(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ne(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new hN(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new lN(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class hN{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=ib(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[u,...c]=l.split(": ");return[u,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=wE({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=kE(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Yp(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class lN{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=ib((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Yp(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const dN=/^[a-z][a-z0-9\-+.]+:/i;function uN(a){if(dN.test(a))return new URL(a);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(a))}class cN{constructor(e){this.source=e,this.url=uN(e.url),Ne(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ne(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new mN(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new fN(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class mN{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Yp(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ts("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class fN{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Yc=Symbol("INITIAL_DATA");var ga,Uf,$w;class TE{constructor(){S(this,Uf);S(this,ga,Object.create(null))}get(e,t=null){if(t){const i=E(this,Uf,$w).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=h(this,ga)[e];if(!n||n.data===Yc)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=h(this,ga)[e];return!!t&&t.data!==Yc}delete(e){const t=h(this,ga)[e];return!t||t.data===Yc?!1:(delete h(this,ga)[e],!0)}resolve(e,t=null){const n=E(this,Uf,$w).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in h(this,ga)){const{data:n}=h(this,ga)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}y(this,ga,Object.create(null))}*[Symbol.iterator](){for(const e in h(this,ga)){const{data:t}=h(this,ga)[e];t!==Yc&&(yield[e,t])}}}ga=new WeakMap,Uf=new WeakSet,$w=function(e){var t;return(t=h(this,ga))[e]||(t[e]={...Promise.withResolvers(),data:Yc})};const pN=1e5,WS=30;var aA,oo,na,Wf,Vf,Gh,es,Gf,Yf,Yh,bu,_u,ho,wu,Kf,ku,Kh,$f,qf,Tt,xu,$h,Zf,lo,Su,Ps,EE,CE,qw,Ra,fv,Zw,PE,LE;let Qm=(Tt=class{constructor({textContentSource:e,container:t,viewport:n}){S(this,Ps);S(this,oo,Promise.withResolvers());S(this,na,null);S(this,Wf,!1);S(this,Vf,!!((aA=globalThis.FontInspector)!=null&&aA.enabled));S(this,Gh,null);S(this,es,null);S(this,Gf,0);S(this,Yf,0);S(this,Yh,null);S(this,bu,null);S(this,_u,0);S(this,ho,0);S(this,wu,Object.create(null));S(this,Kf,[]);S(this,ku,null);S(this,Kh,[]);S(this,$f,new WeakMap);S(this,qf,null);var u;if(e instanceof ReadableStream)y(this,ku,e);else if(typeof e=="object")y(this,ku,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');y(this,na,y(this,bu,t)),y(this,ho,n.scale*Oi.pixelRatio),y(this,_u,n.rotation),y(this,es,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:l}=n.rawDims;y(this,qf,[1,0,0,-1,-o,l+s]),y(this,Yf,i),y(this,Gf,s),E(u=Tt,Ra,PE).call(u),Ko(t,n),h(this,oo).promise.finally(()=>{h(Tt,Su).delete(this),y(this,es,null),y(this,wu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=rn.platform;return Ae(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{h(this,Yh).read().then(({value:t,done:n})=>{if(n){h(this,oo).resolve();return}h(this,Gh)??y(this,Gh,t.lang),Object.assign(h(this,wu),t.styles),E(this,Ps,EE).call(this,t.items),e()},h(this,oo).reject)};return y(this,Yh,h(this,ku).getReader()),h(Tt,Su).add(this),e(),h(this,oo).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*Oi.pixelRatio,i=e.rotation;if(i!==h(this,_u)&&(t==null||t(),y(this,_u,i),Ko(h(this,bu),{rotation:i})),n!==h(this,ho)){t==null||t(),y(this,ho,n);const o={div:null,properties:null,ctx:E(s=Tt,Ra,fv).call(s,h(this,Gh))};for(const l of h(this,Kh))o.properties=h(this,$f).get(l),o.div=l,E(this,Ps,qw).call(this,o)}}cancel(){var t;const e=new Ts("TextLayer task cancelled.");(t=h(this,Yh))==null||t.cancel(e).catch(()=>{}),y(this,Yh,null),h(this,oo).reject(e)}get textDivs(){return h(this,Kh)}get textContentItemsStr(){return h(this,Kf)}static cleanup(){if(!(h(this,Su).size>0)){h(this,xu).clear();for(const{canvas:e}of h(this,$h).values())e.remove();h(this,$h).clear()}}},oo=new WeakMap,na=new WeakMap,Wf=new WeakMap,Vf=new WeakMap,Gh=new WeakMap,es=new WeakMap,Gf=new WeakMap,Yf=new WeakMap,Yh=new WeakMap,bu=new WeakMap,_u=new WeakMap,ho=new WeakMap,wu=new WeakMap,Kf=new WeakMap,ku=new WeakMap,Kh=new WeakMap,$f=new WeakMap,qf=new WeakMap,xu=new WeakMap,$h=new WeakMap,Zf=new WeakMap,lo=new WeakMap,Su=new WeakMap,Ps=new WeakSet,EE=function(e){var i,s;if(h(this,Wf))return;(s=h(this,es)).ctx??(s.ctx=E(i=Tt,Ra,fv).call(i,h(this,Gh)));const t=h(this,Kh),n=h(this,Kf);for(const o of e){if(t.length>pN){_e("Ignoring additional textDivs for performance reasons."),y(this,Wf,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=h(this,na);y(this,na,document.createElement("span")),h(this,na).classList.add("markedContent"),o.id&&h(this,na).setAttribute("id",`${o.id}`),l.append(h(this,na))}else o.type==="endMarkedContent"&&y(this,na,h(this,na).parentNode);continue}n.push(o.str),E(this,Ps,CE).call(this,o)}},CE=function(e){var x;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};h(this,Kh).push(t);const i=re.transform(h(this,qf),e.transform);let s=Math.atan2(i[1],i[0]);const o=h(this,wu)[e.fontName];o.vertical&&(s+=Math.PI/2);let l=h(this,Vf)&&o.fontSubstitution||o.fontFamily;l=Tt.fontFamilyMap.get(l)||l;const u=Math.hypot(i[2],i[3]),c=u*E(x=Tt,Ra,LE).call(x,l,o,h(this,Gh));let f,p;s===0?(f=i[4],p=i[5]-c):(f=i[4]+c*Math.sin(s),p=i[5]-c*Math.cos(s));const g="calc(var(--total-scale-factor) *",b=t.style;h(this,na)===h(this,bu)?(b.left=`${(100*f/h(this,Yf)).toFixed(2)}%`,b.top=`${(100*p/h(this,Gf)).toFixed(2)}%`):(b.left=`${g}${f.toFixed(2)}px)`,b.top=`${g}${p.toFixed(2)}px)`),b.fontSize=`${g}${(h(Tt,lo)*u).toFixed(2)}px)`,b.fontFamily=l,n.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,h(this,Vf)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let A=!1;if(e.str.length>1)A=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const M=Math.abs(e.transform[0]),w=Math.abs(e.transform[3]);M!==w&&Math.max(M,w)/Math.min(M,w)>1.5&&(A=!0)}if(A&&(n.canvasWidth=o.vertical?e.height:e.width),h(this,$f).set(t,n),h(this,es).div=t,h(this,es).properties=n,E(this,Ps,qw).call(this,h(this,es)),n.hasText&&h(this,na).append(t),n.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),h(this,na).append(M)}},qw=function(e){var l;const{div:t,properties:n,ctx:i}=e,{style:s}=t;let o="";if(h(Tt,lo)>1&&(o=`scale(${1/h(Tt,lo)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=s,{canvasWidth:c,fontSize:f}=n;E(l=Tt,Ra,Zw).call(l,i,f*h(this,ho),u);const{width:p}=i.measureText(t.textContent);p>0&&(o=`scaleX(${c*h(this,ho)/p}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Ra=new WeakSet,fv=function(e=null){let t=h(this,$h).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,$h).set(e,t),h(this,Zf).set(t,{size:0,family:""})}return t},Zw=function(e,t,n){const i=h(this,Zf).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},PE=function(){if(h(this,lo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),y(this,lo,e.getBoundingClientRect().height),e.remove()},LE=function(e,t,n){const i=h(this,xu).get(e);if(i)return i;const s=E(this,Ra,fv).call(this,n);s.canvas.width=s.canvas.height=WS,E(this,Ra,Zw).call(this,s,WS,e);const o=s.measureText(""),l=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return l?c=l/(l+u):(rn.platform.isFirefox&&_e("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),h(this,xu).set(e,c),c},S(Tt,Ra),S(Tt,xu,new Map),S(Tt,$h,new Map),S(Tt,Zf,new WeakMap),S(Tt,lo,null),S(Tt,Su,new Set),Tt);const gN=100;function Y0(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const e=new Xw,{docId:t}=e,n=a.url?SI(a.url):null,i=a.data?AI(a.data):null,s=a.httpHeaders||null,o=a.withCredentials===!0,l=a.password??null,u=a.range instanceof K0?a.range:null,c=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:2**16;let f=a.worker instanceof pc?a.worker:null;const p=a.verbosity,g=typeof a.docBaseUrl=="string"&&!Vp(a.docBaseUrl)?a.docBaseUrl:null,b=Og(a.cMapUrl),A=a.cMapPacked!==!1,x=a.CMapReaderFactory||(Un?jI:PS),M=Og(a.iccUrl),w=Og(a.standardFontDataUrl),T=a.StandardFontDataFactory||(Un?II:LS),C=Og(a.wasmUrl),P=a.WasmFactory||(Un?NI:MS),I=a.stopAtErrors!==!0,N=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,O=a.isEvalSupported!==!1,D=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Un,U=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!Un&&(rn.platform.isFirefox||!globalThis.chrome),H=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,V=typeof a.disableFontFace=="boolean"?a.disableFontFace:Un,Z=a.fontExtraProperties===!0,he=a.enableXfa===!0,Q=a.ownerDocument||globalThis.document,fe=a.disableRange===!0,q=a.disableStream===!0,X=a.disableAutoFetch===!0,F=a.pdfBug===!0,ee=a.CanvasFactory||(Un?MI:CI),Y=a.FilterFactory||(Un?LI:PI),de=a.enableHWA===!0,ne=a.useWasm!==!1,me=u?u.length:a.length??NaN,ye=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Un&&!V,ge=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:!!(x===PS&&T===LS&&P===MS&&b&&w&&C&&Jc(b,document.baseURI)&&Jc(w,document.baseURI)&&Jc(C,document.baseURI)),ue=null;rI(p);const Se={canvasFactory:new ee({ownerDocument:Q,enableHWA:de}),filterFactory:new Y({docId:t,ownerDocument:Q}),cMapReaderFactory:ge?null:new x({baseUrl:b,isCompressed:A}),standardFontDataFactory:ge?null:new T({baseUrl:w}),wasmFactory:ge?null:new P({baseUrl:C})};f||(f=pc.create({verbosity:p,port:ii.workerPort}),e._worker=f);const sn={docId:t,apiVersion:"5.4.296",data:i,password:l,disableAutoFetch:X,rangeChunkSize:c,length:me,docBaseUrl:g,enableXfa:he,evaluatorOptions:{maxImageSize:N,disableFontFace:V,ignoreErrors:I,isEvalSupported:O,isOffscreenCanvasSupported:D,isImageDecoderSupported:U,canvasMaxAreaInBytes:H,fontExtraProperties:Z,useSystemFonts:ye,useWasm:ne,useWorkerFetch:ge,cMapUrl:b,iccUrl:M,standardFontDataUrl:w,wasmUrl:C}},wn={ownerDocument:Q,pdfBug:F,styleElement:ue,loadingParams:{disableAutoFetch:X,enableXfa:he}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const ze=f.messageHandler.sendWithPromise("GetDocRequest",sn,i?[i.buffer]:null);let on;if(u)on=new QI(u,{disableRange:fe,disableStream:q});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Rn=Jc(n)?nN:Un?cN:oN;on=new Rn({url:n,length:me,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:fe,disableStream:q})}return ze.then(Rn=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ie=new rm(t,Rn,f.port),nt=new bN(Ie,e,on,wn,Se,de);e._transport=nt,Ie.send("Ready",null)})}).catch(e._capability.reject),e}var Cy;const Py=class Py{constructor(){K(this,"_capability",Promise.withResolvers());K(this,"_transport",null);K(this,"_worker",null);K(this,"docId",`d${Ht(Py,Cy)._++}`);K(this,"destroyed",!1);K(this,"onPassword",null);K(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Cy=new WeakMap,S(Py,Cy,0);let Xw=Py;var qh,Xf,Qf,Jf,ep,iA;let K0=(iA=class{constructor(e,t,n=!1,i=null){S(this,qh,Promise.withResolvers());S(this,Xf,[]);S(this,Qf,[]);S(this,Jf,[]);S(this,ep,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){h(this,ep).push(e)}addProgressListener(e){h(this,Jf).push(e)}addProgressiveReadListener(e){h(this,Qf).push(e)}addProgressiveDoneListener(e){h(this,Xf).push(e)}onDataRange(e,t){for(const n of h(this,ep))n(e,t)}onDataProgress(e,t){h(this,qh).promise.then(()=>{for(const n of h(this,Jf))n(e,t)})}onDataProgressiveRead(e){h(this,qh).promise.then(()=>{for(const t of h(this,Qf))t(e)})}onDataProgressiveDone(){h(this,qh).promise.then(()=>{for(const e of h(this,Xf))e()})}transportReady(){h(this,qh).resolve()}requestDataRange(e,t){tt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},qh=new WeakMap,Xf=new WeakMap,Qf=new WeakMap,Jf=new WeakMap,ep=new WeakMap,iA);class vN{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ae(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ts,Zh,cm;class yN{constructor(e,t,n,i=!1){S(this,Zh);S(this,ts,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new kS:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new TE,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new Wp({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ae(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:s=_r.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:u=null,annotationCanvasMap:c=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:b=!1,operationsFilter:A=null}){var U,H,V;(U=this._stats)==null||U.time("Overall");const x=this._transport.getRenderingIntent(i,s,p,g),{renderingIntent:M,cacheKey:w}=x;y(this,ts,!1),u||(u=this._transport.getOptionalContentConfig(M));let T=this._intentStates.get(w);T||(T=Object.create(null),this._intentStates.set(w,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const C=!!(M&Pa.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList(x));const P=!!(this._pdfBug&&((V=globalThis.StepperManager)!=null&&V.enabled)),I=!this.recordedBBoxes&&(b||P),N=Z=>{var he,Q;if(T.renderTasks.delete(O),I){const fe=(he=O.gfx)==null?void 0:he.dependencyTracker.take();fe&&(O.stepper&&O.stepper.setOperatorBBoxes(fe,O.gfx.dependencyTracker.takeDebugMetadata()),b&&(this.recordedBBoxes=fe))}C&&y(this,ts,!0),E(this,Zh,cm).call(this),Z?(O.capability.reject(Z),this._abortOperatorList({intentState:T,reason:Z instanceof Error?Z:new Error(Z)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Q=globalThis.Stats)!=null&&Q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new Qw({callback:N,params:{canvas:t,canvasContext:e,dependencyTracker:I?new OI(t,T.operatorList.length,P):null,viewport:n,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:A});(T.renderTasks||(T.renderTasks=new Set)).add(O);const D=O.task;return Promise.all([T.displayReadyCapability.promise,u]).then(([Z,he])=>{var Q;if(this.destroyed){N();return}if((Q=this._stats)==null||Q.time("Rendering"),!(he.renderingIntent&M))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:Z,optionalContentConfig:he}),O.operatorListChanged()}).catch(N),D}getOperatorList({intent:e="display",annotationMode:t=_r.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var c;function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(e,t,n,i,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let u;return l.opListReadCapability||(u=Object.create(null),u.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(u),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>qm.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function s(){o.read().then(function({value:u,done:c}){if(c){n(l);return}l.lang??(l.lang=u.lang),Object.assign(l.styles,u.styles),l.items.push(...u.items),s()},i)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),y(this,ts,!1),Promise.all(e)}cleanup(e=!1){y(this,ts,!0);const t=E(this,Zh,cm).call(this);return e&&t&&this._stats&&(this._stats=new kS),t}_startRenderPage(e,t){var i,s;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&E(this,Zh,cm).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:o}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(t);c.streamReader=u;const f=()=>{u.read().then(({value:p,done:g})=>{if(g){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,c),f())},p=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const g of c.renderTasks)g.operatorListChanged();E(this,Zh,cm).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(p);else if(c.opListReadCapability)c.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof nb){let i=gN;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ts(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ts=new WeakMap,Zh=new WeakSet,cm=function(){if(!h(this,ts)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),y(this,ts,!1),!0};var uo,xi,ns,Xh,Ly,Qh,Jh,Vn,pv,ME,jE,mm,Au,gv;const dt=class dt{constructor({name:e=null,port:t=null,verbosity:n=sI()}={}){S(this,Vn);S(this,uo,Promise.withResolvers());S(this,xi,null);S(this,ns,null);S(this,Xh,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(h(dt,Jh).has(t))throw new Error("Cannot use more than one PDFWorker per port.");h(dt,Jh).set(t,this),E(this,Vn,ME).call(this,t)}else E(this,Vn,jE).call(this)}get promise(){return h(this,uo).promise}get port(){return h(this,ns)}get messageHandler(){return h(this,xi)}destroy(){var e,t;this.destroyed=!0,(e=h(this,Xh))==null||e.terminate(),y(this,Xh,null),h(dt,Jh).delete(h(this,ns)),y(this,ns,null),(t=h(this,xi))==null||t.destroy(),y(this,xi,null)}static create(e){const t=h(this,Jh).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new dt(e)}static get workerSrc(){if(ii.workerSrc)return ii.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ae(this,"_setupFakeWorkerGlobal",(async()=>h(this,Au,gv)?h(this,Au,gv):(await import(this.workerSrc)).WorkerMessageHandler)())}};uo=new WeakMap,xi=new WeakMap,ns=new WeakMap,Xh=new WeakMap,Ly=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,Vn=new WeakSet,pv=function(){h(this,uo).resolve(),h(this,xi).send("configure",{verbosity:this.verbosity})},ME=function(e){y(this,ns,e),y(this,xi,new rm("main","worker",e)),h(this,xi).on("ready",()=>{}),E(this,Vn,pv).call(this)},jE=function(){if(h(dt,Qh)||h(dt,Au,gv)){E(this,Vn,mm).call(this);return}let{workerSrc:e}=dt;try{dt._isSameOrigin(window.location,e)||(e=dt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new rm("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?h(this,uo).reject(new Error("Worker was destroyed")):E(this,Vn,mm).call(this)},s=new AbortController;t.addEventListener("error",()=>{h(this,Xh)||i()},{signal:s.signal}),n.on("test",l=>{if(s.abort(),this.destroyed||!l){i();return}y(this,xi,n),y(this,ns,t),y(this,Xh,t),E(this,Vn,pv).call(this)}),n.on("ready",l=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{E(this,Vn,mm).call(this)}});const o=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};o();return}catch{tb("The worker has been disabled.")}E(this,Vn,mm).call(this)},mm=function(){h(dt,Qh)||(_e("Setting up fake worker."),y(dt,Qh,!0)),dt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){h(this,uo).reject(new Error("Worker was destroyed"));return}const t=new EI;y(this,ns,t);const n=`fake${Ht(dt,Ly)._++}`,i=new rm(n+"_worker",n,t);e.setup(i,t),y(this,xi,new rm(n,n+"_worker",t)),E(this,Vn,pv).call(this)}).catch(e=>{h(this,uo).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Au=new WeakSet,gv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(dt,Au),S(dt,Ly,0),S(dt,Qh,!1),S(dt,Jh,new WeakMap),Un&&(y(dt,Qh,!0),ii.workerSrc||(ii.workerSrc="./pdf.worker.mjs")),dt._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},dt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},dt.fromPort=e=>{if(pI("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return dt.create(e)};let pc=dt;var as,lr,Tu,Eu,is,el,fm;class bN{constructor(e,t,n,i,s,o){S(this,el);S(this,as,new Map);S(this,lr,new Map);S(this,Tu,new Map);S(this,Eu,new Map);S(this,is,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new TE,this.fontLoader=new kI({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return Ae(this,"annotationStorage",new W0)}getRenderingIntent(e,t=_r.ENABLE,n=null,i=!1,s=!1){let o=Pa.DISPLAY,l=Rw;switch(e){case"any":o=Pa.ANY;break;case"display":break;case"print":o=Pa.PRINT;break;default:_e(`getRenderingIntent - invalid intent: ${e}`)}const u=o&Pa.PRINT&&n instanceof lE?n:this.annotationStorage;switch(t){case _r.DISABLE:o+=Pa.ANNOTATIONS_DISABLE;break;case _r.ENABLE:break;case _r.ENABLE_FORMS:o+=Pa.ANNOTATIONS_FORMS;break;case _r.ENABLE_STORAGE:o+=Pa.ANNOTATIONS_STORAGE,l=u.serializable;break;default:_e(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=Pa.IS_EDITING),s&&(o+=Pa.OPLIST);const{ids:c,hash:f}=u.modifiedIds,p=[o,l.hash,f];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:c}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=h(this,is))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of h(this,lr).values())e.push(i._destroy());h(this,lr).clear(),h(this,Tu).clear(),h(this,Eu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),h(this,as).clear(),this.filterFactory.destroy(),Qm.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ts("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Ne(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}Ne(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async n=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=u=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(n,i)=>{Ne(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:l}){if(l){i.close();return}Ne(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new vN(n,this))}),e.on("DocException",n=>{t._capability.reject(Zn(n))}),e.on("PasswordRequest",n=>{y(this,is,Promise.withResolvers());try{if(!t.onPassword)throw Zn(n);const i=s=>{s instanceof Error?h(this,is).reject(s):h(this,is).resolve({password:s})};t.onPassword(i,n.code)}catch(i){h(this,is).reject(i)}return h(this,is).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;h(this,lr).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in s){const p=s.error;_e(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new Yw(s),u=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,c=new xI(l,u,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:f}=s;Ne(f,"The imageRef must be defined.");for(const p of h(this,lr).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,o])=>{var u;if(this.destroyed)return;const l=h(this,lr).get(i);if(!l.objs.has(n)){if(l._intentStates.size===0){(u=o==null?void 0:o.bitmap)==null||u.close();return}switch(s){case"Image":case"Pattern":l.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&_e("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=h(this,Tu).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&h(this,Eu).set(s.refStr,e);const o=new yN(t,s,this,this._params.pdfBug);return h(this,lr).set(t,o),o});return h(this,Tu).set(t,i),i}getPageIndex(e){return Ow(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return E(this,el,fm).call(this,"GetFieldObjects")}hasJSActions(){return E(this,el,fm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return E(this,el,fm).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,el,fm).call(this,"GetOptionalContentConfig").then(t=>new XI(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=h(this,as).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new qI(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return h(this,as).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of h(this,lr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),h(this,as).clear(),this.filterFactory.destroy(!0),Qm.cleanup()}}cachedPageNumber(e){if(!Ow(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return h(this,Eu).get(t)??null}}as=new WeakMap,lr=new WeakMap,Tu=new WeakMap,Eu=new WeakMap,is=new WeakMap,el=new WeakSet,fm=function(e,t=null){const n=h(this,as).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return h(this,as).set(e,i),i};var co;class _N{constructor(e){S(this,co,null);K(this,"onContinue",null);K(this,"onError",null);y(this,co,e)}get promise(){return h(this,co).capability.promise}cancel(e=0){h(this,co).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=h(this,co).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=h(this,co);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}co=new WeakMap;var mo,tl;const ch=class ch{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:l,canvasFactory:u,filterFactory:c,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:g=null,enableHWA:b=!1,operationsFilter:A=null}){S(this,mo,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=c,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new _N(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=b,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=A}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var u,c;if(this.cancelled)return;if(this._canvas){if(h(ch,tl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(ch,tl).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:s,dependencyTracker:o}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new jd(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var n,i,s;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),h(this,mo)&&(window.cancelAnimationFrame(h(this,mo)),y(this,mo,null)),h(ch,tl).delete(this._canvas),e||(e=new nb(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?y(this,mo,window.requestAnimationFrame(()=>{y(this,mo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(ch,tl).delete(this._canvas),this.callback())))}};mo=new WeakMap,tl=new WeakMap,S(ch,tl,new WeakSet);let Qw=ch;const IE="5.4.296",NE="f56dc8601";var va,nl,Cu,Vt,tp,Pu,rs,np,fo,Si,ap,Ze,Jw,ek,tk,hh,RE,Rs;const Xn=class Xn{constructor({editor:e=null,uiManager:t=null}){S(this,Ze);S(this,va,null);S(this,nl,null);S(this,Cu);S(this,Vt,null);S(this,tp,!1);S(this,Pu,!1);S(this,rs,null);S(this,np);S(this,fo,null);S(this,Si,null);var n,i;e?(y(this,Pu,!1),y(this,rs,e)):y(this,Pu,!0),y(this,Si,(e==null?void 0:e._uiManager)||t),y(this,np,h(this,Si)._eventBus),y(this,Cu,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=h(this,Si))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),h(Xn,ap)||y(Xn,ap,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ae(this,"_keyboardManager",new Gp([[["Escape","mac+Escape"],Xn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Xn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Xn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Xn.prototype._moveToPrevious],[["Home","mac+Home"],Xn.prototype._moveToBeginning],[["End","mac+End"],Xn.prototype._moveToEnd]]))}renderButton(){const e=y(this,va,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",h(this,rs)&&(e.ariaControls=`${h(this,rs).id}_colorpicker_dropdown`);const t=h(this,Si)._signal;e.addEventListener("click",E(this,Ze,hh).bind(this),{signal:t}),e.addEventListener("keydown",E(this,Ze,tk).bind(this),{signal:t});const n=y(this,nl,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=h(this,Cu),e.append(n),e}renderMainDropdown(){const e=y(this,Vt,E(this,Ze,Jw).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===h(this,va)){E(this,Ze,hh).call(this,e);return}const t=e.target.getAttribute("data-color");t&&E(this,Ze,ek).call(this,t,e)}_moveToNext(e){var t,n;if(!h(this,Ze,Rs)){E(this,Ze,hh).call(this,e);return}if(e.target===h(this,va)){(t=h(this,Vt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=h(this,Vt))==null?void 0:t.firstChild)||e.target===h(this,va)){h(this,Ze,Rs)&&this._hideDropdownFromKeyboard();return}h(this,Ze,Rs)||E(this,Ze,hh).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!h(this,Ze,Rs)){E(this,Ze,hh).call(this,e);return}(t=h(this,Vt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!h(this,Ze,Rs)){E(this,Ze,hh).call(this,e);return}(t=h(this,Vt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=h(this,Vt))==null||e.classList.add("hidden"),h(this,va).ariaExpanded="false",(t=h(this,fo))==null||t.abort(),y(this,fo,null)}_hideDropdownFromKeyboard(){var e;if(!h(this,Pu)){if(!h(this,Ze,Rs)){(e=h(this,rs))==null||e.unselect();return}this.hideDropdown(),h(this,va).focus({preventScroll:!0,focusVisible:h(this,tp)})}}updateColor(e){if(h(this,nl)&&(h(this,nl).style.backgroundColor=e),!h(this,Vt))return;const t=h(this,Si).highlightColors.values();for(const n of h(this,Vt).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=h(this,va))==null||e.remove(),y(this,va,null),y(this,nl,null),(t=h(this,Vt))==null||t.remove(),y(this,Vt,null)}};va=new WeakMap,nl=new WeakMap,Cu=new WeakMap,Vt=new WeakMap,tp=new WeakMap,Pu=new WeakMap,rs=new WeakMap,np=new WeakMap,fo=new WeakMap,Si=new WeakMap,ap=new WeakMap,Ze=new WeakSet,Jw=function(){const e=document.createElement("div"),t=h(this,Si)._signal;e.addEventListener("contextmenu",Da,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),h(this,rs)&&(e.id=`${h(this,rs).id}_colorpicker_dropdown`);for(const[n,i]of h(this,Si).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",h(Xn,ap)[n]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.ariaSelected=i===h(this,Cu),s.addEventListener("click",E(this,Ze,ek).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",E(this,Ze,tk).bind(this),{signal:t}),e},ek=function(e,t){t.stopPropagation(),h(this,np).dispatch("switchannotationeditorparams",{source:this,type:je.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},tk=function(e){Xn._keyboardManager.exec(this,e)},hh=function(e){if(h(this,Ze,Rs)){this.hideDropdown();return}if(y(this,tp,e.detail===0),h(this,fo)||(y(this,fo,new AbortController),window.addEventListener("pointerdown",E(this,Ze,RE).bind(this),{signal:h(this,Si).combinedSignal(h(this,fo))})),h(this,va).ariaExpanded="true",h(this,Vt)){h(this,Vt).classList.remove("hidden");return}const t=y(this,Vt,E(this,Ze,Jw).call(this));h(this,va).append(t)},RE=function(e){var t;(t=h(this,Vt))!=null&&t.contains(e.target)||this.hideDropdown()},Rs=function(){return h(this,Vt)&&!h(this,Vt).classList.contains("hidden")},S(Xn,ap,null);let Jm=Xn;var dr,ip,Lu,rp;const mh=class mh{constructor(e){S(this,dr,null);S(this,ip,null);S(this,Lu,null);y(this,ip,e),y(this,Lu,e._uiManager),h(mh,rp)||y(mh,rp,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(h(this,dr))return h(this,dr);const{editorType:e,colorType:t,colorValue:n}=h(this,ip),i=y(this,dr,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",h(mh,rp)[e]),i.addEventListener("input",()=>{h(this,Lu).updateParams(t,i.value)},{signal:h(this,Lu)._signal}),i}update(e){h(this,dr)&&(h(this,dr).value=e)}destroy(){var e;(e=h(this,dr))==null||e.remove(),y(this,dr,null)}hideDropdown(){}};dr=new WeakMap,ip=new WeakMap,Lu=new WeakMap,rp=new WeakMap,S(mh,rp,null);let my=mh;function VS(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Kc(a){return Math.max(0,Math.min(255,255*a))}class GS{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Kc(e),[e,e,e]}static G_HTML([e]){const t=VS(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Kc)}static RGB_HTML(e){return`#${e.map(VS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Kc(1-Math.min(1,e+i)),Kc(1-Math.min(1,n+i)),Kc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,s=1-t,o=1-n,l=Math.min(i,s,o);return["CMYK",i,s,o,l]}}class wN{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){tt("Abstract method `_createSVG` called.")}}class ef extends wN{_createSVG(e){return document.createElementNS(Lr,e)}}const kN=9,Ol=new WeakSet,xN=new Date().getTimezoneOffset()*60*1e3;class YS{static create(e){switch(e.data.annotationType){case Mt.LINK:return new $0(e);case Mt.TEXT:return new AN(e);case Mt.WIDGET:switch(e.data.fieldType){case"Tx":return new TN(e);case"Btn":return e.data.radioButton?new BE(e):e.data.checkBox?new CN(e):new PN(e);case"Ch":return new LN(e);case"Sig":return new EN(e)}return new Hl(e);case Mt.POPUP:return new ak(e);case Mt.FREETEXT:return new WE(e);case Mt.LINE:return new jN(e);case Mt.SQUARE:return new IN(e);case Mt.CIRCLE:return new NN(e);case Mt.POLYLINE:return new VE(e);case Mt.CARET:return new ON(e);case Mt.INK:return new q0(e);case Mt.POLYGON:return new RN(e);case Mt.HIGHLIGHT:return new GE(e);case Mt.UNDERLINE:return new DN(e);case Mt.SQUIGGLY:return new BN(e);case Mt.STRIKEOUT:return new FN(e);case Mt.STAMP:return new YE(e);case Mt.FILEATTACHMENT:return new zN(e);default:return new _t(e)}}}var al,Mu,Ja,sp,nk;const hx=class hx{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){S(this,sp);S(this,al,null);S(this,Mu,!1);S(this,Ja,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return hx._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,t=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var l;const e=(l=this.annotationStorage)==null?void 0:l.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:i}=this.data;let s=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let u=0;u<t.length;u+=8)t[u+1]>o?(o=t[u+1],s=t[u+2]):t[u+1]===o&&(s=Math.max(s,t[u+2]));return[s,o]}if((n==null?void 0:n.length)>=1){for(const u of n)for(let c=0,f=u.length;c<f;c+=2)u[c+1]>o?(o=u[c+1],s=u[c]):u[c+1]===o&&(s=Math.max(s,u[c]));if(s!==1/0)return[s,o]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-o)/i,e}get commentText(){var t,n,i;const{data:e}=this;return((n=(t=this.annotationStorage.getRawValue(`${Km}${e.id}`))==null?void 0:t.popup)==null?void 0:n.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${Km}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=h(this,Ja))==null?void 0:e.popup)||this.popup)==null||t.remove(),y(this,Ja,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(h(this,al)||y(this,al,{rect:this.data.rect.slice(0)}));const{rect:t,popup:n}=e;t&&E(this,sp,nk).call(this,t);let i=((s=h(this,Ja))==null?void 0:s.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=h(this,Ja).popup),i&&(i.updateEdited(e),n!=null&&n.deleted&&(i.remove(),y(this,Ja,null),this.popup=null))}resetEdited(){var e;h(this,al)&&(E(this,sp,nk).call(this,h(this,al).rect),(e=h(this,Ja))==null||e.popup.resetEdited(),y(this,al,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Hl)&&!(this instanceof $0)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof ak){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,s),s}const{width:l,height:u}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,M=t.borderStyle.verticalCornerRadius;if(x>0||M>0){const T=`calc(${x}px * var(--total-scale-factor)) / calc(${M}px * var(--total-scale-factor))`;o.borderRadius=T}else if(this instanceof BE){const T=`calc(${l}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=T}switch(t.borderStyle.style){case ed.SOLID:o.borderStyle="solid";break;case ed.DASHED:o.borderStyle="dashed";break;case ed.BEVELED:_e("Unimplemented border style: beveled");break;case ed.INSET:_e("Unimplemented border style: inset");break;case ed.UNDERLINE:o.borderBottomStyle="solid";break}const w=t.borderColor||null;w?(y(this,Mu,!0),o.borderColor=re.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):o.borderWidth=0}const c=re.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:p,pageX:g,pageY:b}=i.rawDims;o.left=`${100*(c[0]-g)/f}%`,o.top=`${100*(c[1]-b)/p}%`;const{rotation:A}=t;return t.hasOwnCanvas||A===0?(o.width=`${100*l/f}%`,o.height=`${100*u/p}%`):this.setRotation(A,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*o/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const s=i.detail[t],o=s[0],l=s.slice(1);i.target.style[n]=GS[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:GS[`${o}_rgb`](l)})};return Ae(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const o=n[i];if(o){const l={detail:{[i]:s},target:e};o(l),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,M,w,T]=e.subarray(2,6);if(i===x&&s===M&&t===w&&n===T)return}const{style:o}=this.container;let l;if(h(this,Mu)){const{borderColor:x,borderWidth:M}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const u=i-t,c=s-n,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=f.createElement("defs");p.append(g);const b=f.createElement("clipPath"),A=`clippath_${this.data.id}`;b.setAttribute("id",A),b.setAttribute("clipPathUnits","objectBoundingBox"),g.append(b);for(let x=2,M=e.length;x<M;x+=8){const w=e[x],T=e[x+1],C=e[x+2],P=e[x+3],I=f.createElement("rect"),N=(C-t)/u,O=(s-T)/c,D=(w-C)/u,U=(T-P)/c;I.setAttribute("x",N),I.setAttribute("y",O),I.setAttribute("width",D),I.setAttribute("height",U),b.append(I),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${O}" width="${D}" height="${U}"/>`)}h(this,Mu)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${A})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate);const s=y(this,Ja,new ak({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(h(this,Ja)||this.popup||this.data.popupRef)}get extraPopupElement(){return h(this,Ja)}render(){tt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:l}of i){if(s===-1||o===t)continue;const u=typeof l=="string"?l:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!Ol.has(c)){_e(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:u,domElement:c})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&Ol.has(i)&&n.push({id:o,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};al=new WeakMap,Mu=new WeakMap,Ja=new WeakMap,sp=new WeakSet,nk=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:u}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(o-e[3]+u)/o}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)};let _t=hx;class SN extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var ja,lh,OE,DE;class $0 extends _t{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});S(this,ja);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(E(this,ja,OE).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(E(this,ja,DE).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,n,i=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&E(this,ja,lh).call(this),i&&(t.title=i)}_bindNamedAction(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(t.title=i),E(this,ja,lh).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const o=i.get(s);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),E(this,ja,lh).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),E(this,ja,lh).call(this),!this._fieldObjects){_e('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var p;i==null||i();const{fields:s,refs:o,include:l}=n,u=[];if(s.length!==0||o.length!==0){const g=new Set(o);for(const b of s){const A=this._fieldObjects[b]||[];for(const{id:x}of A)g.add(x)}for(const b of Object.values(this._fieldObjects))for(const A of b)g.has(A.id)===l&&u.push(A)}else for(const g of Object.values(this._fieldObjects))u.push(...g);const c=this.annotationStorage,f=[];for(const g of u){const{id:b}=g;switch(f.push(b),g.type){case"text":{const x=g.defaultValue||"";c.setValue(b,{value:x});break}case"checkbox":case"radiobutton":{const x=g.defaultValue===g.exportValues;c.setValue(b,{value:x});break}case"combobox":case"listbox":{const x=g.defaultValue||"";c.setValue(b,{value:x});break}default:continue}const A=document.querySelector(`[data-element-id="${b}"]`);if(A){if(!Ol.has(A)){_e(`_bindResetFormAction - element not allowed: ${b}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}ja=new WeakSet,lh=function(){this.container.setAttribute("data-internal-link","")},OE=function(t,n,i="",s=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:i&&(t.title=i),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,s),!1},E(this,ja,lh).call(this)},DE=function(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(t.title=i),E(this,ja,lh).call(this)};class AN extends _t{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Hl extends _t{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return rn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(n,o=>{var l;if(n==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,n,i){var s,o,l;for(const[u,c]of n)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,u,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":re.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||kN,s=e.style;let o;const l=2,u=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-l),f=Math.round(c/(m_*i))||1,p=c/f;o=Math.min(i,u(p/m_))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(i,u(c/m_))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=re.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class TN extends Hl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),s.setValue(o.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const u=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const f={userValue:l,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ol.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:p,datetimeType:g,timeStep:b}=this.data,A=!!g&&this.enableScripting;p&&(n.title=p),this._setRequired(n,this.data.required),u&&(n.maxLength=u),n.addEventListener("input",M=>{e.setValue(t,{value:M.target.value}),this.setPropertyOnSiblings(n,"value",M.target.value,"value"),f.formattedValue=null}),n.addEventListener("resetform",M=>{const w=this.data.defaultFieldValue??"";n.value=f.userValue=w,f.formattedValue=null});let x=M=>{const{formattedValue:w}=f;w!=null&&(M.target.value=w),M.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",w=>{var C;if(f.focused)return;const{target:T}=w;if(A&&(T.type=g,b&&(T.step=b)),f.userValue){const P=f.userValue;if(A)if(g==="time"){const I=new Date(P),N=[I.getHours(),I.getMinutes(),I.getSeconds()];T.value=N.map(O=>O.toString().padStart(2,"0")).join(":")}else T.value=new Date(P-xN).toISOString().split(g==="date"?"T":".",1)[0];else T.value=P}f.lastCommittedValue=T.value,f.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(f.focused=!0)}),n.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const T={value(C){f.userValue=C.detail.value??"",A||e.setValue(t,{value:f.userValue.toString()}),C.target.value=f.userValue},formattedValue(C){const{formattedValue:P}=C.detail;f.formattedValue=P,P!=null&&C.target!==document.activeElement&&(C.target.value=P);const I={formattedValue:P};A&&(I.value=P),e.setValue(t,I)},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var O;const{charLimit:P}=C.detail,{target:I}=C;if(P===0){I.removeAttribute("maxLength");return}I.setAttribute("maxLength",P);let N=f.userValue;!N||N.length<=P||(N=N.slice(0,P),I.value=f.userValue=N,e.setValue(t,{value:N}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:I.selectionStart,selEnd:I.selectionEnd}}))}};this._dispatchEventFromSandbox(T,w)}),n.addEventListener("keydown",w=>{var P;f.commitKey=1;let T=-1;if(w.key==="Escape"?T=0:w.key==="Enter"&&!this.data.multiLine?T=2:w.key==="Tab"&&(f.commitKey=3),T===-1)return;const{value:C}=w.target;f.lastCommittedValue!==C&&(f.lastCommittedValue=C,f.userValue=C,(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:T,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const M=x;x=null,n.addEventListener("blur",w=>{var P,I;if(!f.focused||!w.relatedTarget)return;(P=this.data.actions)!=null&&P.Blur||(f.focused=!1);const{target:T}=w;let{value:C}=T;if(A){if(C&&g==="time"){const N=C.split(":").map(O=>parseInt(O,10));C=new Date(2e3,0,1,N[0],N[1],N[2]||0).valueOf(),T.step=""}else C.includes("T")||(C=`${C}T00:00`),C=new Date(C).valueOf();T.type="text"}f.userValue=C,f.lastCommittedValue!==C&&((I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:f.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),M(w)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",w=>{var U;f.lastCommittedValue=null;const{data:T,target:C}=w,{value:P,selectionStart:I,selectionEnd:N}=C;let O=I,D=N;switch(w.inputType){case"deleteWordBackward":{const H=P.substring(0,I).match(/\w*[^\w]*$/);H&&(O-=H[0].length);break}case"deleteWordForward":{const H=P.substring(I).match(/^[^\w]*\w*/);H&&(D+=H[0].length);break}case"deleteContentBackward":I===N&&(O-=1);break;case"deleteContentForward":I===N&&(D+=1);break}w.preventDefault(),(U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,change:T||"",willCommit:!1,selStart:O,selEnd:D}})}),this._setEventListeners(n,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(x&&n.addEventListener("blur",x),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/u;n.classList.add("comb"),n.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class EN extends Hl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class CN extends Hl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ol.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:l,checked:u}=o.target;for(const c of this._getElementsByName(l,n)){const f=u&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=f),e.setValue(c.id,{value:f})}e.setValue(n,{value:u})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const l={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class BE extends Hl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,n))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Ol.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:l,checked:u}=o.target;for(const c of this._getElementsByName(l,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:u})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const u={value:c=>{const f=o===c.detail.value;for(const p of this._getElementsByName(c.target.name)){const g=f&&p.id===n;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class PN extends $0{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class LN extends Hl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Ol.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,n.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let o=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),o=()=>{f.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const l=f=>{const p=f?"value":"textContent",{options:g,multiple:b}=i;return b?Array.prototype.filter.call(g,A=>A.selected).map(A=>A[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let u=l(!1);const c=f=>{const p=f.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const p={value(g){o==null||o();const b=g.detail.value,A=new Set(Array.isArray(b)?b:[b]);for(const x of i.options)x.selected=A.has(x.value);e.setValue(t,{value:l(!0)}),u=l(!1)},multipleSelection(g){i.multiple=!0},remove(g){const b=i.options,A=g.detail.remove;b[A].selected=!1,i.remove(A),b.length>0&&Array.prototype.findIndex.call(b,M=>M.selected)===-1&&(b[0].selected=!0),e.setValue(t,{value:l(!0),items:c(g)}),u=l(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),u=l(!1)},insert(g){const{index:b,displayValue:A,exportValue:x}=g.detail.insert,M=i.children[b],w=document.createElement("option");w.textContent=A,w.value=x,M?M.before(w):i.append(w),e.setValue(t,{value:l(!0),items:c(g)}),u=l(!1)},items(g){const{items:b}=g.detail;for(;i.length!==0;)i.remove(0);for(const A of b){const{displayValue:x,exportValue:M}=A,w=document.createElement("option");w.textContent=x,w.value=M,i.append(w)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:l(!0),items:c(g)}),u=l(!1)},indices(g){const b=new Set(g.detail.indices);for(const A of g.target.options)A.selected=b.has(A.index);e.setValue(t,{value:l(!0)}),u=l(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,f)}),i.addEventListener("input",f=>{var b;const p=l(!0),g=l(!1);e.setValue(t,{value:p}),f.preventDefault(),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var op,ik;class ak extends _t{constructor(t){const{data:n,elements:i,parent:s}=t,o=!!s._commentManager;super(t,{isRenderable:!o&&_t._hasPopupData(n)});S(this,op);if(this.elements=i,o&&_t._hasPopupData(n)){const l=this.popup=E(this,op,ik).call(this);for(const u of i)u.popup=l}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=E(this,op,ik).call(this),i=[];for(const s of this.elements)s.popup=n,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${z0}${s}`).join(",")),this.container}}op=new WeakSet,ik=function(){return new MN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var ya,po,My,jy,ju,Iu,At,ur,go,il,Nu,Ru,cr,ba,ss,os,Zt,hs,vo,hp,ls,Ou,rl,yo,Pn,bo,Ee,vv,rk,sk,ok,yv,hk,FE,zE,HE,UE,bv,_v,lk;class MN{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:s,contentsObj:o,richText:l,parent:u,rect:c,parentRect:f,open:p,commentManager:g=null}){S(this,Ee);S(this,ya,null);S(this,po,E(this,Ee,HE).bind(this));S(this,My,E(this,Ee,lk).bind(this));S(this,jy,E(this,Ee,_v).bind(this));S(this,ju,E(this,Ee,bv).bind(this));S(this,Iu,null);S(this,At,null);S(this,ur,null);S(this,go,null);S(this,il,null);S(this,Nu,null);S(this,Ru,null);S(this,cr,!1);S(this,ba,null);S(this,ss,null);S(this,os,null);S(this,Zt,null);S(this,hs,null);S(this,vo,null);S(this,hp,null);S(this,ls,null);S(this,Ou,null);S(this,rl,null);S(this,yo,!1);S(this,Pn,null);S(this,bo,null);y(this,At,e),y(this,Ou,i),y(this,ur,o),y(this,ls,l),y(this,Nu,u),y(this,Iu,t),y(this,hp,c),y(this,Ru,f),y(this,il,n),y(this,ya,g),y(this,Pn,n[0]),y(this,go,Zm.toDateObject(s)),this.trigger=n.flatMap(b=>b.getElementsToTriggerPopup()),g?this.renderCommentButton():(E(this,Ee,vv).call(this),h(this,At).hidden=!0,p&&E(this,Ee,bv).call(this))}renderCommentButton(){if(h(this,Zt)||(h(this,hs)||E(this,Ee,rk).call(this),!h(this,hs)))return;const{signal:e}=y(this,ss,new AbortController),t=!!h(this,Pn).extraPopupElement,n=()=>{h(this,ya).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{h(this,ya).toggleCommentPopup(this,!1,!0,!t)},s=()=>{h(this,ya).toggleCommentPopup(this,!1,!1)};if(t){y(this,Zt,h(this,Pn).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",h(this,po),{signal:e}),o.addEventListener("click",n,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=y(this,Zt,document.createElement("button"));o.className="annotationCommentButton";const l=h(this,Pn).container;o.style.zIndex=l.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),E(this,Ee,ok).call(this),E(this,Ee,sk).call(this),o.addEventListener("keydown",h(this,po),{signal:e}),o.addEventListener("click",n,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),l.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=h(this,Pn).commentData;return e?h(this,Nu)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=h(this,Zt))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:i,modificationDate:s}=h(this,Pn).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:i,modificationDate:s}}get elementBeforePopup(){return h(this,Zt)}get comment(){return h(this,bo)||y(this,bo,h(this,Pn).commentText),h(this,bo)}set comment(e){e!==this.comment&&(h(this,Pn).commentText=y(this,bo,e))}get parentBoundingClientRect(){return h(this,Pn).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){h(this,Zt)&&(h(this,Zt).classList.toggle("selected",e),h(this,Zt).ariaExpanded=t)}setSelectedCommentButton(e){h(this,Zt).classList.toggle("selected",e)}get commentPopupPosition(){if(h(this,vo))return h(this,vo);const{x:e,y:t,height:n}=h(this,Zt).getBoundingClientRect(),{x:i,y:s,width:o,height:l}=h(this,Pn).layer.getBoundingClientRect();return[(e-i)/o,(t+n-s)/l]}set commentPopupPosition(e){y(this,vo,e)}hasDefaultPopupPosition(){return h(this,vo)===null}get commentButtonPosition(){return h(this,hs)}get commentButtonWidth(){return h(this,Zt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=h(this,vo)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:o,width:l,height:u}=i;h(this,ya).showDialog(null,this,s+t*l,o+n*u,{...e,parentDimensions:i})}render(){var n,i;if(h(this,ba))return;const e=y(this,ba,document.createElement("div"));if(e.className="popup",h(this,Iu)){const s=e.style.outlineColor=re.makeHexColor(...h(this,Iu));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(n=h(this,Ou))!=null&&n.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=h(this,Ou)}if(e.append(t),h(this,go)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,go).valueOf()})),s.dateTime=h(this,go).toISOString(),t.append(s)}U0({html:h(this,Ee,yv)||h(this,ur).str,dir:(i=h(this,ur))==null?void 0:i.dir,className:"popupContent"},e),h(this,At).append(e)}updateEdited({rect:e,popup:t,deleted:n}){var i;if(h(this,ya)){n?(this.remove(),y(this,bo,null)):t&&(t.deleted?this.remove():(E(this,Ee,ok).call(this),y(this,bo,t.text))),e&&(y(this,hs,null),E(this,Ee,rk).call(this),E(this,Ee,sk).call(this));return}if(n||t!=null&&t.deleted){this.remove();return}E(this,Ee,vv).call(this),h(this,rl)||y(this,rl,{contentsObj:h(this,ur),richText:h(this,ls)}),e&&y(this,os,null),t&&t.text&&(y(this,ls,E(this,Ee,zE).call(this,t.text)),y(this,go,Zm.toDateObject(t.date)),y(this,ur,null)),(i=h(this,ba))==null||i.remove(),y(this,ba,null)}resetEdited(){var e;h(this,rl)&&({contentsObj:Ht(this,ur)._,richText:Ht(this,ls)._}=h(this,rl),y(this,rl,null),(e=h(this,ba))==null||e.remove(),y(this,ba,null),y(this,os,null))}remove(){var e,t,n;if((e=h(this,ss))==null||e.abort(),y(this,ss,null),(t=h(this,ba))==null||t.remove(),y(this,ba,null),y(this,yo,!1),y(this,cr,!1),(n=h(this,Zt))==null||n.remove(),y(this,Zt,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){y(this,yo,this.isVisible),h(this,yo)&&(h(this,At).hidden=!0)}maybeShow(){h(this,ya)||(E(this,Ee,vv).call(this),h(this,yo)&&(h(this,ba)||E(this,Ee,_v).call(this),y(this,yo,!1),h(this,At).hidden=!1))}get isVisible(){return h(this,ya)?!1:h(this,At).hidden===!1}}ya=new WeakMap,po=new WeakMap,My=new WeakMap,jy=new WeakMap,ju=new WeakMap,Iu=new WeakMap,At=new WeakMap,ur=new WeakMap,go=new WeakMap,il=new WeakMap,Nu=new WeakMap,Ru=new WeakMap,cr=new WeakMap,ba=new WeakMap,ss=new WeakMap,os=new WeakMap,Zt=new WeakMap,hs=new WeakMap,vo=new WeakMap,hp=new WeakMap,ls=new WeakMap,Ou=new WeakMap,rl=new WeakMap,yo=new WeakMap,Pn=new WeakMap,bo=new WeakMap,Ee=new WeakSet,vv=function(){var t;if(h(this,ss))return;y(this,ss,new AbortController);const{signal:e}=h(this,ss);for(const n of this.trigger)n.addEventListener("click",h(this,ju),{signal:e}),n.addEventListener("pointerenter",h(this,jy),{signal:e}),n.addEventListener("pointerleave",h(this,My),{signal:e}),n.classList.add("popupTriggerArea");for(const n of h(this,il))(t=n.container)==null||t.addEventListener("keydown",h(this,po),{signal:e})},rk=function(){const e=h(this,il).find(t=>t.hasCommentButton);e&&y(this,hs,e._normalizePoint(e.commentButtonPosition))},sk=function(){if(h(this,Pn).extraPopupElement&&!h(this,Pn).editor)return;this.renderCommentButton();const[e,t]=h(this,hs),{style:n}=h(this,Zt);n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`},ok=function(){h(this,Pn).extraPopupElement||(this.renderCommentButton(),h(this,Zt).style.backgroundColor=this.commentButtonColor||"")},yv=function(){const e=h(this,ls),t=h(this,ur);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&h(this,ls).html||null},hk=function(){var e,t,n;return((n=(t=(e=h(this,Ee,yv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},FE=function(){var e,t,n;return((n=(t=(e=h(this,Ee,yv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},zE=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:h(this,Ee,FE),fontSize:h(this,Ee,hk)?`calc(${h(this,Ee,hk)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return n},HE=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&h(this,cr))&&E(this,Ee,bv).call(this)},UE=function(){if(h(this,os)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=h(this,Nu);let o=!!h(this,Ru),l=o?h(this,Ru):h(this,hp);for(const A of h(this,il))if(!l||re.intersect(A.data.rect,l)!==null){l=A.data.rect,o=!0;break}const u=re.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),f=o?l[2]-l[0]+5:0,p=u[0]+f,g=u[1];y(this,os,[100*(p-i)/t,100*(g-s)/n]);const{style:b}=h(this,At);b.left=`${h(this,os)[0]}%`,b.top=`${h(this,os)[1]}%`},bv=function(){if(h(this,ya)){h(this,ya).toggleCommentPopup(this,!1);return}y(this,cr,!h(this,cr)),h(this,cr)?(E(this,Ee,_v).call(this),h(this,At).addEventListener("click",h(this,ju)),h(this,At).addEventListener("keydown",h(this,po))):(E(this,Ee,lk).call(this),h(this,At).removeEventListener("click",h(this,ju)),h(this,At).removeEventListener("keydown",h(this,po)))},_v=function(){h(this,ba)||this.render(),this.isVisible?h(this,cr)&&h(this,At).classList.add("focused"):(E(this,Ee,UE).call(this),h(this,At).hidden=!1,h(this,At).style.zIndex=parseInt(h(this,At).style.zIndex)+1e3)},lk=function(){h(this,At).classList.remove("focused"),!(h(this,cr)||!this.isVisible)&&(h(this,At).hidden=!0,h(this,At).style.zIndex=parseInt(h(this,At).style.zIndex)-1e3)};class WE extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=be.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var lp;class jN extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,lp,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),o=y(this,lp,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,lp)}addHighlightArea(){this.container.classList.add("highlightArea")}}lp=new WeakMap;var dp;class IN extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,dp,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),o=t.borderStyle.width,l=y(this,dp,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",n-o),l.setAttribute("height",i-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,dp)}addHighlightArea(){this.container.classList.add("highlightArea")}}dp=new WeakMap;var up;class NN extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,up,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),o=t.borderStyle.width,l=y(this,up,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",n/2),l.setAttribute("cy",i/2),l.setAttribute("rx",n/2-o/2),l.setAttribute("ry",i/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,up)}addHighlightArea(){this.container.classList.add("highlightArea")}}up=new WeakMap;var cp;class VE extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,cp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:s},width:o,height:l}=this;if(!n)return this.container;const u=this.svgFactory.create(o,l,!0);let c=[];for(let p=0,g=n.length;p<g;p+=2){const b=n[p]-t[0],A=t[3]-n[p+1];c.push(`${b},${A}`)}c=c.join(" ");const f=y(this,cp,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",c),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,cp)}addHighlightArea(){this.container.classList.add("highlightArea")}}cp=new WeakMap;class RN extends VE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ON extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mp,sl,fp,dk;class q0 extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,fp);S(this,mp,null);S(this,sl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?be.HIGHLIGHT:be.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:s,popupRef:o}}=this,{transform:l,width:u,height:c}=E(this,fp,dk).call(this,n,t),f=this.svgFactory.create(u,c,!0),p=y(this,mp,this.svgFactory.createElement("svg:g"));f.append(p),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let g=0,b=i.length;g<b;g++){const A=this.svgFactory.createElement(this.svgElementName);h(this,sl).push(A),A.setAttribute("points",i[g].join(",")),p.append(A)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:s}=t,o=h(this,mp);if(n>=0&&o.setAttribute("stroke-width",n||1),i)for(let l=0,u=h(this,sl).length;l<u;l++)h(this,sl)[l].setAttribute("points",i[l].join(","));if(s){const{transform:l,width:u,height:c}=E(this,fp,dk).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${c}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return h(this,sl)}addHighlightArea(){this.container.classList.add("highlightArea")}}mp=new WeakMap,sl=new WeakMap,fp=new WeakSet,dk=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class GE extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=be.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class DN extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class BN extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class FN extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class YE extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=be.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var pp,gp,uk;class zN extends _t{constructor(t){var i;super(t,{isRenderable:!0});S(this,gp);S(this,pp,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",E(this,gp,uk).bind(this)),y(this,pp,i);const{isMac:s}=rn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&E(this,gp,uk).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return h(this,pp)}addHighlightArea(){this.container.classList.add("highlightArea")}}pp=new WeakMap,gp=new WeakSet,uk=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Du,ol,Bu,_o,vp,hl,Zo,ck,mk,Fu;let Z0=(Fu=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:l,commentManager:u,linkService:c,annotationStorage:f}){S(this,Zo);S(this,Du,null);S(this,ol,null);S(this,Bu,null);S(this,_o,new Map);S(this,vp,null);S(this,hl,null);this.div=e,y(this,Du,t),y(this,ol,n),y(this,vp,l||null),y(this,hl,c||null),y(this,Bu,f||new W0),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=u||null}hasEditableAnnotations(){return h(this,_o).size>0}async render(e){var o,l,u;const{annotations:t}=e,n=this.div;Ko(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:h(this,hl),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new ef,annotationStorage:h(this,Bu),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const f=c.annotationType===Mt.POPUP;if(f){const b=i.get(c.id);if(!b)continue;s.elements=b}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;s.data=c;const p=YS.create(s);if(!p.isRenderable)continue;if(!f&&c.popupRef){const b=i.get(c.popupRef);b?b.push(p):i.set(c.popupRef,[p])}const g=p.render();c.hidden&&(g.style.visibility="hidden"),await E(this,Zo,ck).call(this,g,c.id,s.elements),(l=(o=p.extraPopupElement)==null?void 0:o.popup)==null||l.renderCommentButton(),p._isEditable&&(h(this,_o).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}E(this,Zo,mk).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:h(this,hl),svgFactory:new ef,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=Fu._defaultBorderStyle),t.data=n;const i=YS.create(t);if(!i.isRenderable)continue;const s=i.render();await E(this,Zo,ck).call(this,s,n.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Ko(t,{rotation:e.rotation}),E(this,Zo,mk).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(h(this,_o).values())}getEditableAnnotation(e){return h(this,_o).get(e)}addFakeAnnotation(e){var l;const{div:t}=this,{id:n,rotation:i}=e,s=new SN({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:h(this,hl),annotationStorage:h(this,Bu)}),o=s.render();return t.append(o),(l=h(this,Du))==null||l.moveElementInDOM(t,o,o,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return Ae(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ed.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Du=new WeakMap,ol=new WeakMap,Bu=new WeakMap,_o=new WeakMap,vp=new WeakMap,hl=new WeakMap,Zo=new WeakSet,ck=async function(e,t,n){var l,u;const i=e.firstChild||e,s=i.id=`${z0}${t}`,o=await((l=h(this,vp))==null?void 0:l.getAriaAttributes(s));if(o)for(const[c,f]of o)i.setAttribute(c,f);n?n.at(-1).container.after(e):(this.div.append(e),(u=h(this,Du))==null||u.moveElementInDOM(this.div,e,i,!1))},mk=function(){var t;if(!h(this,ol))return;const e=this.div;for(const[n,i]of h(this,ol)){const s=e.querySelector(`[data-annotation-id="${n}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i);const l=h(this,_o).get(n);l&&(l._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,s.id,i),l._hasNoCanvas=!1):l.canvas=i)}h(this,ol).clear()},Fu);const Ug=/\r\n?|\n/g;var _a,yp,ll,wa,zt,KE,$E,qE,wv,ws,kv,xv,ZE,pk,XE;const ht=class ht extends st{constructor(t){super({...t,name:"freeTextEditor"});S(this,zt);S(this,_a,"");S(this,yp,`${this.id}-editor`);S(this,ll,null);S(this,wa);K(this,"_colorPicker",null);this.color=t.color||ht._defaultColor||st._defaultLineColor,y(this,wa,t.fontSize||ht._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=ht.prototype,n=o=>o.isEmpty(),i=$o.TRANSLATE_SMALL,s=$o.TRANSLATE_BIG;return Ae(this,"_keyboardManager",new Gp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){st.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case je.FREETEXT_SIZE:ht._defaultFontSize=n;break;case je.FREETEXT_COLOR:ht._defaultColor=n;break}}updateParams(t,n){switch(t){case je.FREETEXT_SIZE:E(this,zt,KE).call(this,n);break;case je.FREETEXT_COLOR:E(this,zt,$E).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[je.FREETEXT_SIZE,ht._defaultFontSize],[je.FREETEXT_COLOR,ht._defaultColor||st._defaultLineColor]]}get propertiesToUpdate(){return[[je.FREETEXT_SIZE,h(this,wa)],[je.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new my(this)),[["colorPicker",this._colorPicker]]}get colorType(){return je.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-ht._internalPadding*t,-(ht._internalPadding+h(this,wa))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),y(this,ll,new AbortController);const t=this._uiManager.combinedSignal(h(this,ll));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,yp)),this._isDraggable=!0,(t=h(this,ll))==null||t.abort(),y(this,ll,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=h(this,_a),n=y(this,_a,E(this,zt,qE).call(this).trimEnd());if(t===n)return;const i=s=>{if(y(this,_a,s),!s){this.remove();return}E(this,zt,xv).call(this),this._uiManager.rebuild(this),E(this,zt,wv).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),E(this,zt,wv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ht._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,yp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${h(this,wa)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,c]=this.getInitialTranslation();[u,c]=this.pageTranslationToScreen(u,c);const[f,p]=this.pageDimensions,[g,b]=this.pageTranslation;let A,x;switch(this.rotation){case 0:A=t+(l[0]-g)/f,x=n+this.height-(l[1]-b)/p;break;case 90:A=t+(l[0]-g)/f,x=n-(l[1]-b)/p,[u,c]=[c,-u];break;case 180:A=t-this.width+(l[0]-g)/f,x=n-(l[1]-b)/p,[u,c]=[-u,-c];break;case 270:A=t+(l[0]-g-this.height*p)/f,x=n+(l[1]-b-this.width*f)/p,[u,c]=[-c,u];break}this.setAt(A*s,x*o,u,c)}else this._moveAfterPaste(t,n);E(this,zt,xv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var A,x,M;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=E(A=ht,ws,pk).call(A,n.getData("text")||"").replaceAll(Ug,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:c}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const w=u.parentElement;if(p.push(u.nodeValue.slice(c).replaceAll(Ug,"")),w!==this.editorDiv){let T=f;for(const C of this.editorDiv.childNodes){if(C===w){T=p;continue}T.push(E(x=ht,ws,kv).call(x,C))}}f.push(u.nodeValue.slice(0,c).replaceAll(Ug,""))}else if(u===this.editorDiv){let w=f,T=0;for(const C of this.editorDiv.childNodes)T++===c&&(w=p),w.push(E(M=ht,ws,kv).call(M,C))}y(this,_a,`${f.join(`
`)}${s}${p.join(`
`)}`),E(this,zt,xv).call(this);const g=new Range;let b=Math.sumPrecise(f.map(w=>w.length));for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const T=w.nodeValue.length;if(b<=T){g.setStart(w,b),g.setEnd(w,b);break}b-=T}o.removeAllRanges(),o.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=ht._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,i){var l;let s=null;if(t instanceof WE){const{data:{defaultAppearanceData:{fontSize:u,fontColor:c},rect:f,rotation:p,id:g,popupRef:b,richText:A,contentsObj:x,creationDate:M,modificationDate:w},textContent:T,textPosition:C,parent:{page:{pageNumber:P}}}=t;if(!T||T.length===0)return null;s=t={annotationType:be.FREETEXT,color:Array.from(c),fontSize:u,value:T.join(`
`),position:C,pageIndex:P-1,rect:f.slice(0),rotation:p,annotationElementId:g,id:g,deleted:!1,popupRef:b,comment:(x==null?void 0:x.str)||null,richText:A,creationDate:M,modificationDate:w}}const o=await super.deserialize(t,n,i);return y(o,wa,t.fontSize),o.color=re.makeHexColor(...t.color),y(o,_a,E(l=ht,ws,pk).call(l,t.value)),o._initialData=s,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=st._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:n,fontSize:h(this,wa),value:E(this,zt,ZE).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!E(this,zt,XE).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${h(this,wa)}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const s of h(this,_a).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),n.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:h(this,_a)}}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};_a=new WeakMap,yp=new WeakMap,ll=new WeakMap,wa=new WeakMap,zt=new WeakSet,KE=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-h(this,wa))*this.parentScale),y(this,wa,s),E(this,zt,wv).call(this)},i=h(this,wa);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},$E=function(t){const n=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},qE=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(E(i=ht,ws,kv).call(i,s)),n=s);return t.join(`
`)},wv=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},ws=new WeakSet,kv=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ug,"")},xv=function(){if(this.editorDiv.replaceChildren(),!!h(this,_a))for(const t of h(this,_a).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},ZE=function(){return h(this,_a).replaceAll(""," ")},pk=function(t){return t.replaceAll(" ","")},XE=function(t){const{value:n,fontSize:i,color:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((l,u)=>l!==s[u])||t.pageIndex!==o},S(ht,ws),K(ht,"_freeTextDefaultContent",""),K(ht,"_internalPadding",0),K(ht,"_defaultColor",null),K(ht,"_defaultFontSize",10),K(ht,"_type","freetext"),K(ht,"_editorType",be.FREETEXT);let fk=ht;class ie{toSVGPath(){tt("Abstract method `toSVGPath` must be implemented.")}get box(){tt("Abstract getter `box` must be implemented.")}serialize(e,t){tt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,s,o){o||(o=new Float32Array(e.length));for(let l=0,u=e.length;l<u;l+=2)o[l]=t+e[l]*i,o[l+1]=n+e[l+1]*s;return o}static _rescaleAndSwap(e,t,n,i,s,o){o||(o=new Float32Array(e.length));for(let l=0,u=e.length;l<u;l+=2)o[l]=t+e[l+1]*i,o[l+1]=n+e[l]*s;return o}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)i[s]=t+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,s){switch(s){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,s,o){return[(e+5*n)/6,(t+5*i)/6,(5*n+s)/6,(5*i+o)/6,(n+s)/2,(i+o)/2]}}K(ie,"PRECISION",1e-4);var ka,Ai,zu,Hu,mr,Le,dl,ul,bp,_p,Uu,Wu,wo,wp,Iy,Ny,Kt,pm,QE,JE,eC,tC,nC,aC;const Rr=class Rr{constructor({x:e,y:t},n,i,s,o,l=0){S(this,Kt);S(this,ka);S(this,Ai,[]);S(this,zu);S(this,Hu);S(this,mr,[]);S(this,Le,new Float32Array(18));S(this,dl);S(this,ul);S(this,bp);S(this,_p);S(this,Uu);S(this,Wu);S(this,wo,[]);y(this,ka,n),y(this,Wu,s*i),y(this,Hu,o),h(this,Le).set([NaN,NaN,NaN,NaN,e,t],6),y(this,zu,l),y(this,_p,h(Rr,wp)*i),y(this,bp,h(Rr,Ny)*i),y(this,Uu,i),h(this,wo).push(e,t)}isEmpty(){return isNaN(h(this,Le)[8])}add({x:e,y:t}){var U;y(this,dl,e),y(this,ul,t);const[n,i,s,o]=h(this,ka);let[l,u,c,f]=h(this,Le).subarray(8,12);const p=e-c,g=t-f,b=Math.hypot(p,g);if(b<h(this,bp))return!1;const A=b-h(this,_p),x=A/b,M=x*p,w=x*g;let T=l,C=u;l=c,u=f,c+=M,f+=w,(U=h(this,wo))==null||U.push(e,t);const P=-w/A,I=M/A,N=P*h(this,Wu),O=I*h(this,Wu);return h(this,Le).set(h(this,Le).subarray(2,8),0),h(this,Le).set([c+N,f+O],4),h(this,Le).set(h(this,Le).subarray(14,18),12),h(this,Le).set([c-N,f-O],16),isNaN(h(this,Le)[6])?(h(this,mr).length===0&&(h(this,Le).set([l+N,u+O],2),h(this,mr).push(NaN,NaN,NaN,NaN,(l+N-n)/s,(u+O-i)/o),h(this,Le).set([l-N,u-O],14),h(this,Ai).push(NaN,NaN,NaN,NaN,(l-N-n)/s,(u-O-i)/o)),h(this,Le).set([T,C,l,u,c,f],6),!this.isEmpty()):(h(this,Le).set([T,C,l,u,c,f],6),Math.abs(Math.atan2(C-u,T-l)-Math.atan2(w,M))<Math.PI/2?([l,u,c,f]=h(this,Le).subarray(2,6),h(this,mr).push(NaN,NaN,NaN,NaN,((l+c)/2-n)/s,((u+f)/2-i)/o),[l,u,T,C]=h(this,Le).subarray(14,18),h(this,Ai).push(NaN,NaN,NaN,NaN,((T+l)/2-n)/s,((C+u)/2-i)/o),!0):([T,C,l,u,c,f]=h(this,Le).subarray(0,6),h(this,mr).push(((T+5*l)/6-n)/s,((C+5*u)/6-i)/o,((5*l+c)/6-n)/s,((5*u+f)/6-i)/o,((l+c)/2-n)/s,((u+f)/2-i)/o),[c,f,l,u,T,C]=h(this,Le).subarray(12,18),h(this,Ai).push(((T+5*l)/6-n)/s,((C+5*u)/6-i)/o,((5*l+c)/6-n)/s,((5*u+f)/6-i)/o,((l+c)/2-n)/s,((u+f)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=h(this,mr),t=h(this,Ai);if(isNaN(h(this,Le)[6])&&!this.isEmpty())return E(this,Kt,QE).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);E(this,Kt,eC).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return E(this,Kt,JE).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,s,o){return new iC(e,t,n,i,s,o)}getOutlines(){var p;const e=h(this,mr),t=h(this,Ai),n=h(this,Le),[i,s,o,l]=h(this,ka),u=new Float32Array((((p=h(this,wo))==null?void 0:p.length)??0)+2);for(let g=0,b=u.length-2;g<b;g+=2)u[g]=(h(this,wo)[g]-i)/o,u[g+1]=(h(this,wo)[g+1]-s)/l;if(u[u.length-2]=(h(this,dl)-i)/o,u[u.length-1]=(h(this,ul)-s)/l,isNaN(n[6])&&!this.isEmpty())return E(this,Kt,tC).call(this,u);const c=new Float32Array(h(this,mr).length+24+h(this,Ai).length);let f=e.length;for(let g=0;g<f;g+=2){if(isNaN(e[g])){c[g]=c[g+1]=NaN;continue}c[g]=e[g],c[g+1]=e[g+1]}f=E(this,Kt,aC).call(this,c,f);for(let g=t.length-6;g>=6;g-=6)for(let b=0;b<6;b+=2){if(isNaN(t[g+b])){c[f]=c[f+1]=NaN,f+=2;continue}c[f]=t[g+b],c[f+1]=t[g+b+1],f+=2}return E(this,Kt,nC).call(this,c,f),this.newFreeDrawOutline(c,u,h(this,ka),h(this,Uu),h(this,zu),h(this,Hu))}};ka=new WeakMap,Ai=new WeakMap,zu=new WeakMap,Hu=new WeakMap,mr=new WeakMap,Le=new WeakMap,dl=new WeakMap,ul=new WeakMap,bp=new WeakMap,_p=new WeakMap,Uu=new WeakMap,Wu=new WeakMap,wo=new WeakMap,wp=new WeakMap,Iy=new WeakMap,Ny=new WeakMap,Kt=new WeakSet,pm=function(){const e=h(this,Le).subarray(4,6),t=h(this,Le).subarray(16,18),[n,i,s,o]=h(this,ka);return[(h(this,dl)+(e[0]-t[0])/2-n)/s,(h(this,ul)+(e[1]-t[1])/2-i)/o,(h(this,dl)+(t[0]-e[0])/2-n)/s,(h(this,ul)+(t[1]-e[1])/2-i)/o]},QE=function(){const[e,t,n,i]=h(this,ka),[s,o,l,u]=E(this,Kt,pm).call(this);return`M${(h(this,Le)[2]-e)/n} ${(h(this,Le)[3]-t)/i} L${(h(this,Le)[4]-e)/n} ${(h(this,Le)[5]-t)/i} L${s} ${o} L${l} ${u} L${(h(this,Le)[16]-e)/n} ${(h(this,Le)[17]-t)/i} L${(h(this,Le)[14]-e)/n} ${(h(this,Le)[15]-t)/i} Z`},JE=function(e){const t=h(this,Ai);e.push(`L${t[4]} ${t[5]} Z`)},eC=function(e){const[t,n,i,s]=h(this,ka),o=h(this,Le).subarray(4,6),l=h(this,Le).subarray(16,18),[u,c,f,p]=E(this,Kt,pm).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-n)/s} L${u} ${c} L${f} ${p} L${(l[0]-t)/i} ${(l[1]-n)/s}`)},tC=function(e){const t=h(this,Le),[n,i,s,o]=h(this,ka),[l,u,c,f]=E(this,Kt,pm).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(p,e,h(this,ka),h(this,Uu),h(this,zu),h(this,Hu))},nC=function(e,t){const n=h(this,Ai);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},aC=function(e,t){const n=h(this,Le).subarray(4,6),i=h(this,Le).subarray(16,18),[s,o,l,u]=h(this,ka),[c,f,p,g]=E(this,Kt,pm).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/l,(n[1]-o)/u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[0]-s)/l,(i[1]-o)/u],t),t+=24},S(Rr,wp,8),S(Rr,Iy,2),S(Rr,Ny,h(Rr,wp)+h(Rr,Iy));let fy=Rr;var Vu,cl,ds,kp,xa,xp,It,Ry,rC;class iC extends ie{constructor(t,n,i,s,o,l){super();S(this,Ry);S(this,Vu);S(this,cl,new Float32Array(4));S(this,ds);S(this,kp);S(this,xa);S(this,xp);S(this,It);y(this,It,t),y(this,xa,n),y(this,Vu,i),y(this,xp,s),y(this,ds,o),y(this,kp,l),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],E(this,Ry,rC).call(this,l);const[u,c,f,p]=h(this,cl);for(let g=0,b=t.length;g<b;g+=2)t[g]=(t[g]-u)/f,t[g+1]=(t[g+1]-c)/p;for(let g=0,b=n.length;g<b;g+=2)n[g]=(n[g]-u)/f,n[g+1]=(n[g+1]-c)/p}toSVGPath(){const t=[`M${h(this,It)[4]} ${h(this,It)[5]}`];for(let n=6,i=h(this,It).length;n<i;n+=6){if(isNaN(h(this,It)[n])){t.push(`L${h(this,It)[n+4]} ${h(this,It)[n+5]}`);continue}t.push(`C${h(this,It)[n]} ${h(this,It)[n+1]} ${h(this,It)[n+2]} ${h(this,It)[n+3]} ${h(this,It)[n+4]} ${h(this,It)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,s],o){const l=i-t,u=s-n;let c,f;switch(o){case 0:c=ie._rescale(h(this,It),t,s,l,-u),f=ie._rescale(h(this,xa),t,s,l,-u);break;case 90:c=ie._rescaleAndSwap(h(this,It),t,n,l,u),f=ie._rescaleAndSwap(h(this,xa),t,n,l,u);break;case 180:c=ie._rescale(h(this,It),i,n,-l,u),f=ie._rescale(h(this,xa),i,n,-l,u);break;case 270:c=ie._rescaleAndSwap(h(this,It),i,s,-l,-u),f=ie._rescaleAndSwap(h(this,xa),i,s,-l,-u);break}return{outline:Array.from(c),points:[Array.from(f)]}}get box(){return h(this,cl)}newOutliner(t,n,i,s,o,l=0){return new fy(t,n,i,s,o,l)}getNewOutline(t,n){const[i,s,o,l]=h(this,cl),[u,c,f,p]=h(this,Vu),g=o*f,b=l*p,A=i*f+u,x=s*p+c,M=this.newOutliner({x:h(this,xa)[0]*g+A,y:h(this,xa)[1]*b+x},h(this,Vu),h(this,xp),t,h(this,kp),n??h(this,ds));for(let w=2;w<h(this,xa).length;w+=2)M.add({x:h(this,xa)[w]*g+A,y:h(this,xa)[w+1]*b+x});return M.getOutlines()}}Vu=new WeakMap,cl=new WeakMap,ds=new WeakMap,kp=new WeakMap,xa=new WeakMap,xp=new WeakMap,It=new WeakMap,Ry=new WeakSet,rC=function(t){const n=h(this,It);let i=n[4],s=n[5];const o=[i,s,i,s];let l=i,u=s,c=i,f=s;const p=t?Math.max:Math.min,g=new Float32Array(4);for(let A=6,x=n.length;A<x;A+=6){const M=n[A+4],w=n[A+5];isNaN(n[A])?(re.pointBoundingBox(M,w,o),u>w?(l=M,u=w):u===w&&(l=p(l,M)),f<w?(c=M,f=w):f===w&&(c=p(c,M))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,re.bezierBoundingBox(i,s,...n.slice(A,A+6),g),re.rectBoundingBox(g[0],g[1],g[2],g[3],o),u>g[1]?(l=g[0],u=g[1]):u===g[1]&&(l=p(l,g[0])),f<g[3]?(c=g[2],f=g[3]):f===g[3]&&(c=p(c,g[2]))),i=M,s=w}const b=h(this,cl);b[0]=o[0]-h(this,ds),b[1]=o[1]-h(this,ds),b[2]=o[2]-o[0]+2*h(this,ds),b[3]=o[3]-o[1]+2*h(this,ds),this.firstPoint=[l,u],this.lastPoint=[c,f]};var Sp,Ap,Tp,ko,Ti,Yn,sC,Sv,oC,hC,vk;class gk{constructor(e,t=0,n=0,i=!0){S(this,Yn);S(this,Sp);S(this,Ap);S(this,Tp);S(this,ko,[]);S(this,Ti,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x,y:M,width:w,height:T}of e){const C=Math.floor((x-t)/o)*o,P=Math.ceil((x+w+t)/o)*o,I=Math.floor((M-t)/o)*o,N=Math.ceil((M+T+t)/o)*o,O=[C,I,N,!0],D=[P,I,N,!1];h(this,ko).push(O,D),re.rectBoundingBox(C,I,P,N,s)}const l=s[2]-s[0]+2*n,u=s[3]-s[1]+2*n,c=s[0]-n,f=s[1]-n;let p=i?-1/0:1/0,g=1/0;const b=h(this,ko).at(i?-1:-2),A=[b[0],b[2]];for(const x of h(this,ko)){const[M,w,T,C]=x;!C&&i?w<g?(g=w,p=M):w===g&&(p=Math.max(p,M)):C&&!i&&(w<g?(g=w,p=M):w===g&&(p=Math.min(p,M))),x[0]=(M-c)/l,x[1]=(w-f)/u,x[2]=(T-f)/u}y(this,Sp,new Float32Array([c,f,l,u])),y(this,Ap,[p,g]),y(this,Tp,A)}getOutlines(){h(this,ko).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of h(this,ko))t[3]?(e.push(...E(this,Yn,vk).call(this,t)),E(this,Yn,oC).call(this,t)):(E(this,Yn,hC).call(this,t),e.push(...E(this,Yn,vk).call(this,t)));return E(this,Yn,sC).call(this,e)}}Sp=new WeakMap,Ap=new WeakMap,Tp=new WeakMap,ko=new WeakMap,Ti=new WeakMap,Yn=new WeakSet,sC=function(e){const t=[],n=new Set;for(const o of e){const[l,u,c]=o;t.push([l,u,o],[l,c,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const u=t[o][2],c=t[o+1][2];u.push(c),c.push(u),n.add(u),n.add(c)}const i=[];let s;for(;n.size>0;){const o=n.values().next().value;let[l,u,c,f,p]=o;n.delete(o);let g=l,b=u;for(s=[l,c],i.push(s);;){let A;if(n.has(f))A=f;else if(n.has(p))A=p;else break;n.delete(A),[l,u,c,f,p]=A,g!==l&&(s.push(g,b,l,b===u?u:c),g=l),b=b===u?c:u}s.push(g,b)}return new HN(i,h(this,Sp),h(this,Ap),h(this,Tp))},Sv=function(e){const t=h(this,Ti);let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,o=t[s][0];if(o===e)return s;o<e?n=s+1:i=s-1}return i+1},oC=function([,e,t]){const n=E(this,Yn,Sv).call(this,e);h(this,Ti).splice(n,0,[e,t])},hC=function([,e,t]){const n=E(this,Yn,Sv).call(this,e);for(let i=n;i<h(this,Ti).length;i++){const[s,o]=h(this,Ti)[i];if(s!==e)break;if(s===e&&o===t){h(this,Ti).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,o]=h(this,Ti)[i];if(s!==e)break;if(s===e&&o===t){h(this,Ti).splice(i,1);return}}},vk=function(e){const[t,n,i]=e,s=[[t,n,i]],o=E(this,Yn,Sv).call(this,i);for(let l=0;l<o;l++){const[u,c]=h(this,Ti)[l];for(let f=0,p=s.length;f<p;f++){const[,g,b]=s[f];if(!(c<=g||b<=u)){if(g>=u){if(b>c)s[f][1]=c;else{if(p===1)return[];s.splice(f,1),f--,p--}continue}s[f][2]=u,b>c&&s.push([t,c,b])}}}return s};var Ep,Gu;class HN extends ie{constructor(t,n,i,s){super();S(this,Ep);S(this,Gu);y(this,Gu,t),y(this,Ep,n),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const n of h(this,Gu)){let[i,s]=n;t.push(`M${i} ${s}`);for(let o=2;o<n.length;o+=2){const l=n[o],u=n[o+1];l===i?(t.push(`V${u}`),s=u):u===s&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,n,i,s],o){const l=[],u=i-t,c=s-n;for(const f of h(this,Gu)){const p=new Array(f.length);for(let g=0;g<f.length;g+=2)p[g]=t+f[g]*u,p[g+1]=s-f[g+1]*c;l.push(p)}return l}get box(){return h(this,Ep)}get classNamesForOutlining(){return["highlightOutline"]}}Ep=new WeakMap,Gu=new WeakMap;class yk extends fy{newFreeDrawOutline(e,t,n,i,s,o){return new UN(e,t,n,i,s,o)}}class UN extends iC{newOutliner(e,t,n,i,s,o=0){return new yk(e,t,n,i,s,o)}}var Yu,Cp,us,ml,Pp,aa,Lp,Mp,fl,Sa,Aa,mn,Ku,$u,Ln,qu,ei,jp,Te,bk,Av,lC,dC,uC,_k,dh,ri,sd,cC,Tv,Ev,mC,fC,pC,gC,vC;const He=class He extends st{constructor(t){super({...t,name:"highlightEditor"});S(this,Te);S(this,Yu,null);S(this,Cp,0);S(this,us);S(this,ml,null);S(this,Pp,null);S(this,aa,null);S(this,Lp,null);S(this,Mp,0);S(this,fl,null);S(this,Sa,null);S(this,Aa,null);S(this,mn,!1);S(this,Ku,null);S(this,$u,null);S(this,Ln,null);S(this,qu,"");S(this,ei);S(this,jp,"");this.color=t.color||He._defaultColor,y(this,ei,t.thickness||He._defaultThickness),this.opacity=t.opacity||He._defaultOpacity,y(this,us,t.boxes||null),y(this,jp,t.methodOfCreation||""),y(this,qu,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(y(this,mn,!0),E(this,Te,Av).call(this,t),E(this,Te,dh).call(this)):h(this,us)&&(y(this,Yu,t.anchorNode),y(this,Cp,t.anchorOffset),y(this,Lp,t.focusNode),y(this,Mp,t.focusOffset),E(this,Te,bk).call(this),E(this,Te,dh).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=He.prototype;return Ae(this,"_keyboardManager",new Gp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,mn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:h(this,ei),methodOfCreation:h(this,jp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;st.initialize(t,n),He._defaultColor||(He._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case je.HIGHLIGHT_COLOR:He._defaultColor=n;break;case je.HIGHLIGHT_THICKNESS:He._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return h(this,$u)}get commentButtonPosition(){return h(this,Ku)}updateParams(t,n){switch(t){case je.HIGHLIGHT_COLOR:E(this,Te,lC).call(this,n);break;case je.HIGHLIGHT_THICKNESS:E(this,Te,dC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[je.HIGHLIGHT_COLOR,He._defaultColor],[je.HIGHLIGHT_THICKNESS,He._defaultThickness]]}get propertiesToUpdate(){return[[je.HIGHLIGHT_COLOR,this.color||He._defaultColor],[je.HIGHLIGHT_THICKNESS,h(this,ei)||He._defaultThickness],[je.HIGHLIGHT_FREE,h(this,mn)]]}onUpdatedColor(){var t,n;(t=this.parent)==null||t.drawLayer.updateProperties(h(this,Aa),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=h(this,Pp))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",y(this,Pp,new Jm({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,Te,Ev).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,E(this,Te,Ev).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){E(this,Te,_k).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,Te,dh).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?E(this,Te,_k).call(this):t&&(E(this,Te,dh).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,o,l;const{drawLayer:n}=this.parent;let i;h(this,mn)?(t=(t-this.rotation+360)%360,i=E(s=He,ri,sd).call(s,h(this,Sa).box,t)):i=E(o=He,ri,sd).call(o,[this.x,this.y,this.width,this.height],t),n.updateProperties(h(this,Aa),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(h(this,Ln),{bbox:E(l=He,ri,sd).call(l,h(this,aa).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();h(this,qu)&&(t.setAttribute("aria-label",h(this,qu)),t.setAttribute("role","mark")),h(this,mn)?t.classList.add("free"):this.div.addEventListener("keydown",E(this,Te,cC).bind(this),{signal:this._uiManager._signal});const n=y(this,fl,document.createElement("div"));return t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=h(this,ml),this.setDims(this.width,this.height),DT(this,h(this,fl),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(h(this,Ln),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(h(this,Ln),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:E(this,Te,Tv).call(this,!0);break;case 1:case 3:E(this,Te,Tv).call(this,!1);break}}select(){var t;super.select(),h(this,Ln)&&((t=this.parent)==null||t.drawLayer.updateProperties(h(this,Ln),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),h(this,Ln)&&((t=this.parent)==null||t.drawLayer.updateProperties(h(this,Ln),{rootClass:{selected:!1}}),h(this,mn)||E(this,Te,Tv).call(this,!1))}get _mustFixPosition(){return!h(this,mn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(h(this,Aa),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(h(this,Ln),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:s,y:o}){const{x:l,y:u,width:c,height:f}=i.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),b=A=>{p.abort(),E(this,ri,gC).call(this,t,A)};window.addEventListener("blur",b,{signal:g}),window.addEventListener("pointerup",b,{signal:g}),window.addEventListener("pointerdown",yt,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Da,{signal:g}),i.addEventListener("pointermove",E(this,ri,pC).bind(this,t),{signal:g}),this._freeHighlight=new yk({x:s,y:o},[l,u,c,f],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var x,M,w,T;let s=null;if(t instanceof GE){const{data:{quadPoints:C,rect:P,rotation:I,id:N,color:O,opacity:D,popupRef:U,richText:H,contentsObj:V,creationDate:Z,modificationDate:he},parent:{page:{pageNumber:Q}}}=t;s=t={annotationType:be.HIGHLIGHT,color:Array.from(O),opacity:D,quadPoints:C,boxes:null,pageIndex:Q-1,rect:P.slice(0),rotation:I,annotationElementId:N,id:N,deleted:!1,popupRef:U,richText:H,comment:(V==null?void 0:V.str)||null,creationDate:Z,modificationDate:he}}else if(t instanceof q0){const{data:{inkLists:C,rect:P,rotation:I,id:N,color:O,borderStyle:{rawWidth:D},popupRef:U,richText:H,contentsObj:V,creationDate:Z,modificationDate:he},parent:{page:{pageNumber:Q}}}=t;s=t={annotationType:be.HIGHLIGHT,color:Array.from(O),thickness:D,inkLists:C,boxes:null,pageIndex:Q-1,rect:P.slice(0),rotation:I,annotationElementId:N,id:N,deleted:!1,popupRef:U,richText:H,comment:(V==null?void 0:V.str)||null,creationDate:Z,modificationDate:he}}const{color:o,quadPoints:l,inkLists:u,opacity:c}=t,f=await super.deserialize(t,n,i);f.color=re.makeHexColor(...o),f.opacity=c||1,u&&y(f,ei,t.thickness),f._initialData=s,t.comment&&f.setCommentData(t);const[p,g]=f.pageDimensions,[b,A]=f.pageTranslation;if(l){const C=y(f,us,[]);for(let P=0;P<l.length;P+=8)C.push({x:(l[P]-b)/p,y:1-(l[P+1]-A)/g,width:(l[P+2]-l[P])/p,height:(l[P+1]-l[P+5])/g});E(x=f,Te,bk).call(x),E(M=f,Te,dh).call(M),f.rotate(f.rotation)}else if(u){y(f,mn,!0);const C=u[0],P={x:C[0]-b,y:g-(C[1]-A)},I=new yk(P,[0,0,p,g],1,h(f,ei)/2,!0,.001);for(let D=0,U=C.length;D<U;D+=2)P.x=C[D]-b,P.y=g-(C[D+1]-A),I.add(P);const{id:N,clipPathId:O}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:I.toSVGPath()}},!0,!0);E(w=f,Te,Av).call(w,{highlightOutlines:I.getOutlines(),highlightId:N,clipPathId:O}),E(T=f,Te,dh).call(T),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=st._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:n,opacity:this.opacity,thickness:h(this,ei),quadPoints:E(this,Te,mC).call(this),outlines:E(this,Te,fC).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!E(this,Te,vC).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Yu=new WeakMap,Cp=new WeakMap,us=new WeakMap,ml=new WeakMap,Pp=new WeakMap,aa=new WeakMap,Lp=new WeakMap,Mp=new WeakMap,fl=new WeakMap,Sa=new WeakMap,Aa=new WeakMap,mn=new WeakMap,Ku=new WeakMap,$u=new WeakMap,Ln=new WeakMap,qu=new WeakMap,ei=new WeakMap,jp=new WeakMap,Te=new WeakSet,bk=function(){const t=new gk(h(this,us),.001);y(this,Sa,t.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,Sa).box;const n=new gk(h(this,us),.0025,.001,this._uiManager.direction==="ltr");y(this,aa,n.getOutlines());const{firstPoint:i}=h(this,Sa);y(this,Ku,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=h(this,aa);y(this,$u,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Av=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var g,b;if(y(this,Sa,t),y(this,aa,t.getNewOutline(h(this,ei)/2+1.5,.0025)),n>=0)y(this,Aa,n),y(this,ml,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),y(this,Ln,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,aa).box,path:{d:h(this,aa).toSVGPath()}},!0));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,Aa),{bbox:E(g=He,ri,sd).call(g,h(this,Sa).box,(A-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,Ln),{bbox:E(b=He,ri,sd).call(b,h(this,aa).box,A),path:{d:h(this,aa).toSVGPath()}})}const[o,l,u,c]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=c;break;case 90:{const[A,x]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*x/A,this.height=c*A/x;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=c;break;case 270:{const[A,x]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*x/A,this.height=c*A/x;break}}const{firstPoint:f}=t;y(this,Ku,[(f[0]-o)/u,(f[1]-l)/c]);const{lastPoint:p}=h(this,aa);y(this,$u,[(p[0]-o)/u,(p[1]-l)/c])},lC=function(t){const n=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:n.bind(this,t,He._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},dC=function(t){const n=h(this,ei),i=s=>{y(this,ei,s),E(this,Te,uC).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},uC=function(t){h(this,mn)&&(E(this,Te,Av).call(this,{highlightOutlines:h(this,Sa).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},_k=function(){h(this,Aa)===null||!this.parent||(this.parent.drawLayer.remove(h(this,Aa)),y(this,Aa,null),this.parent.drawLayer.remove(h(this,Ln)),y(this,Ln,null))},dh=function(t=this.parent){h(this,Aa)===null&&({id:Ht(this,Aa)._,clipPathId:Ht(this,ml)._}=t.drawLayer.draw({bbox:h(this,Sa).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:h(this,mn)},path:{d:h(this,Sa).toSVGPath()}},!1,!0),y(this,Ln,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,mn)},bbox:h(this,aa).box,path:{d:h(this,aa).toSVGPath()}},h(this,mn))),h(this,fl)&&(h(this,fl).style.clipPath=h(this,ml)))},ri=new WeakSet,sd=function([t,n,i,s],o){switch(o){case 90:return[1-n-s,t,s,i];case 180:return[1-t-i,1-n-s,i,s];case 270:return[n,1-t-i,s,i]}return[t,n,i,s]},cC=function(t){He._keyboardManager.exec(this,t)},Tv=function(t){if(!h(this,Yu))return;const n=window.getSelection();t?n.setPosition(h(this,Yu),h(this,Cp)):n.setPosition(h(this,Lp),h(this,Mp))},Ev=function(){return h(this,mn)?this.rotation:0},mC=function(){if(h(this,mn))return null;const[t,n]=this.pageDimensions,[i,s]=this.pageTranslation,o=h(this,us),l=new Float32Array(o.length*8);let u=0;for(const{x:c,y:f,width:p,height:g}of o){const b=c*t+i,A=(1-f)*n+s;l[u]=l[u+4]=b,l[u+1]=l[u+3]=A,l[u+2]=l[u+6]=b+p*t,l[u+5]=l[u+7]=A-g*n,u+=8}return l},fC=function(t){return h(this,Sa).serialize(t,E(this,Te,Ev).call(this))},pC=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},gC=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},vC=function(t){const{color:n}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==n[s])},S(He,ri),K(He,"_defaultColor",null),K(He,"_defaultOpacity",1),K(He,"_defaultThickness",12),K(He,"_type","highlight"),K(He,"_editorType",be.HIGHLIGHT),K(He,"_freeHighlightId",-1),K(He,"_freeHighlight",null),K(He,"_freeHighlightClipId","");let py=He;var pl;class yC{constructor(){S(this,pl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){h(this,pl)[e]=t}toSVGProperties(){const e=h(this,pl);return y(this,pl,Object.create(null)),{root:e}}reset(){y(this,pl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){tt("Not implemented")}}pl=new WeakMap;var Ta,Zu,Xt,gl,vl,xo,So,Ao,yl,De,wk,kk,xk,gm,bC,Cv,vm,od;const oe=class oe extends st{constructor(t){super(t);S(this,De);S(this,Ta,null);S(this,Zu);K(this,"_colorPicker",null);K(this,"_drawId",null);y(this,Zu,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(E(this,De,wk).call(this,t),E(this,De,gm).call(this))}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[s,o]of Object.entries(n))i.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){tt("Not implemented")}static get typesMap(){tt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(h(oe,Xt).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,n[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,n[s]]);return t}_updateProperty(t,n,i){const s=this._drawingOptions,o=s[n],l=u=>{var f;s.updateProperty(n,u);const c=h(this,Ta).updateProperty(n,u);c&&E(this,De,vm).call(this,c),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(h(this,Ta).getPathResizingSVGProperties(E(this,De,Cv).call(this)),{bbox:E(this,De,od).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(h(this,Ta).getPathResizedSVGProperties(E(this,De,Cv).call(this)),{bbox:E(this,De,od).call(this)}))}_onTranslating(t,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:E(this,De,od).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(h(this,Ta).getPathTranslatedSVGProperties(E(this,De,Cv).call(this),this.parentDimensions),{bbox:E(this,De,od).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,Zu)&&(y(this,Zu,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){E(this,De,xk).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,De,gm).call(this),E(this,De,vm).call(this,h(this,Ta).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),E(this,De,xk).call(this)):t&&(this._uiManager.addShouldRescale(this),E(this,De,gm).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties({bbox:E(this,De,od).call(this)},h(this,Ta).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&E(this,De,vm).call(this,h(this,Ta).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,s,o){tt("Not implemented")}static startDrawing(t,n,i,s){var M;const{target:o,offsetX:l,offsetY:u,pointerId:c,pointerType:f}=s;if(h(oe,So)&&h(oe,So)!==f)return;const{viewport:{rotation:p}}=t,{width:g,height:b}=o.getBoundingClientRect(),A=y(oe,gl,new AbortController),x=t.combinedSignal(A);if(h(oe,xo)||y(oe,xo,c),h(oe,So)??y(oe,So,f),window.addEventListener("pointerup",w=>{var T;h(oe,xo)===w.pointerId?this._endDraw(w):(T=h(oe,Ao))==null||T.delete(w.pointerId)},{signal:x}),window.addEventListener("pointercancel",w=>{var T;h(oe,xo)===w.pointerId?this._currentParent.endDrawingSession():(T=h(oe,Ao))==null||T.delete(w.pointerId)},{signal:x}),window.addEventListener("pointerdown",w=>{h(oe,So)===w.pointerType&&((h(oe,Ao)||y(oe,Ao,new Set)).add(w.pointerId),h(oe,Xt).isCancellable()&&(h(oe,Xt).removeLastElement(),h(oe,Xt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Da,{signal:x}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),o.addEventListener("touchmove",w=>{w.timeStamp===h(oe,yl)&&yt(w)},{signal:x}),t.toggleDrawing(),(M=n._editorUndoBar)==null||M.hide(),h(oe,Xt)){t.drawLayer.updateProperties(this._currentDrawId,h(oe,Xt).startNew(l,u,g,b,p));return}n.updateUIForDefaultProperties(this),y(oe,Xt,this.createDrawerInstance(l,u,g,b,p)),y(oe,vl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(h(oe,vl).toSVGProperties(),h(oe,Xt).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(y(oe,yl,-1),!h(oe,Xt))return;const{offsetX:n,offsetY:i,pointerId:s}=t;if(h(oe,xo)===s){if(((o=h(oe,Ao))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,h(oe,Xt).add(n,i)),y(oe,yl,t.timeStamp),yt(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,y(oe,Xt,null),y(oe,vl,null),y(oe,So,null),y(oe,yl,NaN)),h(oe,gl)&&(h(oe,gl).abort(),y(oe,gl,null),y(oe,xo,NaN),y(oe,Ao,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,h(oe,Xt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=h(oe,Xt),s=this._currentDrawId,o=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(o))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:je.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(je.DRAW_STEP),!h(oe,Xt).isEmpty()){const{pageDimensions:[i,s],scale:o}=n,l=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:h(oe,Xt).getOutlines(i*o,s*o,o,this._INNER_MARGIN),drawingOptions:h(oe,vl),mustBeCommitted:!t});return this._cleanup(!0),l}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,s,o,l){tt("Not implemented")}static async deserialize(t,n,i){var p,g;const{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:u}}=n.viewport,c=this.deserializeDraw(l,u,s,o,this._INNER_MARGIN,t),f=await super.deserialize(t,n,i);return f.createDrawingOptions(t),E(p=f,De,wk).call(p,{drawOutlines:c}),E(g=f,De,gm).call(g),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[n,i]=this.pageTranslation,[s,o]=this.pageDimensions;return h(this,Ta).serialize([n,i,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Ta=new WeakMap,Zu=new WeakMap,Xt=new WeakMap,gl=new WeakMap,vl=new WeakMap,xo=new WeakMap,So=new WeakMap,Ao=new WeakMap,yl=new WeakMap,De=new WeakSet,wk=function({drawOutlines:t,drawId:n,drawingOptions:i}){y(this,Ta,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=E(this,De,kk).call(this,t,this.parent),E(this,De,vm).call(this,t.box)},kk=function(t,n){const{id:i}=n.drawLayer.draw(oe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},xk=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},gm=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=E(this,De,kk).call(this,h(this,Ta),t)}},bC=function([t,n,i,s]){const{parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[n,1-t,i*(l/o),s*(o/l)];case 180:return[1-t,1-n,i,s];case 270:return[1-n,t,i*(l/o),s*(o/l)];default:return[t,n,i,s]}},Cv=function(){const{x:t,y:n,width:i,height:s,parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[1-n,t,i*(o/l),s*(l/o)];case 180:return[1-t,1-n,i,s];case 270:return[n,1-t,i*(o/l),s*(l/o)];default:return[t,n,i,s]}},vm=function(t){[this.x,this.y,this.width,this.height]=E(this,De,bC).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},od=function(){const{x:t,y:n,width:i,height:s,rotation:o,parentRotation:l,parentDimensions:[u,c]}=this;switch((o*4+l)/90){case 1:return[1-n-s,t,s,i];case 2:return[1-t-i,1-n-s,i,s];case 3:return[n,1-t-i,s,i];case 4:return[t,n-i*(u/c),s*(c/u),i*(u/c)];case 5:return[1-n,t,i*(u/c),s*(c/u)];case 6:return[1-t-s*(c/u),1-n,s*(c/u),i*(u/c)];case 7:return[n-i*(u/c),1-t-s*(c/u),i*(u/c),s*(c/u)];case 8:return[t-i,n-s,i,s];case 9:return[1-n,t-i,s,i];case 10:return[1-t,1-n,i,s];case 11:return[n-s,1-t,s,i];case 12:return[t-s*(c/u),n,s*(c/u),i*(u/c)];case 13:return[1-n-i*(u/c),t-s*(c/u),i*(u/c),s*(c/u)];case 14:return[1-t,1-n-i*(u/c),s*(c/u),i*(u/c)];case 15:return[n,1-t,i*(u/c),s*(c/u)];default:return[t,n,i,s]}},K(oe,"_currentDrawId",-1),K(oe,"_currentParent",null),S(oe,Xt,null),S(oe,gl,null),S(oe,vl,null),S(oe,xo,NaN),S(oe,So,null),S(oe,Ao,null),S(oe,yl,NaN),K(oe,"_INNER_MARGIN",3);let gy=oe;var fr,Qt,Jt,bl,Xu,Fn,fn,ti,_l,wl,kl,Qu,Pv;class WN{constructor(e,t,n,i,s,o){S(this,Qu);S(this,fr,new Float64Array(6));S(this,Qt);S(this,Jt);S(this,bl);S(this,Xu);S(this,Fn);S(this,fn,"");S(this,ti,0);S(this,_l,new Kp);S(this,wl);S(this,kl);y(this,wl,n),y(this,kl,i),y(this,bl,s),y(this,Xu,o),[e,t]=E(this,Qu,Pv).call(this,e,t);const l=y(this,Qt,[NaN,NaN,NaN,NaN,e,t]);y(this,Fn,[e,t]),y(this,Jt,[{line:l,points:h(this,Fn)}]),h(this,fr).set(l,0)}updateProperty(e,t){e==="stroke-width"&&y(this,Xu,t)}isEmpty(){return!h(this,Jt)||h(this,Jt).length===0}isCancellable(){return h(this,Fn).length<=10}add(e,t){[e,t]=E(this,Qu,Pv).call(this,e,t);const[n,i,s,o]=h(this,fr).subarray(2,6),l=e-s,u=t-o;return Math.hypot(h(this,wl)*l,h(this,kl)*u)<=2?null:(h(this,Fn).push(e,t),isNaN(n)?(h(this,fr).set([s,o,e,t],2),h(this,Qt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(h(this,fr)[0])&&h(this,Qt).splice(6,6),h(this,fr).set([n,i,s,o,e,t],0),h(this,Qt).push(...ie.createBezierPoints(n,i,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(h(this,Fn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,s){y(this,wl,n),y(this,kl,i),y(this,bl,s),[e,t]=E(this,Qu,Pv).call(this,e,t);const o=y(this,Qt,[NaN,NaN,NaN,NaN,e,t]);y(this,Fn,[e,t]);const l=h(this,Jt).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),h(this,Jt).push({line:o,points:h(this,Fn)}),h(this,fr).set(o,0),y(this,ti,0),this.toSVGPath(),null}getLastElement(){return h(this,Jt).at(-1)}setLastElement(e){return h(this,Jt)?(h(this,Jt).push(e),y(this,Qt,e.line),y(this,Fn,e.points),y(this,ti,0),{path:{d:this.toSVGPath()}}):h(this,_l).setLastElement(e)}removeLastElement(){if(!h(this,Jt))return h(this,_l).removeLastElement();h(this,Jt).pop(),y(this,fn,"");for(let e=0,t=h(this,Jt).length;e<t;e++){const{line:n,points:i}=h(this,Jt)[e];y(this,Qt,n),y(this,Fn,i),y(this,ti,0),this.toSVGPath()}return{path:{d:h(this,fn)}}}toSVGPath(){const e=ie.svgRound(h(this,Qt)[4]),t=ie.svgRound(h(this,Qt)[5]);if(h(this,Fn).length===2)return y(this,fn,`${h(this,fn)} M ${e} ${t} Z`),h(this,fn);if(h(this,Fn).length<=6){const i=h(this,fn).lastIndexOf("M");y(this,fn,`${h(this,fn).slice(0,i)} M ${e} ${t}`),y(this,ti,6)}if(h(this,Fn).length===4){const i=ie.svgRound(h(this,Qt)[10]),s=ie.svgRound(h(this,Qt)[11]);return y(this,fn,`${h(this,fn)} L ${i} ${s}`),y(this,ti,12),h(this,fn)}const n=[];h(this,ti)===0&&(n.push(`M ${e} ${t}`),y(this,ti,6));for(let i=h(this,ti),s=h(this,Qt).length;i<s;i+=6){const[o,l,u,c,f,p]=h(this,Qt).slice(i,i+6).map(ie.svgRound);n.push(`C${o} ${l} ${u} ${c} ${f} ${p}`)}return y(this,fn,h(this,fn)+n.join(" ")),y(this,ti,h(this,Qt).length),h(this,fn)}getOutlines(e,t,n,i){const s=h(this,Jt).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),h(this,_l).build(h(this,Jt),e,t,n,h(this,bl),h(this,Xu),i),y(this,fr,null),y(this,Qt,null),y(this,Jt,null),y(this,fn,null),h(this,_l)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}fr=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,bl=new WeakMap,Xu=new WeakMap,Fn=new WeakMap,fn=new WeakMap,ti=new WeakMap,_l=new WeakMap,wl=new WeakMap,kl=new WeakMap,Qu=new WeakSet,Pv=function(e,t){return ie._normalizePoint(e,t,h(this,wl),h(this,kl),h(this,bl))};var zn,Ip,Np,Ea,pr,gr,Ju,ec,xl,vn,jr,_C,wC,kC;class Kp extends ie{constructor(){super(...arguments);S(this,vn);S(this,zn);S(this,Ip,0);S(this,Np);S(this,Ea);S(this,pr);S(this,gr);S(this,Ju);S(this,ec);S(this,xl)}build(t,n,i,s,o,l,u){y(this,pr,n),y(this,gr,i),y(this,Ju,s),y(this,ec,o),y(this,xl,l),y(this,Np,u??0),y(this,Ea,t),E(this,vn,wC).call(this)}get thickness(){return h(this,xl)}setLastElement(t){return h(this,Ea).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,Ea).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of h(this,Ea)){if(t.push(`M${ie.svgRound(n[4])} ${ie.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${ie.svgRound(n[10])} ${ie.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[o,l,u,c,f,p]=n.subarray(i,i+6).map(ie.svgRound);t.push(`C${o} ${l} ${u} ${c} ${f} ${p}`)}}return t.join("")}serialize([t,n,i,s],o){const l=[],u=[],[c,f,p,g]=E(this,vn,_C).call(this);let b,A,x,M,w,T,C,P,I;switch(h(this,ec)){case 0:I=ie._rescale,b=t,A=n+s,x=i,M=-s,w=t+c*i,T=n+(1-f-g)*s,C=t+(c+p)*i,P=n+(1-f)*s;break;case 90:I=ie._rescaleAndSwap,b=t,A=n,x=i,M=s,w=t+f*i,T=n+c*s,C=t+(f+g)*i,P=n+(c+p)*s;break;case 180:I=ie._rescale,b=t+i,A=n,x=-i,M=s,w=t+(1-c-p)*i,T=n+f*s,C=t+(1-c)*i,P=n+(f+g)*s;break;case 270:I=ie._rescaleAndSwap,b=t+i,A=n+s,x=-i,M=-s,w=t+(1-f-g)*i,T=n+(1-c-p)*s,C=t+(1-f)*i,P=n+(1-c)*s;break}for(const{line:N,points:O}of h(this,Ea))l.push(I(N,b,A,x,M,o?new Array(N.length):null)),u.push(I(O,b,A,x,M,o?new Array(O.length):null));return{lines:l,points:u,rect:[w,T,C,P]}}static deserialize(t,n,i,s,o,{paths:{lines:l,points:u},rotation:c,thickness:f}){const p=[];let g,b,A,x,M;switch(c){case 0:M=ie._rescale,g=-t/i,b=n/s+1,A=1/i,x=-1/s;break;case 90:M=ie._rescaleAndSwap,g=-n/s,b=-t/i,A=1/s,x=1/i;break;case 180:M=ie._rescale,g=t/i+1,b=-n/s,A=-1/i,x=1/s;break;case 270:M=ie._rescaleAndSwap,g=n/s+1,b=t/i+1,A=-1/s,x=-1/i;break}if(!l){l=[];for(const T of u){const C=T.length;if(C===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1]]));continue}if(C===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1],NaN,NaN,NaN,NaN,T[2],T[3]]));continue}const P=new Float32Array(3*(C-2));l.push(P);let[I,N,O,D]=T.subarray(0,4);P.set([NaN,NaN,NaN,NaN,I,N],0);for(let U=4;U<C;U+=2){const H=T[U],V=T[U+1];P.set(ie.createBezierPoints(I,N,O,D,H,V),(U-2)*3),[I,N,O,D]=[O,D,H,V]}}}for(let T=0,C=l.length;T<C;T++)p.push({line:M(l[T].map(P=>P??NaN),g,b,A,x),points:M(u[T].map(P=>P??NaN),g,b,A,x)});const w=new this.prototype.constructor;return w.build(p,i,s,1,c,f,o),w}get box(){return h(this,zn)}updateProperty(t,n){return t==="stroke-width"?E(this,vn,kC).call(this,n):null}updateParentDimensions([t,n],i){const[s,o]=E(this,vn,jr).call(this);y(this,pr,t),y(this,gr,n),y(this,Ju,i);const[l,u]=E(this,vn,jr).call(this),c=l-s,f=u-o,p=h(this,zn);return p[0]-=c,p[1]-=f,p[2]+=2*c,p[3]+=2*f,p}updateRotation(t){return y(this,Ip,t),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,zn).map(ie.svgRound).join(" ")}get defaultProperties(){const[t,n]=h(this,zn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ie.svgRound(t)} ${ie.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=h(this,zn);let i=0,s=0,o=0,l=0,u=0,c=0;switch(h(this,Ip)){case 90:s=n/t,o=-t/n,u=t;break;case 180:i=-1,l=-1,u=t,c=n;break;case 270:s=-n/t,o=t/n,c=n;break;default:return""}return`matrix(${i} ${s} ${o} ${l} ${ie.svgRound(u)} ${ie.svgRound(c)})`}getPathResizingSVGProperties([t,n,i,s]){const[o,l]=E(this,vn,jr).call(this),[u,c,f,p]=h(this,zn);if(Math.abs(f-o)<=ie.PRECISION||Math.abs(p-l)<=ie.PRECISION){const M=t+i/2-(u+f/2),w=n+s/2-(c+p/2);return{path:{"transform-origin":`${ie.svgRound(t)} ${ie.svgRound(n)}`,transform:`${this.rotationTransform} translate(${M} ${w})`}}}const g=(i-2*o)/(f-2*o),b=(s-2*l)/(p-2*l),A=f/i,x=p/s;return{path:{"transform-origin":`${ie.svgRound(u)} ${ie.svgRound(c)}`,transform:`${this.rotationTransform} scale(${A} ${x}) translate(${ie.svgRound(o)} ${ie.svgRound(l)}) scale(${g} ${b}) translate(${ie.svgRound(-o)} ${ie.svgRound(-l)})`}}}getPathResizedSVGProperties([t,n,i,s]){const[o,l]=E(this,vn,jr).call(this),u=h(this,zn),[c,f,p,g]=u;if(u[0]=t,u[1]=n,u[2]=i,u[3]=s,Math.abs(p-o)<=ie.PRECISION||Math.abs(g-l)<=ie.PRECISION){const w=t+i/2-(c+p/2),T=n+s/2-(f+g/2);for(const{line:C,points:P}of h(this,Ea))ie._translate(C,w,T,C),ie._translate(P,w,T,P);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ie.svgRound(t)} ${ie.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(i-2*o)/(p-2*o),A=(s-2*l)/(g-2*l),x=-b*(c+o)+t+o,M=-A*(f+l)+n+l;if(b!==1||A!==1||x!==0||M!==0)for(const{line:w,points:T}of h(this,Ea))ie._rescale(w,x,M,b,A,w),ie._rescale(T,x,M,b,A,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ie.svgRound(t)} ${ie.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[s,o]=i,l=h(this,zn),u=t-l[0],c=n-l[1];if(h(this,pr)===s&&h(this,gr)===o)for(const{line:f,points:p}of h(this,Ea))ie._translate(f,u,c,f),ie._translate(p,u,c,p);else{const f=h(this,pr)/s,p=h(this,gr)/o;y(this,pr,s),y(this,gr,o);for(const{line:g,points:b}of h(this,Ea))ie._rescale(g,u,c,f,p,g),ie._rescale(b,u,c,f,p,b);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ie.svgRound(t)} ${ie.svgRound(n)}`}}}get defaultSVGProperties(){const t=h(this,zn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ie.svgRound(t[0])} ${ie.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}zn=new WeakMap,Ip=new WeakMap,Np=new WeakMap,Ea=new WeakMap,pr=new WeakMap,gr=new WeakMap,Ju=new WeakMap,ec=new WeakMap,xl=new WeakMap,vn=new WeakSet,jr=function(t=h(this,xl)){const n=h(this,Np)+t/2*h(this,Ju);return h(this,ec)%180===0?[n/h(this,pr),n/h(this,gr)]:[n/h(this,gr),n/h(this,pr)]},_C=function(){const[t,n,i,s]=h(this,zn),[o,l]=E(this,vn,jr).call(this,0);return[t+o,n+l,i-2*o,s-2*l]},wC=function(){const t=y(this,zn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of h(this,Ea)){if(s.length<=12){for(let u=4,c=s.length;u<c;u+=6)re.pointBoundingBox(s[u],s[u+1],t);continue}let o=s[4],l=s[5];for(let u=6,c=s.length;u<c;u+=6){const[f,p,g,b,A,x]=s.subarray(u,u+6);re.bezierBoundingBox(o,l,f,p,g,b,A,x,t),o=A,l=x}}const[n,i]=E(this,vn,jr).call(this);t[0]=Mn(t[0]-n,0,1),t[1]=Mn(t[1]-i,0,1),t[2]=Mn(t[2]+n,0,1),t[3]=Mn(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},kC=function(t){const[n,i]=E(this,vn,jr).call(this);y(this,xl,t);const[s,o]=E(this,vn,jr).call(this),[l,u]=[s-n,o-i],c=h(this,zn);return c[0]-=l,c[1]-=u,c[2]+=2*l,c[3]+=2*u,c};class rb extends yC{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:st._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new rb(this._viewParameters);return e.updateAll(this),e}}var Oy,xC;const Ad=class Ad extends gy{constructor(t){super({...t,name:"inkEditor"});S(this,Oy);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){st.initialize(t,n),this._defaultDrawingOptions=new rb(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ae(this,"typesMap",new Map([[je.INK_THICKNESS,"stroke-width"],[je.INK_COLOR,"stroke"],[je.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,s,o){return new WN(t,n,i,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,s,o,l){return Kp.deserialize(t,n,i,s,o,l)}static async deserialize(t,n,i){let s=null;if(t instanceof q0){const{data:{inkLists:l,rect:u,rotation:c,id:f,color:p,opacity:g,borderStyle:{rawWidth:b},popupRef:A,richText:x,contentsObj:M,creationDate:w,modificationDate:T},parent:{page:{pageNumber:C}}}=t;s=t={annotationType:be.INK,color:Array.from(p),thickness:b,opacity:g,paths:{points:l},boxes:null,pageIndex:C-1,rect:u.slice(0),rotation:c,annotationElementId:f,id:f,deleted:!1,popupRef:A,richText:x,comment:(M==null?void 0:M.str)||null,creationDate:w,modificationDate:T}}const o=await super.deserialize(t,n,i);return o._initialData=s,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new my(this)),[["colorPicker",this._colorPicker]]}get colorType(){return je.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=Ad.getDefaultDrawingOptions({stroke:re.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":l}}=this,u=Object.assign(super.serialize(t),{color:st._colorManager.convert(s),opacity:o,thickness:l,paths:{lines:n,points:i}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!E(this,Oy,xC).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};Oy=new WeakSet,xC=function(t){const{color:n,thickness:i,opacity:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,u)=>l!==n[u])||t.thickness!==i||t.opacity!==s||t.pageIndex!==o},K(Ad,"_type","ink"),K(Ad,"_editorType",be.INK),K(Ad,"_defaultDrawingOptions",null);let Sk=Ad;class Ak extends Kp{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Wg=8,$c=3;var Sl,Ue,Tk,Ei,SC,AC,Ek,Lv,TC,EC,CC,Ck,Pk,PC;class wr{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},s,o,l,u){let c=new OffscreenCanvas(1,1),f=c.getContext("2d",{alpha:!1});const p=200,g=f.font=`${n} ${i} ${p}px ${t}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:A,actualBoundingBoxAscent:x,actualBoundingBoxDescent:M,fontBoundingBoxAscent:w,fontBoundingBoxDescent:T,width:C}=f.measureText(e),P=1.5,I=Math.ceil(Math.max(Math.abs(b)+Math.abs(A)||0,C)*P),N=Math.ceil(Math.max(Math.abs(x)+Math.abs(M)||p,Math.abs(w)+Math.abs(T)||p)*P);c=new OffscreenCanvas(I,N),f=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=g,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,I,N),f.fillStyle="black",f.fillText(e,I*(P-1)/2,N*(3-P)/2);const O=E(this,Ue,Ck).call(this,f.getImageData(0,0,I,N).data),D=E(this,Ue,CC).call(this,O),U=E(this,Ue,Pk).call(this,D),H=E(this,Ue,Ek).call(this,O,I,N,U);return this.processDrawnLines({lines:{curves:H,width:I,height:N},pageWidth:s,pageHeight:o,rotation:l,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,s){const[o,l,u]=E(this,Ue,PC).call(this,e),[c,f]=E(this,Ue,EC).call(this,o,l,u,Math.hypot(l,u)*h(this,Sl).sigmaSFactor,h(this,Sl).sigmaR,h(this,Sl).kernelSize),p=E(this,Ue,Pk).call(this,f),g=E(this,Ue,Ek).call(this,c,l,u,p);return this.processDrawnLines({lines:{curves:g,width:l,height:u},pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:o,areContours:l}){i%180!==0&&([t,n]=[n,t]);const{curves:u,width:c,height:f}=e,p=e.thickness??0,g=[],b=Math.min(t/c,n/f),A=b/t,x=b/n,M=[];for(const{points:T}of u){const C=o?E(this,Ue,TC).call(this,T):T;if(!C)continue;M.push(C);const P=C.length,I=new Float32Array(P),N=new Float32Array(3*(P===2?2:P-2));if(g.push({line:N,points:I}),P===2){I[0]=C[0]*A,I[1]=C[1]*x,N.set([NaN,NaN,NaN,NaN,I[0],I[1]],0);continue}let[O,D,U,H]=C;O*=A,D*=x,U*=A,H*=x,I.set([O,D,U,H],0),N.set([NaN,NaN,NaN,NaN,O,D],0);for(let V=4;V<P;V+=2){const Z=I[V]=C[V]*A,he=I[V+1]=C[V+1]*x;N.set(ie.createBezierPoints(O,D,U,H,Z,he),(V-2)*3),[O,D,U,H]=[U,H,Z,he]}}if(g.length===0)return null;const w=l?new Ak:new Kp;return w.build(g,t,n,1,i,l?0:p,s),{outline:w,newCurves:M,areContours:l,thickness:p,width:c,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:s}){let o=1/0,l=-1/0,u=0;for(const C of e){u+=C.length;for(let P=2,I=C.length;P<I;P++){const N=C[P]-C[P-2];o=Math.min(o,N),l=Math.max(l,N)}}let c;o>=-128&&l<=127?c=Int8Array:o>=-32768&&l<=32767?c=Int16Array:c=Int32Array;const f=e.length,p=Wg+$c*f,g=new Uint32Array(p);let b=0;g[b++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*c.BYTES_PER_ELEMENT,g[b++]=0,g[b++]=i,g[b++]=s,g[b++]=t?0:1,g[b++]=Math.max(0,Math.floor(n??0)),g[b++]=f,g[b++]=c.BYTES_PER_ELEMENT;for(const C of e)g[b++]=C.length-2,g[b++]=C[0],g[b++]=C[1];const A=new CompressionStream("deflate-raw"),x=A.writable.getWriter();await x.ready,x.write(g);const M=c.prototype.constructor;for(const C of e){const P=new M(C.length-2);for(let I=2,N=C.length;I<N;I++)P[I-2]=C[I]-C[I-2];x.write(P)}x.close();const w=await new Response(A.readable).arrayBuffer(),T=new Uint8Array(w);return AT(T)}static async decompressSignature(e){try{const t=fI(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,l=0;for await(const C of n)o||(o=new Uint8Array(new Uint32Array(C.buffer,0,4)[0])),o.set(C,l),l+=C.length;const u=new Uint32Array(o.buffer,0,o.length>>2),c=u[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const f=u[2],p=u[3],g=u[4]===0,b=u[5],A=u[6],x=u[7],M=[],w=(Wg+$c*A)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(x){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(o.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(o.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(o.buffer,w);break}l=0;for(let C=0;C<A;C++){const P=u[$c*C+Wg],I=new Float32Array(P+2);M.push(I);for(let N=0;N<$c-1;N++)I[N]=u[$c*C+Wg+N+1];for(let N=0;N<P;N++)I[N+2]=I[N]+T[l++]}return{areContours:g,thickness:b,outlines:M,width:f,height:p}}catch(t){return _e(`decompressSignature: ${t}`),null}}}Sl=new WeakMap,Ue=new WeakSet,Tk=function(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i},Ei=new WeakMap,SC=function(e,t,n,i,s,o,l){const u=E(this,Ue,Tk).call(this,n,i,s,o);for(let c=0;c<8;c++){const f=(-c+u-l+16)%8,p=h(this,Ei)[2*f],g=h(this,Ei)[2*f+1];if(e[(n+p)*t+(i+g)]!==0)return f}return-1},AC=function(e,t,n,i,s,o,l){const u=E(this,Ue,Tk).call(this,n,i,s,o);for(let c=0;c<8;c++){const f=(c+u+l+16)%8,p=h(this,Ei)[2*f],g=h(this,Ei)[2*f+1];if(e[(n+p)*t+(i+g)]!==0)return f}return-1},Ek=function(e,t,n,i){const s=e.length,o=new Int32Array(s);for(let f=0;f<s;f++)o[f]=e[f]<=i?1:0;for(let f=1;f<n-1;f++)o[f*t]=o[f*t+t-1]=0;for(let f=0;f<t;f++)o[f]=o[t*n-1-f]=0;let l=1,u;const c=[];for(let f=1;f<n-1;f++){u=1;for(let p=1;p<t-1;p++){const g=f*t+p,b=o[g];if(b===0)continue;let A=f,x=p;if(b===1&&o[g-1]===0)l+=1,x-=1;else if(b>=1&&o[g+1]===0)l+=1,x+=1,b>1&&(u=b);else{b!==1&&(u=Math.abs(b));continue}const M=[p,f],w=x===p+1,T={isHole:w,points:M,id:l,parent:0};c.push(T);let C;for(const V of c)if(V.id===u){C=V;break}C?C.isHole?T.parent=w?C.parent:u:T.parent=w?u:C.parent:T.parent=w?u:0;const P=E(this,Ue,SC).call(this,o,t,f,p,A,x,0);if(P===-1){o[g]=-l,o[g]!==1&&(u=Math.abs(o[g]));continue}let I=h(this,Ei)[2*P],N=h(this,Ei)[2*P+1];const O=f+I,D=p+N;A=O,x=D;let U=f,H=p;for(;;){const V=E(this,Ue,AC).call(this,o,t,U,H,A,x,1);I=h(this,Ei)[2*V],N=h(this,Ei)[2*V+1];const Z=U+I,he=H+N;M.push(he,Z);const Q=U*t+H;if(o[Q+1]===0?o[Q]=-l:o[Q]===1&&(o[Q]=l),Z===f&&he===p&&U===O&&H===D){o[g]!==1&&(u=Math.abs(o[g]));break}else A=U,x=H,U=Z,H=he}}}return c},Lv=function(e,t,n,i){if(n-t<=4){for(let O=t;O<n-2;O+=2)i.push(e[O],e[O+1]);return}const s=e[t],o=e[t+1],l=e[n-4]-s,u=e[n-3]-o,c=Math.hypot(l,u),f=l/c,p=u/c,g=f*o-p*s,b=u/l,A=1/c,x=Math.atan(b),M=Math.cos(x),w=Math.sin(x),T=A*(Math.abs(M)+Math.abs(w)),C=A*(1-T+T**2),P=Math.max(Math.atan(Math.abs(w+M)*C),Math.atan(Math.abs(w-M)*C));let I=0,N=t;for(let O=t+2;O<n-2;O+=2){const D=Math.abs(g-f*e[O+1]+p*e[O]);D>I&&(N=O,I=D)}I>(c*P)**2?(E(this,Ue,Lv).call(this,e,t,N+2,i),E(this,Ue,Lv).call(this,e,N,n,i)):i.push(s,o)},TC=function(e){const t=[],n=e.length;return E(this,Ue,Lv).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},EC=function(e,t,n,i,s,o){const l=new Float32Array(o**2),u=-2*i**2,c=o>>1;for(let x=0;x<o;x++){const M=(x-c)**2;for(let w=0;w<o;w++)l[x*o+w]=Math.exp((M+(w-c)**2)/u)}const f=new Float32Array(256),p=-2*s**2;for(let x=0;x<256;x++)f[x]=Math.exp(x**2/p);const g=e.length,b=new Uint8Array(g),A=new Uint32Array(256);for(let x=0;x<n;x++)for(let M=0;M<t;M++){const w=x*t+M,T=e[w];let C=0,P=0;for(let N=0;N<o;N++){const O=x+N-c;if(!(O<0||O>=n))for(let D=0;D<o;D++){const U=M+D-c;if(U<0||U>=t)continue;const H=e[O*t+U],V=l[N*o+D]*f[Math.abs(H-T)];C+=H*V,P+=V}}const I=b[w]=Math.round(C/P);A[I]++}return[b,A]},CC=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},Ck=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let l=0,u=n.length;l<u;l++){const c=n[l]=e[l<<2];i=Math.max(i,c),s=Math.min(s,c)}const o=255/(i-s);for(let l=0,u=n.length;l<u;l++)n[l]=(n[l]-s)*o;return n},Pk=function(e){let t,n=-1/0,i=-1/0;const s=e.findIndex(u=>u!==0);let o=s,l=s;for(t=s;t<256;t++){const u=e[t];u>n&&(t-o>i&&(i=t-o,l=t-1),n=u,o=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t},PC=function(e){const t=e,{width:n,height:i}=e,{maxDim:s}=h(this,Sl);let o=n,l=i;if(n>s||i>s){let g=n,b=i,A=Math.log2(Math.max(n,i)/s);const x=Math.floor(A);A=A===x?x-1:x;for(let w=0;w<A;w++){o=Math.ceil(g/2),l=Math.ceil(b/2);const T=new OffscreenCanvas(o,l);T.getContext("2d").drawImage(e,0,0,g,b,0,0,o,l),g=o,b=l,e!==t&&e.close(),e=T.transferToImageBitmap()}const M=Math.min(s/o,s/l);o=Math.round(o*M),l=Math.round(l*M)}const c=new OffscreenCanvas(o,l).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,o,l),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,o,l);const f=c.getImageData(0,0,o,l).data;return[E(this,Ue,Ck).call(this,f),o,l]},S(wr,Ue),S(wr,Sl,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),S(wr,Ei,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class X0 extends yC{constructor(){super(),super.updateProperties({fill:st._defaultLineColor,"stroke-width":0})}clone(){const e=new X0;return e.updateAll(this),e}}class Q0 extends rb{constructor(e){super(e),super.updateProperties({stroke:st._defaultLineColor,"stroke-width":1})}clone(){const e=new Q0(this._viewParameters);return e.updateAll(this),e}}var To,vr,Eo,Al;const ua=class ua extends gy{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});S(this,To,!1);S(this,vr,null);S(this,Eo,null);S(this,Al,null);this._willKeepAspectRatio=!0,y(this,Eo,t.signatureData||null),y(this,vr,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){st.initialize(t,n),this._defaultDrawingOptions=new X0,this._defaultDrawnSignatureOptions=new Q0(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ae(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!h(this,vr)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(h(this,Eo)){const{lines:s,mustSmooth:o,areContours:l,description:u,uuid:c,heightInPage:f}=h(this,Eo),{rawDims:{pageWidth:p,pageHeight:g},rotation:b}=this.parent.viewport,A=wr.processDrawnLines({lines:s,pageWidth:p,pageHeight:g,rotation:b,innerMargin:ua._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(A,f,u,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:h(this,vr)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){y(this,Al,t),this.addEditToolbar()}getUuid(){return h(this,Al)}get description(){return h(this,vr)}set description(t){y(this,vr,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:s,height:o}=h(this,Eo),l=Math.max(s,o),u=wr.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:s,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,s){const{x:o,y:l}=this,{outline:u}=y(this,Eo,t);y(this,To,u instanceof Ak),this.description=i;let c;h(this,To)?c=ua.getDefaultDrawingOptions():(c=ua._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:c});const[,f]=this.pageDimensions;let p=n/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return wr.process(t,n,i,s,ua._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:s},rotation:o}=this.parent.viewport;return wr.extractContoursFromText(t,n,i,s,o,ua._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return wr.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:s,innerMargin:ua._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=ua.getDefaultDrawingOptions():(this._drawingOptions=ua._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:h(this,To),color:[0,0,0],thickness:h(this,To)?0:s});return this.addComment(o),t?(o.paths={lines:n,points:i},o.uuid=h(this,Al),o.isCopy=!0):o.lines=n,h(this,vr)&&(o.accessibilityData={type:"Figure",alt:h(this,vr)}),o}static deserializeDraw(t,n,i,s,o,l){return l.areContours?Ak.deserialize(t,n,i,s,o,l):Kp.deserialize(t,n,i,s,o,l)}static async deserialize(t,n,i){var o;const s=await super.deserialize(t,n,i);return y(s,To,t.areContours),s.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",y(s,Al,t.uuid),s}};To=new WeakMap,vr=new WeakMap,Eo=new WeakMap,Al=new WeakMap,K(ua,"_type","signature"),K(ua,"_editorType",be.SIGNATURE),K(ua,"_defaultDrawingOptions",null);let Lk=ua;var ct,en,Co,cs,Po,tc,ms,Tl,yr,Ca,nc,Be,ym,bm,Mv,jv,Iv,jk,Nv,LC;class Mk extends st{constructor(t){super({...t,name:"stampEditor"});S(this,Be);S(this,ct,null);S(this,en,null);S(this,Co,null);S(this,cs,null);S(this,Po,null);S(this,tc,"");S(this,ms,null);S(this,Tl,!1);S(this,yr,null);S(this,Ca,!1);S(this,nc,!1);y(this,cs,t.bitmapUrl),y(this,Po,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){st.initialize(t,n)}static isHandlingMimeForPasting(t){return hy.includes(t)}static paste(t,n){n.pasteEditor({mode:be.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:s,width:o,height:l,channels:s.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const c=u.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;h(this,en)&&(y(this,ct,null),this._uiManager.imageManager.deleteId(h(this,en)),(t=h(this,ms))==null||t.remove(),y(this,ms,null),h(this,yr)&&(clearTimeout(h(this,yr)),y(this,yr,null))),super.remove()}rebuild(){if(!this.parent){h(this,en)&&E(this,Be,Mv).call(this);return}super.rebuild(),this.div!==null&&(h(this,en)&&h(this,ms)===null&&E(this,Be,Mv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(h(this,Co)||h(this,ct)||h(this,cs)||h(this,Po)||h(this,en)||h(this,Tl))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),h(this,Tl)||(h(this,ct)?E(this,Be,jv).call(this):E(this,Be,Mv).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(y(this,en,i),s&&y(this,ct,s),y(this,Tl,!1),E(this,Be,jv).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;h(this,yr)!==null&&clearTimeout(h(this,yr)),y(this,yr,setTimeout(()=>{y(this,yr,null),E(this,Be,jk).call(this)},200))}copyCanvas(t,n,i=!1){t||(t=224);const{width:s,height:o}=h(this,ct),l=new Oi;let u=h(this,ct),c=s,f=o,p=null;if(n){if(s>n||o>n){const O=Math.min(n/s,n/o);c=Math.floor(s*O),f=Math.floor(o*O)}p=document.createElement("canvas");const b=p.width=Math.ceil(c*l.sx),A=p.height=Math.ceil(f*l.sy);h(this,Ca)||(u=E(this,Be,Iv).call(this,b,A));const x=p.getContext("2d");x.filter=this._uiManager.hcmFilter;let M="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":vI.isDarkMode&&(M="#8f8f9d",w="#42414d");const T=15,C=T*l.sx,P=T*l.sy,I=new OffscreenCanvas(C*2,P*2),N=I.getContext("2d");N.fillStyle=M,N.fillRect(0,0,C*2,P*2),N.fillStyle=w,N.fillRect(0,0,C,P),N.fillRect(C,P,C,P),x.fillStyle=x.createPattern(I,"repeat"),x.fillRect(0,0,b,A),x.drawImage(u,0,0,u.width,u.height,0,0,b,A)}let g=null;if(i){let b,A;if(l.symmetric&&u.width<t&&u.height<t)b=u.width,A=u.height;else if(u=h(this,ct),s>t||o>t){const w=Math.min(t/s,t/o);b=Math.floor(s*w),A=Math.floor(o*w),h(this,Ca)||(u=E(this,Be,Iv).call(this,b,A))}const M=new OffscreenCanvas(b,A).getContext("2d",{willReadFrequently:!0});M.drawImage(u,0,0,u.width,u.height,0,0,b,A),g={width:b,height:A,data:M.getImageData(0,0,b,A).data}}return{canvas:p,width:c,height:f,imageData:g}}static async deserialize(t,n,i){var M;let s=null,o=!1;if(t instanceof YE){const{data:{rect:w,rotation:T,id:C,structParent:P,popupRef:I,richText:N,contentsObj:O,creationDate:D,modificationDate:U},container:H,parent:{page:{pageNumber:V}},canvas:Z}=t;let he,Q;Z?(delete t.canvas,{id:he,bitmap:Q}=i.imageManager.getFromCanvas(H.id,Z),Z.remove()):(o=!0,t._hasNoCanvas=!0);const fe=((M=await n._structTree.getAriaAttributes(`${z0}${C}`))==null?void 0:M.get("aria-label"))||"";s=t={annotationType:be.STAMP,bitmapId:he,bitmap:Q,pageIndex:V-1,rect:w.slice(0),rotation:T,annotationElementId:C,id:C,deleted:!1,accessibilityData:{decorative:!1,altText:fe},isSvg:!1,structParent:P,popupRef:I,richText:N,comment:(O==null?void 0:O.str)||null,creationDate:D,modificationDate:U}}const l=await super.deserialize(t,n,i),{rect:u,bitmap:c,bitmapUrl:f,bitmapId:p,isSvg:g,accessibilityData:b}=t;o?(i.addMissingCanvas(t.id,l),y(l,Tl,!0)):p&&i.imageManager.isValidId(p)?(y(l,en,p),c&&y(l,ct,c)):y(l,cs,f),y(l,Ca,g);const[A,x]=l.pageDimensions;return l.width=(u[2]-u[0])/A,l.height=(u[3]-u[1])/x,b&&(l.altTextData=b),l._initialData=s,t.comment&&l.setCommentData(t),y(l,nc,!!s),l}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:h(this,en),isSvg:h(this,Ca)});if(this.addComment(i),t)return i.bitmapUrl=E(this,Be,Nv).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=E(this,Be,LC).call(this,i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||(n.stamps=new Map);const l=h(this,Ca)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(h(this,en)))n.stamps.set(h(this,en),{area:l,serialized:i}),i.bitmap=E(this,Be,Nv).call(this,!1);else if(h(this,Ca)){const u=n.stamps.get(h(this,en));l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=E(this,Be,Nv).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}ct=new WeakMap,en=new WeakMap,Co=new WeakMap,cs=new WeakMap,Po=new WeakMap,tc=new WeakMap,ms=new WeakMap,Tl=new WeakMap,yr=new WeakMap,Ca=new WeakMap,nc=new WeakMap,Be=new WeakSet,ym=function(t,n=!1){if(!t){this.remove();return}y(this,ct,t.bitmap),n||(y(this,en,t.id),y(this,Ca,t.isSvg)),t.file&&y(this,tc,t.file.name),E(this,Be,jv).call(this)},bm=function(){if(y(this,Co,null),this._uiManager.enableWaiting(!1),!!h(this,ms)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ct)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ct)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Mv=function(){if(h(this,en)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,en)).then(i=>E(this,Be,ym).call(this,i,!0)).finally(()=>E(this,Be,bm).call(this));return}if(h(this,cs)){const i=h(this,cs);y(this,cs,null),this._uiManager.enableWaiting(!0),y(this,Co,this._uiManager.imageManager.getFromUrl(i).then(s=>E(this,Be,ym).call(this,s)).finally(()=>E(this,Be,bm).call(this)));return}if(h(this,Po)){const i=h(this,Po);y(this,Po,null),this._uiManager.enableWaiting(!0),y(this,Co,this._uiManager.imageManager.getFromFile(i).then(s=>E(this,Be,ym).call(this,s)).finally(()=>E(this,Be,bm).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=hy.join(",");const n=this._uiManager._signal;y(this,Co,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,Be,ym).call(this,s)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>E(this,Be,bm).call(this))),t.click()},jv=function(){var c;const{div:t}=this;let{width:n,height:i}=h(this,ct);const[s,o]=this.pageDimensions,l=.75;if(this.width)n=this.width*s,i=this.height*o;else if(n>l*s||i>l*o){const f=Math.min(l*s/n,l*o/i);n*=f,i*=f}this._uiManager.enableWaiting(!1);const u=y(this,ms,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=n/s,this.height=i/o,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),E(this,Be,jk).call(this),h(this,nc)||(this.parent.addUndoableEditor(this),y(this,nc,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,tc)&&this.div.setAttribute("aria-description",h(this,tc)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Iv=function(t,n){const{width:i,height:s}=h(this,ct);let o=i,l=s,u=h(this,ct);for(;o>2*t||l>2*n;){const c=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*n&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(u,0,0,c,f,0,0,o,l),u=p.transferToImageBitmap()}return u},jk=function(){const[t,n]=this.parentDimensions,{width:i,height:s}=this,o=new Oi,l=Math.ceil(i*t*o.sx),u=Math.ceil(s*n*o.sy),c=h(this,ms);if(!c||c.width===l&&c.height===u)return;c.width=l,c.height=u;const f=h(this,Ca)?h(this,ct):E(this,Be,Iv).call(this,l,u),p=c.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)},Nv=function(t){if(t){if(h(this,Ca)){const s=this._uiManager.imageManager.getSvgUrl(h(this,en));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=h(this,ct),n.getContext("2d").drawImage(h(this,ct),0,0),n.toDataURL()}if(h(this,Ca)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*Es.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Es.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,o);return l.getContext("2d").drawImage(h(this,ct),0,0,h(this,ct).width,h(this,ct).height,0,0,s,o),l.transferToImageBitmap()}return structuredClone(h(this,ct))},LC=function(t){var l;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===n,o=(((l=t.accessibilityData)==null?void 0:l.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},K(Mk,"_type","stamp"),K(Mk,"_editorType",be.STAMP);var El,ac,Lo,Mo,fs,ia,jo,ic,rc,Ci,ps,tn,gs,Io,sc,le,No,et,Ik,MC,$i,Nk,Rk,Rv;const gi=class gi{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:l,textLayer:u,viewport:c,l10n:f}){S(this,et);S(this,El);S(this,ac,!1);S(this,Lo,null);S(this,Mo,null);S(this,fs,null);S(this,ia,new Map);S(this,jo,!1);S(this,ic,!1);S(this,rc,!1);S(this,Ci,null);S(this,ps,null);S(this,tn,null);S(this,gs,null);S(this,Io,null);S(this,sc,-1);S(this,le);const p=[...h(gi,No).values()];if(!gi._initialized){gi._initialized=!0;for(const g of p)g.initialize(f,e)}e.registerEditorTypes(p),y(this,le,e),this.pageIndex=t,this.div=n,y(this,El,s),y(this,Lo,o),this.viewport=c,y(this,tn,u),this.drawLayer=l,this._structTree=i,h(this,le).addLayer(this)}get isEmpty(){return h(this,ia).size===0}get isInvisible(){return this.isEmpty&&h(this,le).getMode()===be.NONE}updateToolbar(e){h(this,le).updateToolbar(e)}updateMode(e=h(this,le).getMode()){switch(E(this,et,Rv).call(this),e){case be.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case be.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case be.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===be.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of h(gi,No).values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=h(this,tn))==null?void 0:t.div)}setEditingState(e){h(this,le).setEditingState(e)}addCommands(e){h(this,le).addCommands(e)}cleanUndoStack(e){h(this,le).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=h(this,Lo))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;y(this,rc,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=h(this,Io))==null||n.abort(),y(this,Io,null);const e=new Set;for(const i of h(this,et,Ik))i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,le).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=h(this,Lo);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),h(this,le).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}y(this,rc,!1),h(this,le)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var n;if(y(this,ic,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),h(this,tn)&&!h(this,Io)){y(this,Io,new AbortController);const i=h(this,le).combinedSignal(h(this,Io));h(this,tn).div.addEventListener("pointerdown",s=>{const{clientX:l,clientY:u,timeStamp:c}=s,f=h(this,sc);if(c-f>500){y(this,sc,c);return}y(this,sc,-1);const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(l,u);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let b;const A=new RegExp(`^${Km}[0-9]+$`);for(const M of g)if(A.test(M.id)){b=M.id;break}if(!b)return;const x=h(this,ia).get(b);(x==null?void 0:x.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),x.dblclick(s))},{signal:i,capture:!0})}const e=h(this,Lo);if(e){const i=new Map,s=new Map;for(const l of h(this,et,Ik)){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(e);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else s.set(l.annotationElementId,l);(n=this.getEditableAnnotation(l.annotationElementId))==null||n.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(h(this,le).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let c=s.get(u);if(c){c.resetAnnotationElement(l),c.show(!1),l.show();continue}c=i.get(u),c&&(h(this,le).addChangedExistingAnnotation(c),c.renderAnnotationElement(l)&&c.show(!1)),l.show()}}E(this,et,Rv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const i of h(gi,No).values())t.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),y(this,ic,!1)}getEditableAnnotation(e){var t;return((t=h(this,Lo))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){h(this,le).getActive()!==e&&h(this,le).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=h(this,tn))!=null&&e.div&&!h(this,gs)){y(this,gs,new AbortController);const t=h(this,le).combinedSignal(h(this,gs));h(this,tn).div.addEventListener("pointerdown",E(this,et,MC).bind(this),{signal:t}),h(this,tn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=h(this,tn))!=null&&e.div&&h(this,gs)&&(h(this,gs).abort(),y(this,gs,null),h(this,tn).div.classList.remove("highlighting"))}enableClick(){if(h(this,Mo))return;y(this,Mo,new AbortController);const e=h(this,le).combinedSignal(h(this,Mo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=h(this,Mo))==null||e.abort(),y(this,Mo,null)}attach(e){h(this,ia).set(e.id,e);const{annotationElementId:t}=e;t&&h(this,le).isDeletedAnnotationElement(t)&&h(this,le).removeDeletedAnnotationElement(e)}detach(e){var t;h(this,ia).delete(e.id),(t=h(this,El))==null||t.removePointerInTextLayer(e.contentDiv),!h(this,ic)&&e.annotationElementId&&h(this,le).addDeletedAnnotationElement(e)}remove(e){this.detach(e),h(this,le).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(h(this,le).addDeletedAnnotationElement(e.annotationElementId),st.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),h(this,le).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!h(this,rc)),h(this,le).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!h(this,fs)&&(e._focusEventsAllowed=!1,y(this,fs,setTimeout(()=>{y(this,fs,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:h(this,le)._signal}),t.focus())},0))),e._structTreeParentId=(n=h(this,El))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of h(this,ia).values())if(t.uid===e)return t;return null}getNextId(){return h(this,le).getId()}combinedSignal(e){return h(this,le).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=h(this,et,$i))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await h(this,le).updateMode(e.mode);const{offsetX:n,offsetY:i}=E(this,et,Rk).call(this),s=this.getNextId(),o=E(this,et,Nk).call(this,{parent:this,id:s,x:n,y:i,uiManager:h(this,le),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=h(gi,No).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,h(this,le)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),s=E(this,et,Nk).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:h(this,le),isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(E(this,et,Rk).call(this),!0,e)}setSelected(e){h(this,le).setSelected(e)}toggleSelected(e){h(this,le).toggleSelected(e)}unselect(e){h(this,le).unselect(e)}pointerup(e){var i;const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!h(this,jo)||(y(this,jo,!1),(i=h(this,et,$i))!=null&&i.isDrawer&&h(this,et,$i).supportMultipleDrawings))return;if(!h(this,ac)){y(this,ac,!0);return}const n=h(this,le).getMode();if(n===be.STAMP||n===be.SIGNATURE){h(this,le).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(h(this,le).getMode()===be.HIGHLIGHT&&this.enableTextSelection(),h(this,jo)){y(this,jo,!1);return}const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(y(this,jo,!0),(i=h(this,et,$i))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=h(this,le).getActive();y(this,ac,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),h(this,Ci)){h(this,et,$i).startDrawing(this,h(this,le),!1,e);return}h(this,le).setCurrentDrawingSession(this),y(this,Ci,new AbortController);const t=h(this,le).combinedSignal(h(this,Ci));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(y(this,ps,null),this.commitOrRemove())},{signal:t}),h(this,et,$i).startDrawing(this,h(this,le),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&y(this,ps,t);return}h(this,ps)&&setTimeout(()=>{var t;(t=h(this,ps))==null||t.focus(),y(this,ps,null)},0)}endDrawingSession(e=!1){return h(this,Ci)?(h(this,le).setCurrentDrawingSession(null),h(this,Ci).abort(),y(this,Ci,null),y(this,ps,null),h(this,et,$i).endDrawing(e)):null}findNewParent(e,t,n){const i=h(this,le).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return h(this,Ci)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,Ci)&&h(this,et,$i).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=h(this,le).getActive())==null?void 0:e.parent)===this&&(h(this,le).commitOrRemove(),h(this,le).setActiveEditor(null)),h(this,fs)&&(clearTimeout(h(this,fs)),y(this,fs,null));for(const n of h(this,ia).values())(t=h(this,El))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,h(this,ia).clear(),h(this,le).removeLayer(this)}render({viewport:e}){this.viewport=e,Ko(this.div,e);for(const t of h(this,le).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){h(this,le).commitOrRemove(),E(this,et,Rv).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Ko(this.div,{rotation:n}),t!==n)for(const i of h(this,ia).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return h(this,le).viewParameters.realScale}};El=new WeakMap,ac=new WeakMap,Lo=new WeakMap,Mo=new WeakMap,fs=new WeakMap,ia=new WeakMap,jo=new WeakMap,ic=new WeakMap,rc=new WeakMap,Ci=new WeakMap,ps=new WeakMap,tn=new WeakMap,gs=new WeakMap,Io=new WeakMap,sc=new WeakMap,le=new WeakMap,No=new WeakMap,et=new WeakSet,Ik=function(){return h(this,ia).size!==0?h(this,ia).values():h(this,le).getEditors(this.pageIndex)},MC=function(e){h(this,le).unselectAll();const{target:t}=e;if(t===h(this,tn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&h(this,tn).div.contains(t)){const{isMac:n}=rn.platform;if(e.button!==0||e.ctrlKey&&n)return;h(this,le).showAllEditors("highlight",!0,!0),h(this,tn).div.classList.add("free"),this.toggleDrawing(),py.startHighlighting(this,h(this,le).direction==="ltr",{target:h(this,tn).div,x:e.x,y:e.y}),h(this,tn).div.addEventListener("pointerup",()=>{h(this,tn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,le)._signal}),e.preventDefault()}},$i=function(){return h(gi,No).get(h(this,le).getMode())},Nk=function(e){const t=h(this,et,$i);return t?new t.prototype.constructor(e):null},Rk=function(){const{x:e,y:t,width:n,height:i}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+n),u=Math.min(window.innerHeight,t+i),c=(s+l)/2-e,f=(o+u)/2-t,[p,g]=this.viewport.rotation%180===0?[c,f]:[f,c];return{offsetX:p,offsetY:g}},Rv=function(){for(const e of h(this,ia).values())e.isEmpty()&&e.remove()},K(gi,"_initialized",!1),S(gi,No,new Map([fk,Sk,Mk,py,Lk].map(e=>[e._editorType,e])));let vy=gi;var Pi,Hn,Cl,Rp,Dy,jC,Sr,Ok,IC,Dk;const Ut=class Ut{constructor({pageIndex:e}){S(this,Sr);S(this,Pi,null);S(this,Hn,new Map);S(this,Cl,new Map);this.pageIndex=e}setParent(e){if(!h(this,Pi)){y(this,Pi,e);return}if(h(this,Pi)!==e){if(h(this,Hn).size>0)for(const t of h(this,Hn).values())t.remove(),e.append(t);y(this,Pi,e)}}static get _svgFactory(){return Ae(this,"_svgFactory",new ef)}draw(e,t=!1,n=!1){const i=Ht(Ut,Rp)._++,s=E(this,Sr,Ok).call(this),o=Ut._svgFactory.createElement("defs");s.append(o);const l=Ut._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke"),t&&h(this,Cl).set(i,l);const c=n?E(this,Sr,IC).call(this,o,u):null,f=Ut._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(s,e),h(this,Hn).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const n=Ht(Ut,Rp)._++,i=E(this,Sr,Ok).call(this),s=Ut._svgFactory.createElement("defs");i.append(s);const o=Ut._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(t){const p=Ut._svgFactory.createElement("mask");s.append(p),u=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const g=Ut._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const b=Ut._svgFactory.createElement("use");p.append(b),b.setAttribute("href",`#${l}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const c=Ut._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${l}`),u&&c.setAttribute("mask",`url(#${u})`);const f=c.cloneNode();return i.append(f),c.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),h(this,Hn).set(n,i),n}finalizeDraw(e,t){h(this,Cl).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var u;if(!t)return;const{root:n,bbox:i,rootClass:s,path:o}=t,l=typeof e=="number"?h(this,Hn).get(e):e;if(l){if(n&&E(this,Sr,Dk).call(this,l,n),i&&E(u=Ut,Dy,jC).call(u,l,i),s){const{classList:c}=l;for(const[f,p]of Object.entries(s))c.toggle(f,p)}if(o){const f=l.firstChild.firstChild;E(this,Sr,Dk).call(this,f,o)}}}updateParent(e,t){if(t===this)return;const n=h(this,Hn).get(e);n&&(h(t,Pi).append(n),h(this,Hn).delete(e),h(t,Hn).set(e,n))}remove(e){h(this,Cl).delete(e),h(this,Pi)!==null&&(h(this,Hn).get(e).remove(),h(this,Hn).delete(e))}destroy(){y(this,Pi,null);for(const e of h(this,Hn).values())e.remove();h(this,Hn).clear(),h(this,Cl).clear()}};Pi=new WeakMap,Hn=new WeakMap,Cl=new WeakMap,Rp=new WeakMap,Dy=new WeakSet,jC=function(e,[t,n,i,s]){const{style:o}=e;o.top=`${100*n}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},Sr=new WeakSet,Ok=function(){const e=Ut._svgFactory.create(1,1,!0);return h(this,Pi).append(e),e.setAttribute("aria-hidden",!0),e},IC=function(e,t){const n=Ut._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Ut._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},Dk=function(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},S(Ut,Dy),S(Ut,Rp,0);let yy=Ut;globalThis._pdfjsTestingUtils={HighlightOutliner:gk};globalThis.pdfjsLib={AbortException:Ts,AnnotationEditorLayer:vy,AnnotationEditorParamsType:je,AnnotationEditorType:be,AnnotationEditorUIManager:$o,AnnotationLayer:Z0,AnnotationMode:_r,AnnotationType:Mt,applyOpacity:LT,build:NE,ColorPicker:Jm,createValidAbsoluteUrl:D0,CSSConstants:PT,DOMSVGFactory:ef,DrawLayer:yy,FeatureTest:rn,fetchData:_c,findContrastColor:MT,getDocument:Y0,getFilenameFromUrl:TT,getPdfFilenameFromUrl:ET,getRGB:wc,getUuid:F0,getXfaPageViewport:CT,GlobalWorkerOptions:ii,ImageKind:Pm,InvalidPDFException:oy,isDataScheme:Vp,isPdfFile:ab,isValidExplicitDest:dE,MathClamp:Mn,noContextMenu:Da,normalizeUnicode:ST,OPS:fc,OutputScale:Oi,PasswordResponses:kT,PDFDataRangeTransport:K0,PDFDateString:Zm,PDFWorker:pc,PermissionFlag:wT,PixelsPerInch:Es,RenderingCancelledException:nb,renderRichText:U0,ResponseException:$m,setLayerDimensions:Ko,shadow:Ae,SignatureExtractor:wr,stopEvent:yt,SupportedImageMimeTypes:hy,TextLayer:Qm,TouchManager:Xm,updateUrlHash:B0,Util:re,VerbosityLevel:Hp,version:IE,XfaLayer:H0};const VN=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ts,AnnotationEditorLayer:vy,AnnotationEditorParamsType:je,AnnotationEditorType:be,AnnotationEditorUIManager:$o,AnnotationLayer:Z0,AnnotationMode:_r,AnnotationType:Mt,CSSConstants:PT,ColorPicker:Jm,DOMSVGFactory:ef,DrawLayer:yy,FeatureTest:rn,GlobalWorkerOptions:ii,ImageKind:Pm,InvalidPDFException:oy,MathClamp:Mn,OPS:fc,OutputScale:Oi,PDFDataRangeTransport:K0,PDFDateString:Zm,PDFWorker:pc,PasswordResponses:kT,PermissionFlag:wT,PixelsPerInch:Es,RenderingCancelledException:nb,ResponseException:$m,SignatureExtractor:wr,SupportedImageMimeTypes:hy,TextLayer:Qm,TouchManager:Xm,Util:re,VerbosityLevel:Hp,XfaLayer:H0,applyOpacity:LT,build:NE,createValidAbsoluteUrl:D0,fetchData:_c,findContrastColor:MT,getDocument:Y0,getFilenameFromUrl:TT,getPdfFilenameFromUrl:ET,getRGB:wc,getUuid:F0,getXfaPageViewport:CT,isDataScheme:Vp,isPdfFile:ab,isValidExplicitDest:dE,noContextMenu:Da,normalizeUnicode:ST,renderRichText:U0,setLayerDimensions:Ko,shadow:Ae,stopEvent:yt,updateUrlHash:B0,version:IE},Symbol.toStringTag,{value:"Module"}));function NC(a){var e,t,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var i=a.length;for(e=0;e<i;e++)a[e]&&(t=NC(a[e]))&&(n&&(n+=" "),n+=t)}else for(t in a)a[t]&&(n&&(n+=" "),n+=t);return n}function sb(){for(var a,e,t=0,n="",i=arguments.length;t<i;t++)(a=arguments[t])&&(e=NC(a))&&(n&&(n+=" "),n+=e);return n}var KS=Object.prototype.hasOwnProperty;function $S(a,e,t){for(t of a.keys())if(Id(t,e))return t}function Id(a,e){var t,n,i;if(a===e)return!0;if(a&&e&&(t=a.constructor)===e.constructor){if(t===Date)return a.getTime()===e.getTime();if(t===RegExp)return a.toString()===e.toString();if(t===Array){if((n=a.length)===e.length)for(;n--&&Id(a[n],e[n]););return n===-1}if(t===Set){if(a.size!==e.size)return!1;for(n of a)if(i=n,i&&typeof i=="object"&&(i=$S(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(a.size!==e.size)return!1;for(n of a)if(i=n[0],i&&typeof i=="object"&&(i=$S(e,i),!i)||!Id(n[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)a=new Uint8Array(a),e=new Uint8Array(e);else if(t===DataView){if((n=a.byteLength)===e.byteLength)for(;n--&&a.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(a)){if((n=a.byteLength)===e.byteLength)for(;n--&&a[n]===e[n];);return n===-1}if(!t||typeof a=="object"){n=0;for(t in a)if(KS.call(a,t)&&++n&&!KS.call(e,t)||!(t in e)||!Id(a[t],e[t]))return!1;return Object.keys(e).length===n}}return a!==a&&e!==e}function $p(a){let e=!1;return{promise:new Promise((n,i)=>{a.then(s=>!e&&n(s)).catch(s=>!e&&i(s))}),cancel(){e=!0}}}const GN=["onCopy","onCut","onPaste"],YN=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],KN=["onFocus","onBlur"],$N=["onInput","onInvalid","onReset","onSubmit"],qN=["onLoad","onError"],ZN=["onKeyDown","onKeyPress","onKeyUp"],XN=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],QN=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],JN=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],eR=["onSelect"],tR=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],nR=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],aR=["onScroll"],iR=["onWheel"],rR=["onAnimationStart","onAnimationEnd","onAnimationIteration"],sR=["onTransitionEnd"],oR=["onToggle"],hR=["onChange"],lR=[...GN,...YN,...KN,...$N,...qN,...ZN,...XN,...QN,...JN,...eR,...tR,...nR,...aR,...iR,...rR,...sR,...hR,...oR];function RC(a,e){const t={};for(const n of lR){const i=a[n];i&&(e?t[n]=s=>i(s,e(n)):t[n]=i)}return t}var dR="Invariant failed";function Je(a,e){if(!a)throw new Error(dR)}var uR=function(){},cR=uR;const In=Uk(cR),OC=W.createContext(null),mR="noopener noreferrer nofollow";class fR{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Je(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Je(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||mR,e.target=n?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Je(this.pdfDocument),Je(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Je(Array.isArray(t));const n=t[0];new Promise(i=>{Je(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{i(s)}).catch(()=>{Je(!1)}):typeof n=="number"?i(n):Je(!1)}).then(i=>{const s=i+1;Je(this.pdfViewer),Je(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}goToPage(e){const t=e-1;Je(this.pdfViewer),Je(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Nd({children:a,type:e}){return k.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:a})}const qS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function pR(a,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function gc(){return W.useReducer(pR,{value:void 0,error:void 0})}const ob=typeof window<"u",DC=ob&&window.location.protocol==="file:";function gR(a){return typeof a<"u"}function rh(a){return gR(a)&&a!==null}function vR(a){return typeof a=="string"}function yR(a){return a instanceof ArrayBuffer}function bR(a){return Je(ob),a instanceof Blob}function Bk(a){return vR(a)&&/^data:/.test(a)}function ZS(a){Je(Bk(a));const[e="",t=""]=a.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function _R(){return ob&&window.devicePixelRatio||1}const BC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function XS(){In(!DC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${BC}`)}function wR(){In(!DC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${BC}`)}function Dl(a){a!=null&&a.cancel&&a.cancel()}function Fk(a,e){return Object.defineProperty(a,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function kR(a){return a.name==="RenderingCancelledException"}function xR(a){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(a)})}const{PDFDataRangeTransport:SR}=VN,AR=(a,e)=>{switch(e){case qS.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");a(t);break}case qS.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");a(t);break}}};function QS(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const TR=W.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:s,file:o,inputRef:l,imageResourcesPath:u,loading:c="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:b,onLoadSuccess:A,onPassword:x=AR,onSourceError:M,onSourceSuccess:w,options:T,renderMode:C,rotate:P,scale:I,...N},O){const[D,U]=gc(),{value:H,error:V}=D,[Z,he]=gc(),{value:Q,error:fe}=Z,q=W.useRef(new fR),X=W.useRef([]),F=W.useRef(void 0),ee=W.useRef(void 0);o&&o!==F.current&&QS(o)&&(In(!Id(o,F.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),F.current=o),T&&T!==ee.current&&(In(!Id(T,ee.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ee.current=T);const Y=W.useRef({scrollPageIntoView:Ie=>{const{dest:nt,pageNumber:kt,pageIndex:Pt=kt-1}=Ie;if(p){p({dest:nt,pageIndex:Pt,pageNumber:kt});return}const Bi=X.current[Pt];if(Bi){Bi.scrollIntoView();return}In(!1,`An internal link leading to page ${kt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});W.useImperativeHandle(O,()=>({linkService:q,pages:X,viewer:Y}),[]);function de(){w&&w()}function ne(){V&&(In(!1,V.toString()),M&&M(V))}function me(){U({type:"RESET"})}W.useEffect(me,[o,U]);const ye=W.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return Bk(o)?{data:ZS(o)}:(XS(),{url:o});if(o instanceof SR)return{range:o};if(yR(o))return{data:o};if(ob&&bR(o))return{data:await xR(o)};if(Je(typeof o=="object"),Je(QS(o)),"url"in o&&typeof o.url=="string"){if(Bk(o.url)){const{url:Ie,...nt}=o;return{data:ZS(Ie),...nt}}XS()}return o},[o]);W.useEffect(()=>{const Ie=$p(ye());return Ie.promise.then(nt=>{U({type:"RESOLVE",value:nt})}).catch(nt=>{U({type:"REJECT",error:nt})}),()=>{Dl(Ie)}},[ye,U]),W.useEffect(()=>{if(!(typeof H>"u")){if(H===!1){ne();return}de()}},[H]);function ge(){Q&&(A&&A(Q),X.current=new Array(Q.numPages),q.current.setDocument(Q))}function ue(){fe&&(In(!1,fe.toString()),g&&g(fe))}W.useEffect(function(){he({type:"RESET"})},[he,H]),W.useEffect(function(){if(!H)return;const nt=T?{...H,...T}:H,kt=Y0(nt);b&&(kt.onProgress=b),x&&(kt.onPassword=x);const Pt=kt,Bi=Pt.promise.then(Fi=>{he({type:"RESOLVE",value:Fi})}).catch(Fi=>{Pt.destroyed||he({type:"REJECT",error:Fi})});return()=>{Bi.finally(()=>Pt.destroy())}},[T,he,H]),W.useEffect(()=>{if(!(typeof Q>"u")){if(Q===!1){ue();return}ge()}},[Q]),W.useEffect(function(){q.current.setViewer(Y.current),q.current.setExternalLinkRel(i),q.current.setExternalLinkTarget(s)},[i,s]);const Se=W.useCallback((Ie,nt)=>{X.current[Ie]=nt},[]),sn=W.useCallback(Ie=>{delete X.current[Ie]},[]),wn=W.useMemo(()=>({imageResourcesPath:u,linkService:q.current,onItemClick:p,pdf:Q,registerPage:Se,renderMode:C,rotate:P,scale:I,unregisterPage:sn}),[u,p,Q,Se,C,P,I,sn]),ze=W.useMemo(()=>RC(N,()=>Q),[N,Q]);function on(){function Ie(kt){return!!(kt!=null&&kt.pdf)}if(!Ie(wn))throw new Error("pdf is undefined");const nt=typeof e=="function"?e(wn):e;return k.jsx(OC.Provider,{value:wn,children:nt})}function Rn(){return o?Q==null?k.jsx(Nd,{type:"loading",children:typeof c=="function"?c():c}):Q===!1?k.jsx(Nd,{type:"error",children:typeof n=="function"?n():n}):on():k.jsx(Nd,{type:"no-data",children:typeof f=="function"?f():f})}return k.jsx("div",{className:sb("react-pdf__Document",t),ref:l,...ze,children:Rn()})});function FC(){return W.useContext(OC)}function zC(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var t=a.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(s){for(var o=0,l=t;o<l.length;o++){var u=l[o];typeof u=="function"?u(s):u&&(u.current=s)}}}const HC=W.createContext(null);function hb(){return W.useContext(HC)}function ER(){const a=FC(),e=hb();Je(e);const t={...a,...e},{imageResourcesPath:n,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:u,page:c,pdf:f,renderForms:p,rotate:g,scale:b=1}=t;Je(f),Je(c),Je(i);const[A,x]=gc(),{value:M,error:w}=A,T=W.useRef(null);In(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){M&&o&&o(M)}function P(){w&&(In(!1,w.toString()),s&&s(w))}W.useEffect(function(){x({type:"RESET"})},[x,c]),W.useEffect(function(){if(!c)return;const U=$p(c.getAnnotations()),H=U;return U.promise.then(V=>{x({type:"RESOLVE",value:V})}).catch(V=>{x({type:"REJECT",error:V})}),()=>{Dl(H)}},[x,c]),W.useEffect(()=>{if(M!==void 0){if(M===!1){P();return}C()}},[M]);function I(){u&&u()}function N(D){In(!1,`${D}`),l&&l(D)}const O=W.useMemo(()=>c.getViewport({scale:b,rotation:g}),[c,g,b]);return W.useEffect(function(){if(!f||!c||!i||!M)return;const{current:U}=T;if(!U)return;const H=O.clone({dontFlip:!0}),V={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:f.annotationStorage,commentManager:null,div:U,l10n:null,linkService:i,page:c,structTreeLayer:null,viewport:H},Z={annotations:M,annotationStorage:f.annotationStorage,div:U,imageResourcesPath:n,linkService:i,page:c,renderForms:p,viewport:H};U.innerHTML="";try{new Z0(V).render(Z),I()}catch(he){N(he)}return()=>{}},[M,n,i,c,f,p,O]),k.jsx("div",{className:sb("react-pdf__Page__annotations","annotationLayer"),ref:T})}const UC={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},CR=/^H(\d+)$/;function PR(a){return a in UC}function lb(a){return"children"in a}function WC(a){return lb(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function LR(a){const e={};if(lb(a)){const{role:t}=a,n=t.match(CR);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(PR(t)){const i=UC[t];i&&(e.role=i)}}return e}function VC(a){const e={};if(lb(a)){if(a.alt!==void 0&&(e["aria-label"]=a.alt),a.lang!==void 0&&(e.lang=a.lang),WC(a)){const[t]=a.children;if(t){const n=VC(t);return{...e,...n}}}}else"id"in a&&(e["aria-owns"]=a.id);return e}function MR(a){return a?{...LR(a),...VC(a)}:null}function GC({className:a,node:e}){const t=W.useMemo(()=>MR(e),[e]),n=W.useMemo(()=>!lb(e)||WC(e)?null:e.children.map((i,s)=>k.jsx(GC,{node:i},s)),[e]);return k.jsx("span",{className:a,...t,children:n})}function jR(){const a=hb();Je(a);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=a,[n,i]=gc(),{value:s,error:o}=n,{customTextRenderer:l,page:u}=a;function c(){s&&t&&t(s)}function f(){o&&(In(!1,o.toString()),e&&e(o))}return W.useEffect(function(){i({type:"RESET"})},[i,u]),W.useEffect(function(){if(l||!u)return;const g=$p(u.getStructTree()),b=g;return g.promise.then(A=>{i({type:"RESOLVE",value:A})}).catch(A=>{i({type:"REJECT",error:A})}),()=>Dl(b)},[l,u,i]),W.useEffect(()=>{if(s!==void 0){if(s===!1){f();return}c()}},[s]),s?k.jsx(GC,{className:"react-pdf__Page__structTree structTree",node:s}):null}const JS=_r;function IR(a){const e=hb();Je(e);const t={...e,...a},{_className:n,canvasBackground:i,devicePixelRatio:s=_R(),onRenderError:o,onRenderSuccess:l,page:u,renderForms:c,renderTextLayer:f,rotate:p,scale:g}=t,{canvasRef:b}=a;Je(u);const A=W.useRef(null);function x(){u&&l&&l(Fk(u,g))}function M(P){kR(P)||(In(!1,P.toString()),o&&o(P))}const w=W.useMemo(()=>u.getViewport({scale:g*s,rotation:p}),[s,u,p,g]),T=W.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);W.useEffect(function(){if(!u)return;u.cleanup();const{current:I}=A;if(!I)return;I.width=w.width,I.height=w.height,I.style.width=`${Math.floor(T.width)}px`,I.style.height=`${Math.floor(T.height)}px`,I.style.visibility="hidden";const N={annotationMode:c?JS.ENABLE_FORMS:JS.ENABLE,canvas:I,canvasContext:I.getContext("2d",{alpha:!1}),viewport:w};i&&(N.background=i);const O=u.render(N),D=O;return O.promise.then(()=>{I.style.visibility="",x()}).catch(M),()=>Dl(D)},[i,u,c,w,T]);const C=W.useCallback(()=>{const{current:P}=A;P&&(P.width=0,P.height=0)},[]);return W.useEffect(()=>C,[C]),k.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:zC(b,A),style:{display:"block",userSelect:"none"},children:f?k.jsx(jR,{}):null})}function NR(a){return"str"in a}function RR(){const a=hb();Je(a);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:l,pageNumber:u,rotate:c,scale:f}=a;Je(o);const[p,g]=gc(),{value:b,error:A}=p,x=W.useRef(null);In(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){b&&n&&n(b)}function w(){A&&(In(!1,A.toString()),t&&t(A))}W.useEffect(function(){g({type:"RESET"})},[o,g]),W.useEffect(function(){if(!o)return;const D=$p(o.getTextContent()),U=D;return D.promise.then(H=>{g({type:"RESOLVE",value:H})}).catch(H=>{g({type:"REJECT",error:H})}),()=>Dl(U)},[o,g]),W.useEffect(()=>{if(b!==void 0){if(b===!1){w();return}M()}},[b]);const T=W.useCallback(()=>{s&&s()},[s]),C=W.useCallback(O=>{In(!1,O.toString()),i&&i(O)},[i]);function P(){const O=x.current;O&&O.classList.add("selecting")}function I(){const O=x.current;O&&O.classList.remove("selecting")}const N=W.useMemo(()=>o.getViewport({scale:f,rotation:c}),[o,c,f]);return W.useLayoutEffect(function(){if(!o||!b)return;const{current:D}=x;if(!D)return;D.innerHTML="";const U=o.streamTextContent({includeMarkedContent:!0}),H={container:D,textContentSource:U,viewport:N},V=new Qm(H),Z=V;return V.render().then(()=>{const he=document.createElement("div");he.className="endOfContent",D.append(he);const Q=D.querySelectorAll('[role="presentation"]');if(e){let fe=0;b.items.forEach((q,X)=>{if(!NR(q))return;const F=Q[fe];if(!F)return;const ee=e({pageIndex:l,pageNumber:u,itemIndex:X,...q});F.innerHTML=ee,fe+=q.str&&q.hasEOL?2:1})}T()}).catch(C),()=>Dl(Z)},[e,C,T,o,l,u,b,N]),k.jsx("div",{className:sb("react-pdf__Page__textContent","textLayer"),onMouseUp:I,onMouseDown:P,ref:x})}const eA=1;function OR(a){const t={...FC(),...a},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:l,className:u,customRenderer:c,customTextRenderer:f,devicePixelRatio:p,error:g="Failed to load the page.",height:b,inputRef:A,loading:x="Loading page",noData:M="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:T,onGetStructTreeError:C,onGetStructTreeSuccess:P,onGetTextError:I,onGetTextSuccess:N,onLoadError:O,onLoadSuccess:D,onRenderAnnotationLayerError:U,onRenderAnnotationLayerSuccess:H,onRenderError:V,onRenderSuccess:Z,onRenderTextLayerError:he,onRenderTextLayerSuccess:Q,pageIndex:fe,pageNumber:q,pdf:X,registerPage:F,renderAnnotationLayer:ee=!0,renderForms:Y=!1,renderMode:de="canvas",renderTextLayer:ne=!0,rotate:me,scale:ye=eA,unregisterPage:ge,width:ue,...Se}=t,[sn,wn]=gc(),{value:ze,error:on}=sn,Rn=W.useRef(null);Je(X);const Ie=rh(q)?q-1:fe??null,nt=q??(rh(fe)?fe+1:null),kt=me??(ze?ze.rotate:null),Pt=W.useMemo(()=>{if(!ze)return null;let ui=1;const Ar=ye??eA;if(ue||b){const zi=ze.getViewport({scale:1,rotation:kt});ue?ui=ue/zi.width:b&&(ui=b/zi.height)}return Ar*ui},[b,ze,kt,ye,ue]);W.useEffect(function(){return()=>{rh(Ie)&&i&&ge&&ge(Ie)}},[i,X,Ie,ge]);function Bi(){if(D){if(!ze||!Pt)return;D(Fk(ze,Pt))}if(i&&F){if(!rh(Ie)||!Rn.current)return;F(Ie,Rn.current)}}function Fi(){on&&(In(!1,on.toString()),O&&O(on))}W.useEffect(function(){wn({type:"RESET"})},[wn,X,Ie]),W.useEffect(function(){if(!X||!nt)return;const Ar=$p(X.getPage(nt)),zi=Ar;return Ar.promise.then(Ul=>{wn({type:"RESOLVE",value:Ul})}).catch(Ul=>{wn({type:"REJECT",error:Ul})}),()=>Dl(zi)},[wn,X,nt]),W.useEffect(()=>{if(ze!==void 0){if(ze===!1){Fi();return}Bi()}},[ze,Pt]);const kc=W.useMemo(()=>rh(Ie)&&nt&&rh(kt)&&rh(Pt)?{_className:n,canvasBackground:s,customTextRenderer:f,devicePixelRatio:p,onGetAnnotationsError:w,onGetAnnotationsSuccess:T,onGetStructTreeError:C,onGetStructTreeSuccess:P,onGetTextError:I,onGetTextSuccess:N,onRenderAnnotationLayerError:U,onRenderAnnotationLayerSuccess:H,onRenderError:V,onRenderSuccess:Z,onRenderTextLayerError:he,onRenderTextLayerSuccess:Q,page:ze,pageIndex:Ie,pageNumber:nt,renderForms:Y,renderTextLayer:ne,rotate:kt,scale:Pt}:null,[n,s,f,p,w,T,C,P,I,N,U,H,V,Z,he,Q,ze,Ie,nt,Y,ne,kt,Pt]),Zp=W.useMemo(()=>RC(Se,()=>ze&&(Pt?Fk(ze,Pt):void 0)),[Se,ze,Pt]),Ms=`${Ie}@${Pt}/${kt}`;function Xp(){switch(de){case"custom":return Je(c),k.jsx(c,{},`${Ms}_custom`);case"none":return null;case"canvas":default:return k.jsx(IR,{canvasRef:o},`${Ms}_canvas`)}}function Qp(){return ne?k.jsx(RR,{},`${Ms}_text`):null}function db(){return ee?k.jsx(ER,{},`${Ms}_annotations`):null}function ub(){function ui(zi){return!!(zi!=null&&zi.page)}if(!ui(kc))throw new Error("page is undefined");const Ar=typeof l=="function"?l(kc):l;return k.jsxs(HC.Provider,{value:kc,children:[Xp(),Qp(),db(),Ar]})}function xc(){return nt?X===null||ze===void 0||ze===null?k.jsx(Nd,{type:"loading",children:typeof x=="function"?x():x}):X===!1||ze===!1?k.jsx(Nd,{type:"error",children:typeof g=="function"?g():g}):ub():k.jsx(Nd,{type:"no-data",children:typeof M=="function"?M():M})}return k.jsx("div",{className:sb(n,u),"data-page-number":nt,ref:zC(A,Rn),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Pt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Zp,children:xc()})}wR();ii.workerSrc="pdf.worker.mjs";const YC="/dharmic-treasures/pdf.worker.min.mjs";ii.workerSrc=YC;console.log("PDF.js worker path:",YC);function DR({pdfPath:a,title:e,titleHindi:t,onBack:n}){const[i,s]=W.useState(0),[o,l]=W.useState(1),[u,c]=W.useState(800),[f,p]=W.useState(!0),[g,b]=W.useState(null),A=`/dharmic-treasures/${a}`.replace(/\/\//g,"/");W.useEffect(()=>{const P=()=>{const I=window.innerWidth,N=32,O=900;I<640?c(I-N):I<1024?c(Math.min(I-N,O)):c(O)};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const x=P=>{s(P.numPages),p(!1),b(null)},M=P=>{console.error("PDF load error:",P),console.error("PDF path:",A);const I=P.message||"Unknown error";b(`Failed to load PDF: ${I}. Please check if the file exists.`),p(!1)},w=()=>{o>1&&l(o-1)},T=()=>{o<i&&l(o+1)},C=P=>{if(f)return;const I=P.currentTarget,N=P.clientX-I.getBoundingClientRect().left,O=I.offsetWidth;N<O*.4?w():T()};return k.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-6 md:py-8 max-w-6xl animate-fadeIn pb-20 sm:pb-8",children:[k.jsxs("div",{className:"mb-4 sm:mb-6",children:[k.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-700 hover:text-amber-600 active:text-amber-700 transition-all duration-300 mb-3 sm:mb-4 py-2 -ml-2 pl-2 pr-4 rounded-lg touch-manipulation animate-slideInLeft",children:[k.jsx(yT,{className:"w-5 h-5 flex-shrink-0"}),k.jsx("span",{className:"text-sm sm:text-base",children:"Back"})]}),k.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 animate-scaleIn",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:t}),k.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:e})]})})]}),k.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 mb-4 sm:mb-6",children:g?k.jsx("div",{className:"flex items-center justify-center py-20",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-red-500 text-lg mb-2",children:"Error"}),k.jsx("div",{className:"text-sm text-gray-600",children:g}),k.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Path: ",A]})]})}):k.jsx("div",{className:"flex flex-col items-center",children:k.jsx("div",{className:"mb-4 relative cursor-pointer",onClick:C,children:k.jsx(TR,{file:A,onLoadSuccess:x,onLoadError:M,loading:k.jsx("div",{className:"flex items-center justify-center py-20",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"flex items-center justify-center mb-4",children:k.jsx("div",{className:"spinner-pulse",children:k.jsxs("svg",{className:"w-12 h-12 text-amber-500",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}),k.jsx("div",{className:"animate-pulse-slow text-amber-500 text-lg mb-2",children:"Loading PDF..."}),k.jsx("div",{className:"text-sm text-gray-500",children:"Please wait"})]})}),children:i>0&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"relative",children:[k.jsx(OR,{pageNumber:o,width:u,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-2xl"}),k.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[40%] opacity-0 hover:opacity-5 bg-blue-400 transition-opacity duration-200",style:{pointerEvents:o>1?"auto":"none",cursor:o>1?"w-resize":"default"},onClick:P=>{P.stopPropagation(),o>1&&w()},title:"Click to go to previous page"}),k.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-[60%] opacity-0 hover:opacity-5 bg-green-400 transition-opacity duration-200",style:{pointerEvents:o<i?"auto":"none",cursor:o<i?"e-resize":"default"},onClick:P=>{P.stopPropagation(),o<i&&T()},title:"Click to go to next page"})]}),k.jsxs("div",{className:"text-sm sm:text-base text-gray-600 font-medium mb-4 mt-4",children:["Page ",o," of ",i,k.jsx("span",{className:"text-xs text-gray-400 ml-2 block sm:inline",children:"(Tap left/right side to turn page)"})]})]})})})})}),k.jsxs("div",{className:"fixed bottom-0 left-0 right-0 sm:relative sm:bottom-auto sm:left-auto sm:right-auto flex items-center justify-between bg-white/95 backdrop-blur-md sm:bg-white/90 sm:backdrop-blur-sm rounded-t-xl sm:rounded-xl shadow-lg sm:shadow-lg p-3 sm:p-4 border-t sm:border border-gray-200 animate-slideInRight z-40",children:[k.jsxs("button",{onClick:w,disabled:o===1||f,className:`flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-2 rounded-lg font-medium transition-all duration-200 touch-manipulation min-h-[44px] transform hover:scale-105 active:scale-95 ${o===1||f?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-amber-500 text-white hover:bg-amber-600 active:bg-amber-700 shadow-md hover:shadow-lg"}`,children:[k.jsx(bT,{className:"w-5 h-5 flex-shrink-0 transition-transform duration-200 group-hover:-translate-x-1"}),k.jsx("span",{className:"text-sm sm:text-base",children:"Previous"})]}),k.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 font-medium px-2",children:[o," / ",i||"..."]}),k.jsxs("button",{onClick:T,disabled:o===i||f,className:`flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-2 rounded-lg font-medium transition-all duration-200 touch-manipulation min-h-[44px] transform hover:scale-105 active:scale-95 ${o===i||f?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-amber-500 text-white hover:bg-amber-600 active:bg-amber-700 shadow-md hover:shadow-lg"}`,children:[k.jsx("span",{className:"text-sm sm:text-base",children:"Next"}),k.jsx(_T,{className:"w-5 h-5 flex-shrink-0 transition-transform duration-200 group-hover:translate-x-1"})]})]})]})}const BR=[{id:1,name:"Hinglaj",bodyPart:"Top of Head (Brahmarandhra)",deviName:"Kottari",bhairavaName:"Bhimlochan",location:"Lasbela, Balochistan",state:"Balochistan",country:"Pakistan",puranicReference:"Devi Bhagavata Purana",description:"Located in a cave on the bank of the Hingol River."},{id:2,name:"Sharkarey",bodyPart:"Eyes",deviName:"Mahishasuramardini",bhairavaName:"Krodhish",location:"Karachi",state:"Sindh",country:"Pakistan",puranicReference:"Devi Bhagavata Purana",description:"Also known as Shivaharkaray."},{id:3,name:"Sugandha",bodyPart:"Nose",deviName:"Sunanda",bhairavaName:"Tryambak",location:"Shikarpur, Barisal",state:"Barisal",country:"Bangladesh",puranicReference:"Devi Bhagavata Purana",description:"Famous for the annual festival during Shivaratri."},{id:4,name:"Kashmir (Amarnath)",bodyPart:"Throat",deviName:"Mahamaya",bhairavaName:"Trisandhyaswar",location:"Anantnag",state:"Jammu & Kashmir",country:"India",puranicReference:"Devi Bhagavata Purana",description:"The cave where the ice lingam forms naturally."},{id:5,name:"Jwalamukhi",bodyPart:"Tongue",deviName:"Siddhida",bhairavaName:"Unmatta Bhairav",location:"Kangra",state:"Himachal Pradesh",country:"India",puranicReference:"Kalika Purana",description:"Known for the eternal flame that burns without fuel."},{id:6,name:"Jalandhar",bodyPart:"Left Breast",deviName:"Tripurimalini",bhairavaName:"Bheeshma",location:"Jalandhar",state:"Punjab",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Devi is worshipped here as the 'one with the garland of three worlds'."},{id:7,name:"Vaibhash (Baidyanath Dham)",bodyPart:"Heart",deviName:"Jai Durga",bhairavaName:"Vaidyanath",location:"Deoghar",state:"Jharkhand",country:"India",puranicReference:"Devi Bhagavata Purana",description:"One of the most sacred pilgrimage sites in India."},{id:8,name:"Gujyeshwari",bodyPart:"Knees",deviName:"Mahashira",bhairavaName:"Kapali",location:"Kathmandu",state:"Bagmati",country:"Nepal",puranicReference:"Devi Bhagavata Purana",description:"Located near the Pashupatinath Temple."},{id:9,name:"Manasa",bodyPart:"Right Hand",deviName:"Dakshayani",bhairavaName:"Amar",location:"Lake Manasarovar",state:"Tibet",country:"China",puranicReference:"Devi Bhagavata Purana",description:"Situated at the foot of Mount Kailash."},{id:10,name:"Biraja",bodyPart:"Navel",deviName:"Vimala",bhairavaName:"Jagannath",location:"Jajpur",state:"Odisha",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Known as Gadakshetra, a significant pilgrimage center."},{id:11,name:"Gandaki",bodyPart:"Temple",deviName:"Gandaki Chandi",bhairavaName:"Chakrapani",location:"Muktinath",state:"Mustang",country:"Nepal",puranicReference:"Devi Bhagavata Purana",description:"Famed for Shaligram stones found in the Gandaki river."},{id:12,name:"Bahula",bodyPart:"Left Arm",deviName:"Bahula",bhairavaName:"Bhiruk",location:"Katwa",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Located on the banks of Ajay river."},{id:13,name:"Ujjaini",bodyPart:"Right Wrist",deviName:"Mangala Chandika",bhairavaName:"Kapilambar",location:"Guskara",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Distinct from Ujjain in Madhya Pradesh."},{id:14,name:"Chattal",bodyPart:"Right Arm",deviName:"Bhavani",bhairavaName:"Chandrashekhar",location:"Sitakunda",state:"Chittagong",country:"Bangladesh",puranicReference:"Devi Bhagavata Purana",description:"Located atop the Chandranath Hill."},{id:15,name:"Tripura",bodyPart:"Right Foot",deviName:"Tripura Sundari",bhairavaName:"Tripuresh",location:"Udaipur",state:"Tripura",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Known as Matabari, one of the oldest temples in the region."},{id:16,name:"Trisrota",bodyPart:"Left Foot",deviName:"Bhramari",bhairavaName:"Ishwar",location:"Salbari",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Situated on the banks of Tista river."},{id:17,name:"Kamakhya",bodyPart:"Genitals (Yoni)",deviName:"Kamakhya",bhairavaName:"Umananda",location:"Guwahati",state:"Assam",country:"India",puranicReference:"Kalika Purana",description:"The center of Tantric worship in India."},{id:18,name:"Jugaadya",bodyPart:"Big Toe of Right Foot",deviName:"Jugaadya",bhairavaName:"Kshirakhandak",location:"Khirgram",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Ancient temple with deep historical significance."},{id:19,name:"Kalighat",bodyPart:"Toes of Right Foot",deviName:"Kali",bhairavaName:"Nakulish",location:"Kolkata",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"One of the most famous and visited Shakti Peethas."},{id:20,name:"Prayag",bodyPart:"Ten Fingers",deviName:"Lalita",bhairavaName:"Bhava",location:"Prayagraj",state:"Uttar Pradesh",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Located at the holy confluence of Ganga, Yamuna, and Saraswati."},{id:21,name:"Jayanti",bodyPart:"Left Thigh",deviName:"Jayanti",bhairavaName:"Kramadishwar",location:"Kalajore, Sylhet",state:"Sylhet",country:"Bangladesh",puranicReference:"Devi Bhagavata Purana",description:"Located in the Jaintia Hills region."},{id:22,name:"Kirit",bodyPart:"Crown",deviName:"Vimala",bhairavaName:"Sangbad",location:"Kiritkona",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"The name 'Kirit' literally means crown."},{id:23,name:"Varanasi",bodyPart:"Earrings",deviName:"Vishalakshi",bhairavaName:"Kalbhairav",location:"Varanasi",state:"Uttar Pradesh",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Located near the famous Manikarnika Ghat."},{id:24,name:"Kanyashram",bodyPart:"Back",deviName:"Sarvani",bhairavaName:"Nimish",location:"Kumari",state:"Tamil Nadu",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Also known as Kanyakumari temple."},{id:25,name:"Kurukshetra",bodyPart:"Ankle",deviName:"Savitri",bhairavaName:"Sthanu",location:"Thanesar",state:"Haryana",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Where the goddess is worshipped as Savitri."},{id:26,name:"Manibandh",bodyPart:"Two Ornaments (Bracelets)",deviName:"Gayatri",bhairavaName:"Sarvanand",location:"Pushkar",state:"Rajasthan",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Near the famous Brahma temple in Pushkar."},{id:27,name:"Shri Parvat",bodyPart:"Right Shoulder",deviName:"Shri Sundari",bhairavaName:"Sundaranand",location:"Sylhet",state:"Sylhet",country:"Bangladesh",puranicReference:"Devi Bhagavata Purana",description:"Often identified with Shri Sailam in Andhra Pradesh by some."},{id:28,name:"Kanchi",bodyPart:"Skeleton",deviName:"Devagarbha",bhairavaName:"Ruru",location:"Kanchipuram",state:"Tamil Nadu",country:"India",puranicReference:"Devi Bhagavata Purana",description:"One of the seven Moksha-puris."},{id:29,name:"Kalamadhav",bodyPart:"Right Hips",deviName:"Kali",bhairavaName:"Asitanga",location:"Amarkantak",state:"Madhya Pradesh",country:"India",puranicReference:"Devi Bhagavata Purana",description:"At the source of the Narmada river."},{id:30,name:"Shondesh",bodyPart:"Left Hips",deviName:"Narmada",bhairavaName:"Bhadrasen",location:"Amarkantak",state:"Madhya Pradesh",country:"India",puranicReference:"Devi Bhagavata Purana",description:"The goddess is worshipped here as Narmada."},{id:31,name:"Ramgiri",bodyPart:"Right Breast",deviName:"Shivani",bhairavaName:"Chanda",location:"Chitrakoot",state:"Uttar Pradesh",country:"India",puranicReference:"Devi Bhagavata Purana",description:"A very holy spot associated with Lord Rama."},{id:32,name:"Vrindavan",bodyPart:"Hair",deviName:"Uma",bhairavaName:"Bhutesh",location:"Mathura",state:"Uttar Pradesh",country:"India",puranicReference:"Devi Bhagavata Purana",description:"The goddess is worshipped as Uma."},{id:33,name:"Shuchi",bodyPart:"Upper Teeth",deviName:"Narayani",bhairavaName:"Sanhara",location:"Suchindram",state:"Tamil Nadu",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Known for the Sthanumalayan Temple."},{id:34,name:"Panchasagar",bodyPart:"Lower Teeth",deviName:"Varahi",bhairavaName:"Maharudra",location:"Unknown",state:"Unknown",country:"India",puranicReference:"Devi Bhagavata Purana",description:"The exact location is subject to debate."},{id:35,name:"Kartoyatat",bodyPart:"Left Seat",deviName:"Aparna",bhairavaName:"Vaman",location:"Bhavanipur",state:"Rajshahi",country:"Bangladesh",puranicReference:"Devi Bhagavata Purana",description:"Located on the banks of Karatoya river."},{id:36,name:"Shri Parvat",bodyPart:"Right Anklets",deviName:"Mahalakshmi",bhairavaName:"Shambarand",location:"Lakhia",state:"Jammu & Kashmir",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Distinct from Srisailam and the Sylhet Shri Parvat."},{id:37,name:"Vibhash",bodyPart:"Left Ankle",deviName:"Kapalini",bhairavaName:"Sarvanand",location:"Tamluk",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Located in East Midnapore district."},{id:38,name:"Prabhas",bodyPart:"Stomach",deviName:"Chandrabhaga",bhairavaName:"Vakratunda",location:"Somnath",state:"Gujarat",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Near the famous Somnath Jyotirlinga temple."},{id:39,name:"Bhairavparvat",bodyPart:"Upper Lips",deviName:"Avanti",bhairavaName:"Lambakarna",location:"Ujjain",state:"Madhya Pradesh",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Located on the banks of Shipra river."},{id:40,name:"Janasthan",bodyPart:"Chin",deviName:"Bhramari",bhairavaName:"Vikritaksh",location:"Nashik",state:"Maharashtra",country:"India",puranicReference:"Devi Bhagavata Purana",description:"In the Panchavati region."},{id:41,name:"Godavari Tir",bodyPart:"Left Cheek",deviName:"Vishwamatruka",bhairavaName:"Dandapani",location:"Rajahmundry",state:"Andhra Pradesh",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Located on the banks of the Godavari river."},{id:42,name:"Ratnavali",bodyPart:"Right Shoulder",deviName:"Kumari",bhairavaName:"Shiva",location:"Khanakul",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Located in the Hooghly district."},{id:43,name:"Mithila",bodyPart:"Left Shoulder",deviName:"Uma",bhairavaName:"Mahodar",location:"Janakpur",state:"Mithila",country:"Nepal",puranicReference:"Devi Bhagavata Purana",description:"Near the Janaki Mandir."},{id:44,name:"Nalhati",bodyPart:"Vocal Cords/Stomach",deviName:"Kalika Devi",bhairavaName:"Yogesh",location:"Nalhati",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Worshipped as 'Nalateshwari'."},{id:45,name:"Karnat",bodyPart:"Both Ears",deviName:"Jayadurga",bhairavaName:"Abhiru",location:"Kangra",state:"Himachal Pradesh",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Often identified with Chamunda Devi temple."},{id:46,name:"Bakreshwar",bodyPart:"Mind (Manas)",deviName:"Mahishasuramardini",bhairavaName:"Vakranath",location:"Dubrajpur",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Famous for its hot springs."},{id:47,name:"Yashor",bodyPart:"Hands and Feet",deviName:"Jashoreshwari",bhairavaName:"Chanda",location:"Ishwaripur",state:"Khulna",country:"Bangladesh",puranicReference:"Devi Bhagavata Purana",description:"A major pilgrimage site in Bangladesh."},{id:48,name:"Attahas",bodyPart:"Lips",deviName:"Phullara",bhairavaName:"Vishvesh",location:"Labhpur",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"A significant site in Birbhum district."},{id:49,name:"Nandipur",bodyPart:"Necklace",deviName:"Nandini",bhairavaName:"Nandikeshwar",location:"Sainthia",state:"West Bengal",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Located on the banks of the Kopai river."},{id:50,name:"Lanka",bodyPart:"Anklets",deviName:"Indrakshi",bhairavaName:"Rakshaseshwar",location:"Trincomalee",state:"Eastern Province",country:"Sri Lanka",puranicReference:"Devi Bhagavata Purana",description:"Destroyed by Portuguese; restored later."},{id:51,name:"Virat",bodyPart:"Toes of Left Foot",deviName:"Ambika",bhairavaName:"Amriteshwar",location:"Bairat",state:"Rajasthan",country:"India",puranicReference:"Devi Bhagavata Purana",description:"Located near Jaipur."}],Vg={title:"  ",titleEnglish:"History of Shaktipeeths",content:`                  

       ,                       ,          ,          

      ,                                        51     

-      , -             ()     51              `,contentEnglish:`Shaktipeeths are among the most sacred places in Hinduism. Their origin is linked to the story of Goddess Sati.

When King Daksha organized a yajna (sacrificial ritual), he did not invite his daughter Sati and son-in-law Shiva. Sati decided to attend her father's yajna, but was humiliated there. Overwhelmed by the insult, Sati immolated herself in the yajna fire.

When Lord Shiva learned of this, he became enraged and began performing the Tandava dance while carrying Sati's body. The entire universe was on the verge of destruction. To control the situation, Lord Vishnu used his Sudarshan Chakra to divide Sati's body into 51 parts.

Wherever parts of Sati's body fell, Shaktipeeths were established. Each Shaktipeeth contains the power of the Goddess and the presence of Lord Shiva (Bhairava). Worshipping these 51 Shaktipeeths grants devotees liberation and spiritual power.`},hd=BR,FR=hd.reduce((a,e)=>{const t=`${e.state}, ${e.country}`;return a[t]||(a[t]=[]),a[t].push(e),a},{}),zR=Object.entries(FR).map(([a,e])=>{const[t,n]=a.split(", ");return{state:t,country:n,stateCountry:a,count:e.length,peeths:e}}).sort((a,e)=>e.count-a.count);function KC(a,e){const t=W.useRef(e);W.useEffect(function(){e!==t.current&&a.attributionControl!=null&&(t.current!=null&&a.attributionControl.removeAttribution(t.current),e!=null&&a.attributionControl.addAttribution(e)),t.current=e},[a,e])}const HR=1;function UR(a){return Object.freeze({__version:HR,map:a})}function WR(a,e){return Object.freeze({...a,...e})}const $C=W.createContext(null),qC=$C.Provider;function J0(){const a=W.useContext($C);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function VR(a){function e(t,n){const{instance:i,context:s}=a(t).current;return W.useImperativeHandle(n,()=>i),t.children==null?null:Ov.createElement(qC,{value:s},t.children)}return W.forwardRef(e)}function GR(a){function e(t,n){const[i,s]=W.useState(!1),{instance:o}=a(t,s).current;W.useImperativeHandle(n,()=>o),W.useEffect(function(){i&&o.update()},[o,i,t.children]);const l=o._contentNode;return l?vT.createPortal(t.children,l):null}return W.forwardRef(e)}function YR(a){function e(t,n){const{instance:i}=a(t).current;return W.useImperativeHandle(n,()=>i),null}return W.forwardRef(e)}function ZC(a,e){const t=W.useRef();W.useEffect(function(){return e!=null&&a.instance.on(e),t.current=e,function(){t.current!=null&&a.instance.off(t.current),t.current=null}},[a,e])}function ex(a,e){const t=a.pane??e.pane;return t?{...a,pane:t}:a}function KR(a,e){return function(n,i){const s=J0(),o=a(ex(n,s),s);return KC(s.map,n.attribution),ZC(o.current,n.eventHandlers),e(o.current,s,n,i),o}}var zk={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(a,e){(function(t,n){n(e)})(bL,function(t){var n="1.9.4";function i(r){var d,m,v,_;for(m=1,v=arguments.length;m<v;m++){_=arguments[m];for(d in _)r[d]=_[d]}return r}var s=Object.create||function(){function r(){}return function(d){return r.prototype=d,new r}}();function o(r,d){var m=Array.prototype.slice;if(r.bind)return r.bind.apply(r,m.call(arguments,1));var v=m.call(arguments,2);return function(){return r.apply(d,v.length?v.concat(m.call(arguments)):arguments)}}var l=0;function u(r){return"_leaflet_id"in r||(r._leaflet_id=++l),r._leaflet_id}function c(r,d,m){var v,_,j,R;return R=function(){v=!1,_&&(j.apply(m,_),_=!1)},j=function(){v?_=arguments:(r.apply(m,arguments),setTimeout(R,d),v=!0)},j}function f(r,d,m){var v=d[1],_=d[0],j=v-_;return r===v&&m?r:((r-_)%j+j)%j+_}function p(){return!1}function g(r,d){if(d===!1)return r;var m=Math.pow(10,d===void 0?6:d);return Math.round(r*m)/m}function b(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function A(r){return b(r).split(/\s+/)}function x(r,d){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?s(r.options):{});for(var m in d)r.options[m]=d[m];return r.options}function M(r,d,m){var v=[];for(var _ in r)v.push(encodeURIComponent(m?_.toUpperCase():_)+"="+encodeURIComponent(r[_]));return(!d||d.indexOf("?")===-1?"?":"&")+v.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function T(r,d){return r.replace(w,function(m,v){var _=d[v];if(_===void 0)throw new Error("No value provided for variable "+m);return typeof _=="function"&&(_=_(d)),_})}var C=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function P(r,d){for(var m=0;m<r.length;m++)if(r[m]===d)return m;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var O=0;function D(r){var d=+new Date,m=Math.max(0,16-(d-O));return O=d+m,window.setTimeout(r,m)}var U=window.requestAnimationFrame||N("RequestAnimationFrame")||D,H=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function V(r,d,m){if(m&&U===D)r.call(d);else return U.call(window,o(r,d))}function Z(r){r&&H.call(window,r)}var he={__proto__:null,extend:i,create:s,bind:o,get lastId(){return l},stamp:u,throttle:c,wrapNum:f,falseFn:p,formatNum:g,trim:b,splitWords:A,setOptions:x,getParamString:M,template:T,isArray:C,indexOf:P,emptyImageUrl:I,requestFn:U,cancelFn:H,requestAnimFrame:V,cancelAnimFrame:Z};function Q(){}Q.extend=function(r){var d=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=d.__super__=this.prototype,v=s(m);v.constructor=d,d.prototype=v;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(d[_]=this[_]);return r.statics&&i(d,r.statics),r.includes&&(fe(r.includes),i.apply(null,[v].concat(r.includes))),i(v,r),delete v.statics,delete v.includes,v.options&&(v.options=m.options?s(m.options):{},i(v.options,r.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var j=0,R=v._initHooks.length;j<R;j++)v._initHooks[j].call(this)}},d},Q.include=function(r){var d=this.prototype.options;return i(this.prototype,r),r.options&&(this.prototype.options=d,this.mergeOptions(r.options)),this},Q.mergeOptions=function(r){return i(this.prototype.options,r),this},Q.addInitHook=function(r){var d=Array.prototype.slice.call(arguments,1),m=typeof r=="function"?r:function(){this[r].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function fe(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=C(r)?r:[r];for(var d=0;d<r.length;d++)r[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(r,d,m){if(typeof r=="object")for(var v in r)this._on(v,r[v],d);else{r=A(r);for(var _=0,j=r.length;_<j;_++)this._on(r[_],d,m)}return this},off:function(r,d,m){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var v in r)this._off(v,r[v],d);else{r=A(r);for(var _=arguments.length===1,j=0,R=r.length;j<R;j++)_?this._off(r[j]):this._off(r[j],d,m)}return this},_on:function(r,d,m,v){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(r,d,m)===!1){m===this&&(m=void 0);var _={fn:d,ctx:m};v&&(_.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(_)}},_off:function(r,d,m){var v,_,j;if(this._events&&(v=this._events[r],!!v)){if(arguments.length===1){if(this._firingCount)for(_=0,j=v.length;_<j;_++)v[_].fn=p;delete this._events[r];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var R=this._listens(r,d,m);if(R!==!1){var B=v[R];this._firingCount&&(B.fn=p,this._events[r]=v=v.slice()),v.splice(R,1)}}},fire:function(r,d,m){if(!this.listens(r,m))return this;var v=i({},d,{type:r,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var _=this._events[r];if(_){this._firingCount=this._firingCount+1||1;for(var j=0,R=_.length;j<R;j++){var B=_[j],z=B.fn;B.once&&this.off(r,z,B.ctx),z.call(B.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(r,d,m,v){typeof r!="string"&&console.warn('"string" type argument expected');var _=d;typeof d!="function"&&(v=!!d,_=void 0,m=void 0);var j=this._events&&this._events[r];if(j&&j.length&&this._listens(r,_,m)!==!1)return!0;if(v){for(var R in this._eventParents)if(this._eventParents[R].listens(r,d,m,v))return!0}return!1},_listens:function(r,d,m){if(!this._events)return!1;var v=this._events[r]||[];if(!d)return!!v.length;m===this&&(m=void 0);for(var _=0,j=v.length;_<j;_++)if(v[_].fn===d&&v[_].ctx===m)return _;return!1},once:function(r,d,m){if(typeof r=="object")for(var v in r)this._on(v,r[v],d,!0);else{r=A(r);for(var _=0,j=r.length;_<j;_++)this._on(r[_],d,m,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[u(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[u(r)],this},_propagateEvent:function(r){for(var d in this._eventParents)this._eventParents[d].fire(r.type,i({layer:r.target,propagatedFrom:r.target},r),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var X=Q.extend(q);function F(r,d,m){this.x=m?Math.round(r):r,this.y=m?Math.round(d):d}var ee=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(r){return this.clone()._add(Y(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(Y(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new F(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new F(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(r){r=Y(r);var d=r.x-this.x,m=r.y-this.y;return Math.sqrt(d*d+m*m)},equals:function(r){return r=Y(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=Y(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Y(r,d,m){return r instanceof F?r:C(r)?new F(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new F(r.x,r.y):new F(r,d,m)}function de(r,d){if(r)for(var m=d?[r,d]:r,v=0,_=m.length;v<_;v++)this.extend(m[v])}de.prototype={extend:function(r){var d,m;if(!r)return this;if(r instanceof F||typeof r[0]=="number"||"x"in r)d=m=Y(r);else if(r=ne(r),d=r.min,m=r.max,!d||!m)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=m.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(r){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var d,m;return typeof r[0]=="number"||r instanceof F?r=Y(r):r=ne(r),r instanceof de?(d=r.min,m=r.max):d=m=r,d.x>=this.min.x&&m.x<=this.max.x&&d.y>=this.min.y&&m.y<=this.max.y},intersects:function(r){r=ne(r);var d=this.min,m=this.max,v=r.min,_=r.max,j=_.x>=d.x&&v.x<=m.x,R=_.y>=d.y&&v.y<=m.y;return j&&R},overlaps:function(r){r=ne(r);var d=this.min,m=this.max,v=r.min,_=r.max,j=_.x>d.x&&v.x<m.x,R=_.y>d.y&&v.y<m.y;return j&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var d=this.min,m=this.max,v=Math.abs(d.x-m.x)*r,_=Math.abs(d.y-m.y)*r;return ne(Y(d.x-v,d.y-_),Y(m.x+v,m.y+_))},equals:function(r){return r?(r=ne(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ne(r,d){return!r||r instanceof de?r:new de(r,d)}function me(r,d){if(r)for(var m=d?[r,d]:r,v=0,_=m.length;v<_;v++)this.extend(m[v])}me.prototype={extend:function(r){var d=this._southWest,m=this._northEast,v,_;if(r instanceof ge)v=r,_=r;else if(r instanceof me){if(v=r._southWest,_=r._northEast,!v||!_)return this}else return r?this.extend(ue(r)||ye(r)):this;return!d&&!m?(this._southWest=new ge(v.lat,v.lng),this._northEast=new ge(_.lat,_.lng)):(d.lat=Math.min(v.lat,d.lat),d.lng=Math.min(v.lng,d.lng),m.lat=Math.max(_.lat,m.lat),m.lng=Math.max(_.lng,m.lng)),this},pad:function(r){var d=this._southWest,m=this._northEast,v=Math.abs(d.lat-m.lat)*r,_=Math.abs(d.lng-m.lng)*r;return new me(new ge(d.lat-v,d.lng-_),new ge(m.lat+v,m.lng+_))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof ge||"lat"in r?r=ue(r):r=ye(r);var d=this._southWest,m=this._northEast,v,_;return r instanceof me?(v=r.getSouthWest(),_=r.getNorthEast()):v=_=r,v.lat>=d.lat&&_.lat<=m.lat&&v.lng>=d.lng&&_.lng<=m.lng},intersects:function(r){r=ye(r);var d=this._southWest,m=this._northEast,v=r.getSouthWest(),_=r.getNorthEast(),j=_.lat>=d.lat&&v.lat<=m.lat,R=_.lng>=d.lng&&v.lng<=m.lng;return j&&R},overlaps:function(r){r=ye(r);var d=this._southWest,m=this._northEast,v=r.getSouthWest(),_=r.getNorthEast(),j=_.lat>d.lat&&v.lat<m.lat,R=_.lng>d.lng&&v.lng<m.lng;return j&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,d){return r?(r=ye(r),this._southWest.equals(r.getSouthWest(),d)&&this._northEast.equals(r.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ye(r,d){return r instanceof me?r:new me(r,d)}function ge(r,d,m){if(isNaN(r)||isNaN(d))throw new Error("Invalid LatLng object: ("+r+", "+d+")");this.lat=+r,this.lng=+d,m!==void 0&&(this.alt=+m)}ge.prototype={equals:function(r,d){if(!r)return!1;r=ue(r);var m=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return m<=(d===void 0?1e-9:d)},toString:function(r){return"LatLng("+g(this.lat,r)+", "+g(this.lng,r)+")"},distanceTo:function(r){return sn.distance(this,ue(r))},wrap:function(){return sn.wrapLatLng(this)},toBounds:function(r){var d=180*r/40075017,m=d/Math.cos(Math.PI/180*this.lat);return ye([this.lat-d,this.lng-m],[this.lat+d,this.lng+m])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function ue(r,d,m){return r instanceof ge?r:C(r)&&typeof r[0]!="object"?r.length===3?new ge(r[0],r[1],r[2]):r.length===2?new ge(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new ge(r.lat,"lng"in r?r.lng:r.lon,r.alt):d===void 0?null:new ge(r,d,m)}var Se={latLngToPoint:function(r,d){var m=this.projection.project(r),v=this.scale(d);return this.transformation._transform(m,v)},pointToLatLng:function(r,d){var m=this.scale(d),v=this.transformation.untransform(r,m);return this.projection.unproject(v)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var d=this.projection.bounds,m=this.scale(r),v=this.transformation.transform(d.min,m),_=this.transformation.transform(d.max,m);return new de(v,_)},infinite:!1,wrapLatLng:function(r){var d=this.wrapLng?f(r.lng,this.wrapLng,!0):r.lng,m=this.wrapLat?f(r.lat,this.wrapLat,!0):r.lat,v=r.alt;return new ge(m,d,v)},wrapLatLngBounds:function(r){var d=r.getCenter(),m=this.wrapLatLng(d),v=d.lat-m.lat,_=d.lng-m.lng;if(v===0&&_===0)return r;var j=r.getSouthWest(),R=r.getNorthEast(),B=new ge(j.lat-v,j.lng-_),z=new ge(R.lat-v,R.lng-_);return new me(B,z)}},sn=i({},Se,{wrapLng:[-180,180],R:6371e3,distance:function(r,d){var m=Math.PI/180,v=r.lat*m,_=d.lat*m,j=Math.sin((d.lat-r.lat)*m/2),R=Math.sin((d.lng-r.lng)*m/2),B=j*j+Math.cos(v)*Math.cos(_)*R*R,z=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*z}}),wn=6378137,ze={R:wn,MAX_LATITUDE:85.0511287798,project:function(r){var d=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,r.lat),-m),_=Math.sin(v*d);return new F(this.R*r.lng*d,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(r){var d=180/Math.PI;return new ge((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*d,r.x*d/this.R)},bounds:function(){var r=wn*Math.PI;return new de([-r,-r],[r,r])}()};function on(r,d,m,v){if(C(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=d,this._c=m,this._d=v}on.prototype={transform:function(r,d){return this._transform(r.clone(),d)},_transform:function(r,d){return d=d||1,r.x=d*(this._a*r.x+this._b),r.y=d*(this._c*r.y+this._d),r},untransform:function(r,d){return d=d||1,new F((r.x/d-this._b)/this._a,(r.y/d-this._d)/this._c)}};function Rn(r,d,m,v){return new on(r,d,m,v)}var Ie=i({},sn,{code:"EPSG:3857",projection:ze,transformation:function(){var r=.5/(Math.PI*ze.R);return Rn(r,.5,-r,.5)}()}),nt=i({},Ie,{code:"EPSG:900913"});function kt(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Pt(r,d){var m="",v,_,j,R,B,z;for(v=0,j=r.length;v<j;v++){for(B=r[v],_=0,R=B.length;_<R;_++)z=B[_],m+=(_?"L":"M")+z.x+" "+z.y;m+=d?ce.svg?"z":"x":""}return m||"M0 0"}var Bi=document.documentElement.style,Fi="ActiveXObject"in window,kc=Fi&&!document.addEventListener,Zp="msLaunchUri"in navigator&&!("documentMode"in document),Ms=Hi("webkit"),Xp=Hi("android"),Qp=Hi("android 2")||Hi("android 3"),db=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ub=Xp&&Hi("Google")&&db<537&&!("AudioNode"in window),xc=!!window.opera,ui=!Zp&&Hi("chrome"),Ar=Hi("gecko")&&!Ms&&!xc&&!Fi,zi=!ui&&Hi("safari"),Ul=Hi("phantom"),lx="OTransition"in Bi,QC=navigator.platform.indexOf("Win")===0,dx=Fi&&"transition"in Bi,cb="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qp,ux="MozPerspective"in Bi,JC=!window.L_DISABLE_3D&&(dx||cb||ux)&&!lx&&!Ul,Sc=typeof orientation<"u"||Hi("mobile"),eP=Sc&&Ms,tP=Sc&&cb,cx=!window.PointerEvent&&window.MSPointerEvent,mx=!!(window.PointerEvent||cx),fx="ontouchstart"in window||!!window.TouchEvent,nP=!window.L_NO_TOUCH&&(fx||mx),aP=Sc&&xc,iP=Sc&&Ar,rP=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,sP=function(){var r=!1;try{var d=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",p,d),window.removeEventListener("testPassiveEventSupport",p,d)}catch{}return r}(),oP=function(){return!!document.createElement("canvas").getContext}(),mb=!!(document.createElementNS&&kt("svg").createSVGRect),hP=!!mb&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),lP=!mb&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var d=r.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),dP=navigator.platform.indexOf("Mac")===0,uP=navigator.platform.indexOf("Linux")===0;function Hi(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var ce={ie:Fi,ielt9:kc,edge:Zp,webkit:Ms,android:Xp,android23:Qp,androidStock:ub,opera:xc,chrome:ui,gecko:Ar,safari:zi,phantom:Ul,opera12:lx,win:QC,ie3d:dx,webkit3d:cb,gecko3d:ux,any3d:JC,mobile:Sc,mobileWebkit:eP,mobileWebkit3d:tP,msPointer:cx,pointer:mx,touch:nP,touchNative:fx,mobileOpera:aP,mobileGecko:iP,retina:rP,passiveEvents:sP,canvas:oP,svg:mb,vml:lP,inlineSvg:hP,mac:dP,linux:uP},px=ce.msPointer?"MSPointerDown":"pointerdown",gx=ce.msPointer?"MSPointerMove":"pointermove",vx=ce.msPointer?"MSPointerUp":"pointerup",yx=ce.msPointer?"MSPointerCancel":"pointercancel",fb={touchstart:px,touchmove:gx,touchend:vx,touchcancel:yx},bx={touchstart:vP,touchmove:Jp,touchend:Jp,touchcancel:Jp},Wl={},_x=!1;function cP(r,d,m){return d==="touchstart"&&gP(),bx[d]?(m=bx[d].bind(this,m),r.addEventListener(fb[d],m,!1),m):(console.warn("wrong event specified:",d),p)}function mP(r,d,m){if(!fb[d]){console.warn("wrong event specified:",d);return}r.removeEventListener(fb[d],m,!1)}function fP(r){Wl[r.pointerId]=r}function pP(r){Wl[r.pointerId]&&(Wl[r.pointerId]=r)}function wx(r){delete Wl[r.pointerId]}function gP(){_x||(document.addEventListener(px,fP,!0),document.addEventListener(gx,pP,!0),document.addEventListener(vx,wx,!0),document.addEventListener(yx,wx,!0),_x=!0)}function Jp(r,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var m in Wl)d.touches.push(Wl[m]);d.changedTouches=[d],r(d)}}function vP(r,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&hn(d),Jp(r,d)}function yP(r){var d={},m,v;for(v in r)m=r[v],d[v]=m&&m.bind?m.bind(r):m;return r=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var bP=200;function _P(r,d){r.addEventListener("dblclick",d);var m=0,v;function _(j){if(j.detail!==1){v=j.detail;return}if(!(j.pointerType==="mouse"||j.sourceCapabilities&&!j.sourceCapabilities.firesTouchEvents)){var R=Tx(j);if(!(R.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!R.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var B=Date.now();B-m<=bP?(v++,v===2&&d(yP(j))):v=1,m=B}}}return r.addEventListener("click",_),{dblclick:d,simDblclick:_}}function wP(r,d){r.removeEventListener("dblclick",d.dblclick),r.removeEventListener("click",d.simDblclick)}var pb=ng(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ac=ng(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),kx=Ac==="webkitTransition"||Ac==="OTransition"?Ac+"End":"transitionend";function xx(r){return typeof r=="string"?document.getElementById(r):r}function Tc(r,d){var m=r.style[d]||r.currentStyle&&r.currentStyle[d];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(r,null);m=v?v[d]:null}return m==="auto"?null:m}function Fe(r,d,m){var v=document.createElement(r);return v.className=d||"",m&&m.appendChild(v),v}function ft(r){var d=r.parentNode;d&&d.removeChild(r)}function eg(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Vl(r){var d=r.parentNode;d&&d.lastChild!==r&&d.appendChild(r)}function Gl(r){var d=r.parentNode;d&&d.firstChild!==r&&d.insertBefore(r,d.firstChild)}function gb(r,d){if(r.classList!==void 0)return r.classList.contains(d);var m=tg(r);return m.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(m)}function Ce(r,d){if(r.classList!==void 0)for(var m=A(d),v=0,_=m.length;v<_;v++)r.classList.add(m[v]);else if(!gb(r,d)){var j=tg(r);vb(r,(j?j+" ":"")+d)}}function Lt(r,d){r.classList!==void 0?r.classList.remove(d):vb(r,b((" "+tg(r)+" ").replace(" "+d+" "," ")))}function vb(r,d){r.className.baseVal===void 0?r.className=d:r.className.baseVal=d}function tg(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function za(r,d){"opacity"in r.style?r.style.opacity=d:"filter"in r.style&&kP(r,d)}function kP(r,d){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=r.filters.item(v)}catch{if(d===1)return}d=Math.round(d*100),m?(m.Enabled=d!==100,m.Opacity=d):r.style.filter+=" progid:"+v+"(opacity="+d+")"}function ng(r){for(var d=document.documentElement.style,m=0;m<r.length;m++)if(r[m]in d)return r[m];return!1}function eh(r,d,m){var v=d||new F(0,0);r.style[pb]=(ce.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function Rt(r,d){r._leaflet_pos=d,ce.any3d?eh(r,d):(r.style.left=d.x+"px",r.style.top=d.y+"px")}function th(r){return r._leaflet_pos||new F(0,0)}var Ec,Cc,yb;if("onselectstart"in document)Ec=function(){ke(window,"selectstart",hn)},Cc=function(){at(window,"selectstart",hn)};else{var Pc=ng(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ec=function(){if(Pc){var r=document.documentElement.style;yb=r[Pc],r[Pc]="none"}},Cc=function(){Pc&&(document.documentElement.style[Pc]=yb,yb=void 0)}}function bb(){ke(window,"dragstart",hn)}function _b(){at(window,"dragstart",hn)}var ag,wb;function kb(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(ig(),ag=r,wb=r.style.outlineStyle,r.style.outlineStyle="none",ke(window,"keydown",ig))}function ig(){ag&&(ag.style.outlineStyle=wb,ag=void 0,wb=void 0,at(window,"keydown",ig))}function Sx(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function xb(r){var d=r.getBoundingClientRect();return{x:d.width/r.offsetWidth||1,y:d.height/r.offsetHeight||1,boundingClientRect:d}}var xP={__proto__:null,TRANSFORM:pb,TRANSITION:Ac,TRANSITION_END:kx,get:xx,getStyle:Tc,create:Fe,remove:ft,empty:eg,toFront:Vl,toBack:Gl,hasClass:gb,addClass:Ce,removeClass:Lt,setClass:vb,getClass:tg,setOpacity:za,testProp:ng,setTransform:eh,setPosition:Rt,getPosition:th,get disableTextSelection(){return Ec},get enableTextSelection(){return Cc},disableImageDrag:bb,enableImageDrag:_b,preventOutline:kb,restoreOutline:ig,getSizedParentNode:Sx,getScale:xb};function ke(r,d,m,v){if(d&&typeof d=="object")for(var _ in d)Ab(r,_,d[_],m);else{d=A(d);for(var j=0,R=d.length;j<R;j++)Ab(r,d[j],m,v)}return this}var Ui="_leaflet_events";function at(r,d,m,v){if(arguments.length===1)Ax(r),delete r[Ui];else if(d&&typeof d=="object")for(var _ in d)Tb(r,_,d[_],m);else if(d=A(d),arguments.length===2)Ax(r,function(B){return P(d,B)!==-1});else for(var j=0,R=d.length;j<R;j++)Tb(r,d[j],m,v);return this}function Ax(r,d){for(var m in r[Ui]){var v=m.split(/\d/)[0];(!d||d(v))&&Tb(r,v,null,null,m)}}var Sb={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ab(r,d,m,v){var _=d+u(m)+(v?"_"+u(v):"");if(r[Ui]&&r[Ui][_])return this;var j=function(B){return m.call(v||r,B||window.event)},R=j;!ce.touchNative&&ce.pointer&&d.indexOf("touch")===0?j=cP(r,d,j):ce.touch&&d==="dblclick"?j=_P(r,j):"addEventListener"in r?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?r.addEventListener(Sb[d]||d,j,ce.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(j=function(B){B=B||window.event,Cb(r,B)&&R(B)},r.addEventListener(Sb[d],j,!1)):r.addEventListener(d,R,!1):r.attachEvent("on"+d,j),r[Ui]=r[Ui]||{},r[Ui][_]=j}function Tb(r,d,m,v,_){_=_||d+u(m)+(v?"_"+u(v):"");var j=r[Ui]&&r[Ui][_];if(!j)return this;!ce.touchNative&&ce.pointer&&d.indexOf("touch")===0?mP(r,d,j):ce.touch&&d==="dblclick"?wP(r,j):"removeEventListener"in r?r.removeEventListener(Sb[d]||d,j,!1):r.detachEvent("on"+d,j),r[Ui][_]=null}function nh(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Eb(r){return Ab(r,"wheel",nh),this}function Lc(r){return ke(r,"mousedown touchstart dblclick contextmenu",nh),r._leaflet_disable_click=!0,this}function hn(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ah(r){return hn(r),nh(r),this}function Tx(r){if(r.composedPath)return r.composedPath();for(var d=[],m=r.target;m;)d.push(m),m=m.parentNode;return d}function Ex(r,d){if(!d)return new F(r.clientX,r.clientY);var m=xb(d),v=m.boundingClientRect;return new F((r.clientX-v.left)/m.x-d.clientLeft,(r.clientY-v.top)/m.y-d.clientTop)}var SP=ce.linux&&ce.chrome?window.devicePixelRatio:ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Cx(r){return ce.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/SP:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Cb(r,d){var m=d.relatedTarget;if(!m)return!0;try{for(;m&&m!==r;)m=m.parentNode}catch{return!1}return m!==r}var AP={__proto__:null,on:ke,off:at,stopPropagation:nh,disableScrollPropagation:Eb,disableClickPropagation:Lc,preventDefault:hn,stop:ah,getPropagationPath:Tx,getMousePosition:Ex,getWheelDelta:Cx,isExternalTarget:Cb,addListener:ke,removeListener:at},Px=X.extend({run:function(r,d,m,v){this.stop(),this._el=r,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=th(r),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(r){var d=+new Date-this._startTime,m=this._duration*1e3;d<m?this._runFrame(this._easeOut(d/m),r):(this._runFrame(1),this._complete())},_runFrame:function(r,d){var m=this._startPos.add(this._offset.multiplyBy(r));d&&m._round(),Rt(this._el,m),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Re=X.extend({options:{crs:Ie,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,d){d=x(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(ue(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ac&&ce.any3d&&!ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,kx,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,d,m){if(d=d===void 0?this._zoom:this._limitZoom(d),r=this._limitCenter(ue(r),d,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=i({animate:m.animate},m.zoom),m.pan=i({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,d,m.zoom):this._tryAnimatedPan(r,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(r,d,m.pan&&m.pan.noMoveStart),this},setZoom:function(r,d){return this._loaded?this.setView(this.getCenter(),r,{zoom:d}):(this._zoom=r,this)},zoomIn:function(r,d){return r=r||(ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,d)},zoomOut:function(r,d){return r=r||(ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,d)},setZoomAround:function(r,d,m){var v=this.getZoomScale(d),_=this.getSize().divideBy(2),j=r instanceof F?r:this.latLngToContainerPoint(r),R=j.subtract(_).multiplyBy(1-1/v),B=this.containerPointToLatLng(_.add(R));return this.setView(B,d,{zoom:m})},_getBoundsCenterZoom:function(r,d){d=d||{},r=r.getBounds?r.getBounds():ye(r);var m=Y(d.paddingTopLeft||d.padding||[0,0]),v=Y(d.paddingBottomRight||d.padding||[0,0]),_=this.getBoundsZoom(r,!1,m.add(v));if(_=typeof d.maxZoom=="number"?Math.min(d.maxZoom,_):_,_===1/0)return{center:r.getCenter(),zoom:_};var j=v.subtract(m).divideBy(2),R=this.project(r.getSouthWest(),_),B=this.project(r.getNorthEast(),_),z=this.unproject(R.add(B).divideBy(2).add(j),_);return{center:z,zoom:_}},fitBounds:function(r,d){if(r=ye(r),!r.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(r,d);return this.setView(m.center,m.zoom,d)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,d){return this.setView(r,this._zoom,{pan:d})},panBy:function(r,d){if(r=Y(r).round(),d=d||{},!r.x&&!r.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Px,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,m,d.duration||.25,d.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,d,m){if(m=m||{},m.animate===!1||!ce.any3d)return this.setView(r,d,m);this._stop();var v=this.project(this.getCenter()),_=this.project(r),j=this.getSize(),R=this._zoom;r=ue(r),d=d===void 0?R:d;var B=Math.max(j.x,j.y),z=B*this.getZoomScale(R,d),G=_.distanceTo(v)||1,te=1.42,ve=te*te;function Pe(Ot){var gg=Ot?-1:1,mL=Ot?z:B,fL=z*z-B*B+gg*ve*ve*G*G,pL=2*mL*ve*G,Fb=fL/pL,l1=Math.sqrt(Fb*Fb+1)-Fb,gL=l1<1e-9?-18:Math.log(l1);return gL}function On(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function $t(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}function Ua(Ot){return On(Ot)/$t(Ot)}var qn=Pe(0);function Xl(Ot){return B*($t(qn)/$t(qn+te*Ot))}function lL(Ot){return B*($t(qn)*Ua(qn+te*Ot)-On(qn))/ve}function dL(Ot){return 1-Math.pow(1-Ot,1.5)}var uL=Date.now(),o1=(Pe(1)-qn)/te,cL=m.duration?1e3*m.duration:1e3*o1*.8;function h1(){var Ot=(Date.now()-uL)/cL,gg=dL(Ot)*o1;Ot<=1?(this._flyToFrame=V(h1,this),this._move(this.unproject(v.add(_.subtract(v).multiplyBy(lL(gg)/G)),R),this.getScaleZoom(B/Xl(gg),R),{flyTo:!0})):this._move(r,d)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),h1.call(this),this},flyToBounds:function(r,d){var m=this._getBoundsCenterZoom(r,d);return this.flyTo(m.center,m.zoom,d)},setMaxBounds:function(r){return r=ye(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var d=this.options.minZoom;return this.options.minZoom=r,this._loaded&&d!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var d=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&d!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,d){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,ye(r));return m.equals(v)||this.panTo(v,d),this._enforcingBounds=!1,this},panInside:function(r,d){d=d||{};var m=Y(d.paddingTopLeft||d.padding||[0,0]),v=Y(d.paddingBottomRight||d.padding||[0,0]),_=this.project(this.getCenter()),j=this.project(r),R=this.getPixelBounds(),B=ne([R.min.add(m),R.max.subtract(v)]),z=B.getSize();if(!B.contains(j)){this._enforcingBounds=!0;var G=j.subtract(B.getCenter()),te=B.extend(j).getSize().subtract(z);_.x+=G.x<0?-te.x:te.x,_.y+=G.y<0?-te.y:te.y,this.panTo(this.unproject(_),d),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=i({animate:!1,pan:!0},r===!0?{animate:!0}:r);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=d.divideBy(2).round(),_=m.divideBy(2).round(),j=v.subtract(_);return!j.x&&!j.y?this:(r.animate&&r.pan?this.panBy(j):(r.pan&&this._rawPanBy(j),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=i({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=o(this._handleGeolocationResponse,this),m=o(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,m,r):navigator.geolocation.getCurrentPosition(d,m,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var d=r.code,m=r.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var d=r.coords.latitude,m=r.coords.longitude,v=new ge(d,m),_=v.toBounds(r.coords.accuracy*2),j=this._locateOptions;if(j.setView){var R=this.getBoundsZoom(_);this.setView(v,j.maxZoom?Math.min(R,j.maxZoom):R)}var B={latlng:v,bounds:_,timestamp:r.timestamp};for(var z in r.coords)typeof r.coords[z]=="number"&&(B[z]=r.coords[z]);this.fire("locationfound",B)}},addHandler:function(r,d){if(!d)return this;var m=this[r]=new d(this);return this._handlers.push(m),this.options[r]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)ft(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,d){var m="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),v=Fe("div",m,d||this._mapPane);return r&&(this._panes[r]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),d=this.unproject(r.getBottomLeft()),m=this.unproject(r.getTopRight());return new me(d,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,d,m){r=ye(r),m=Y(m||[0,0]);var v=this.getZoom()||0,_=this.getMinZoom(),j=this.getMaxZoom(),R=r.getNorthWest(),B=r.getSouthEast(),z=this.getSize().subtract(m),G=ne(this.project(B,v),this.project(R,v)).getSize(),te=ce.any3d?this.options.zoomSnap:1,ve=z.x/G.x,Pe=z.y/G.y,On=d?Math.max(ve,Pe):Math.min(ve,Pe);return v=this.getScaleZoom(On,v),te&&(v=Math.round(v/(te/100))*(te/100),v=d?Math.ceil(v/te)*te:Math.floor(v/te)*te),Math.max(_,Math.min(j,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,d){var m=this._getTopLeftPoint(r,d);return new de(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,d){var m=this.options.crs;return d=d===void 0?this._zoom:d,m.scale(r)/m.scale(d)},getScaleZoom:function(r,d){var m=this.options.crs;d=d===void 0?this._zoom:d;var v=m.zoom(r*m.scale(d));return isNaN(v)?1/0:v},project:function(r,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(ue(r),d)},unproject:function(r,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(Y(r),d)},layerPointToLatLng:function(r){var d=Y(r).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(r){var d=this.project(ue(r))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ue(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ye(r))},distance:function(r,d){return this.options.crs.distance(ue(r),ue(d))},containerPointToLayerPoint:function(r){return Y(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return Y(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var d=this.containerPointToLayerPoint(Y(r));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(r)))},mouseEventToContainerPoint:function(r){return Ex(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var d=this._container=xx(r);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ke(d,"scroll",this._onScroll,this),this._containerId=u(d)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&ce.any3d,Ce(r,"leaflet-container"+(ce.touch?" leaflet-touch":"")+(ce.retina?" leaflet-retina":"")+(ce.ielt9?" leaflet-oldie":"")+(ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Tc(r,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Rt(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(r.markerPane,"leaflet-zoom-hide"),Ce(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,d,m){Rt(this._mapPane,new F(0,0));var v=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var _=this._zoom!==d;this._moveStart(_,m)._move(r,d)._moveEnd(_),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(r,d){return r&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(r,d,m,v){d===void 0&&(d=this._zoom);var _=this._zoom!==d;return this._zoom=d,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),v?m&&m.pinch&&this.fire("zoom",m):((_||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Rt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[u(this._container)]=this;var d=r?at:ke;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),ce.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,d){for(var m=[],v,_=d==="mouseout"||d==="mouseover",j=r.target||r.srcElement,R=!1;j;){if(v=this._targets[u(j)],v&&(d==="click"||d==="preclick")&&this._draggableMoved(v)){R=!0;break}if(v&&v.listens(d,!0)&&(_&&!Cb(j,r)||(m.push(v),_))||j===this._container)break;j=j.parentNode}return!m.length&&!R&&!_&&this.listens(d,!0)&&(m=[this]),m},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var d=r.target||r.srcElement;if(!(!this._loaded||d._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(d))){var m=r.type;m==="mousedown"&&kb(d),this._fireDOMEvent(r,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,d,m){if(r.type==="click"){var v=i({},r);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var _=this._findEventTargets(r,d);if(m){for(var j=[],R=0;R<m.length;R++)m[R].listens(d,!0)&&j.push(m[R]);_=j.concat(_)}if(_.length){d==="contextmenu"&&hn(r);var B=_[0],z={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var G=B.getLatLng&&(!B._radius||B._radius<=10);z.containerPoint=G?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(r),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=G?B.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(R=0;R<_.length;R++)if(_[R].fire(d,z,!0),z.originalEvent._stopped||_[R].options.bubblingMouseEvents===!1&&P(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,d=this._handlers.length;r<d;r++)this._handlers[r].disable()},whenReady:function(r,d){return this._loaded?r.call(d||this,{target:this}):this.on("load",r,d),this},_getMapPanePos:function(){return th(this._mapPane)||new F(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,d){var m=r&&d!==void 0?this._getNewPixelOrigin(r,d):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,d){var m=this.getSize()._divideBy(2);return this.project(r,d)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,d,m){var v=this._getNewPixelOrigin(m,d);return this.project(r,d)._subtract(v)},_latLngBoundsToNewLayerBounds:function(r,d,m){var v=this._getNewPixelOrigin(m,d);return ne([this.project(r.getSouthWest(),d)._subtract(v),this.project(r.getNorthWest(),d)._subtract(v),this.project(r.getSouthEast(),d)._subtract(v),this.project(r.getNorthEast(),d)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,d,m){if(!m)return r;var v=this.project(r,d),_=this.getSize().divideBy(2),j=new de(v.subtract(_),v.add(_)),R=this._getBoundsOffset(j,m,d);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?r:this.unproject(v.add(R),d)},_limitOffset:function(r,d){if(!d)return r;var m=this.getPixelBounds(),v=new de(m.min.add(r),m.max.add(r));return r.add(this._getBoundsOffset(v,d))},_getBoundsOffset:function(r,d,m){var v=ne(this.project(d.getNorthEast(),m),this.project(d.getSouthWest(),m)),_=v.min.subtract(r.min),j=v.max.subtract(r.max),R=this._rebound(_.x,-j.x),B=this._rebound(_.y,-j.y);return new F(R,B)},_rebound:function(r,d){return r+d>0?Math.round(r-d)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(d))},_limitZoom:function(r){var d=this.getMinZoom(),m=this.getMaxZoom(),v=ce.any3d?this.options.zoomSnap:1;return v&&(r=Math.round(r/v)*v),Math.max(d,Math.min(m,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,d){var m=this._getCenterOffset(r)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,d),!0)},_createAnimProxy:function(){var r=this._proxy=Fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(d){var m=pb,v=this._proxy.style[m];eh(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),d=this.getZoom();eh(this._proxy,this.project(r,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,d,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(d),_=this._getCenterOffset(r)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(_)?!1:(V(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(r,d,!0)},this),!0)},_animateZoom:function(r,d,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=d,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:d,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function TP(r,d){return new Re(r,d)}var ci=Q.extend({options:{position:"topright"},initialize:function(r){x(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var d=this._map;return d&&d.removeControl(this),this.options.position=r,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var d=this._container=this.onAdd(r),m=this.getPosition(),v=r._controlCorners[m];return Ce(d,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(d,v.firstChild):v.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Mc=function(r){return new ci(r)};Re.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},d="leaflet-",m=this._controlContainer=Fe("div",d+"control-container",this._container);function v(_,j){var R=d+_+" "+d+j;r[_+j]=Fe("div",R,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)ft(this._controlCorners[r]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Lx=ci.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,d,m,v){return m<v?-1:v<m?1:0}},initialize:function(r,d,m){x(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in r)this._addLayer(r[v],v);for(v in d)this._addLayer(d[v],v,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return ci.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,d){return this._addLayer(r,d),this._map?this._update():this},addOverlay:function(r,d){return this._addLayer(r,d,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var d=this._getLayer(u(r));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Lt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",d=this._container=Fe("div",r),m=this.options.collapsed;d.setAttribute("aria-haspopup",!0),Lc(d),Eb(d);var v=this._section=Fe("section",r+"-list");m&&(this._map.on("click",this.collapse,this),ke(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Fe("a",r+"-toggle",d);_.href="#",_.title="Layers",_.setAttribute("role","button"),ke(_,{keydown:function(j){j.keyCode===13&&this._expandSafely()},click:function(j){hn(j),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Fe("div",r+"-base",v),this._separator=Fe("div",r+"-separator",v),this._overlaysList=Fe("div",r+"-overlays",v),d.appendChild(v)},_getLayer:function(r){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&u(this._layers[d].layer)===r)return this._layers[d]},_addLayer:function(r,d,m){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:d,overlay:m}),this.options.sortLayers&&this._layers.sort(o(function(v,_){return this.options.sortFunction(v.layer,_.layer,v.name,_.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;eg(this._baseLayersList),eg(this._overlaysList),this._layerControlInputs=[];var r,d,m,v,_=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),d=d||v.overlay,r=r||!v.overlay,_+=v.overlay?0:1;return this.options.hideSingleBase&&(r=r&&_>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=d&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var d=this._getLayer(u(r.target)),m=d.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;m&&this._map.fire(m,d)},_createRadioElement:function(r,d){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(d?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(r){var d=document.createElement("label"),m=this._map.hasLayer(r.layer),v;r.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+u(this),m),this._layerControlInputs.push(v),v.layerId=u(r.layer),ke(v,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+r.name;var j=document.createElement("span");d.appendChild(j),j.appendChild(v),j.appendChild(_);var R=r.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,d,m,v=[],_=[];this._handlingClick=!0;for(var j=r.length-1;j>=0;j--)d=r[j],m=this._getLayer(d.layerId).layer,d.checked?v.push(m):d.checked||_.push(m);for(j=0;j<_.length;j++)this._map.hasLayer(_[j])&&this._map.removeLayer(_[j]);for(j=0;j<v.length;j++)this._map.hasLayer(v[j])||this._map.addLayer(v[j]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,d,m,v=this._map.getZoom(),_=r.length-1;_>=0;_--)d=r[_],m=this._getLayer(d.layerId).layer,d.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ke(r,"click",hn),this.expand();var d=this;setTimeout(function(){at(r,"click",hn),d._preventClick=!1})}}),EP=function(r,d,m){return new Lx(r,d,m)},Pb=ci.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var d="leaflet-control-zoom",m=Fe("div",d+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,d+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,d+"-out",m,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,d,m,v,_){var j=Fe("a",m,v);return j.innerHTML=r,j.href="#",j.title=d,j.setAttribute("role","button"),j.setAttribute("aria-label",d),Lc(j),ke(j,"click",ah),ke(j,"click",_,this),ke(j,"click",this._refocusOnMap,this),j},_updateDisabled:function(){var r=this._map,d="leaflet-disabled";Lt(this._zoomInButton,d),Lt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ce(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ce(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Re.mergeOptions({zoomControl:!0}),Re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pb,this.addControl(this.zoomControl))});var CP=function(r){return new Pb(r)},Mx=ci.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var d="leaflet-control-scale",m=Fe("div",d),v=this.options;return this._addScales(v,d+"-line",m),r.on(v.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),m},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,d,m){r.metric&&(this._mScale=Fe("div",d,m)),r.imperial&&(this._iScale=Fe("div",d,m))},_update:function(){var r=this._map,d=r.getSize().y/2,m=r.distance(r.containerPointToLatLng([0,d]),r.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(m)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var d=this._getRoundNum(r),m=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,m,d/r)},_updateImperial:function(r){var d=r*3.2808399,m,v,_;d>5280?(m=d/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(_=this._getRoundNum(d),this._updateScale(this._iScale,_+" ft",_/d))},_updateScale:function(r,d,m){r.style.width=Math.round(this.options.maxWidth*m)+"px",r.innerHTML=d},_getRoundNum:function(r){var d=Math.pow(10,(Math.floor(r)+"").length-1),m=r/d;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,d*m}}),PP=function(r){return new Mx(r)},LP='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Lb=ci.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ce.inlineSvg?LP+" ":"")+"Leaflet</a>"},initialize:function(r){x(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Fe("div","leaflet-control-attribution"),Lc(this._container);for(var d in r._layers)r._layers[d].getAttribution&&this.addAttribution(r._layers[d].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var d in this._attributions)this._attributions[d]&&r.push(d);var m=[];this.options.prefix&&m.push(this.options.prefix),r.length&&m.push(r.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Re.mergeOptions({attributionControl:!0}),Re.addInitHook(function(){this.options.attributionControl&&new Lb().addTo(this)});var MP=function(r){return new Lb(r)};ci.Layers=Lx,ci.Zoom=Pb,ci.Scale=Mx,ci.Attribution=Lb,Mc.layers=EP,Mc.zoom=CP,Mc.scale=PP,Mc.attribution=MP;var Wi=Q.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wi.addTo=function(r,d){return r.addHandler(d,this),this};var jP={Events:q},jx=ce.touch?"touchstart mousedown":"mousedown",js=X.extend({options:{clickTolerance:3},initialize:function(r,d,m,v){x(this,v),this._element=r,this._dragStartTarget=d||r,this._preventOutline=m},enable:function(){this._enabled||(ke(this._dragStartTarget,jx,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(js._dragging===this&&this.finishDrag(!0),at(this._dragStartTarget,jx,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!gb(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){js._dragging===this&&this.finishDrag();return}if(!(js._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(js._dragging=this,this._preventOutline&&kb(this._element),bb(),Ec(),!this._moving)){this.fire("down");var d=r.touches?r.touches[0]:r,m=Sx(this._element);this._startPoint=new F(d.clientX,d.clientY),this._startPos=th(this._element),this._parentScale=xb(m);var v=r.type==="mousedown";ke(document,v?"mousemove":"touchmove",this._onMove,this),ke(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var d=r.touches&&r.touches.length===1?r.touches[0]:r,m=new F(d.clientX,d.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,hn(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Rt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Lt(document.body,"leaflet-dragging"),this._lastTarget&&(Lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),at(document,"mousemove touchmove",this._onMove,this),at(document,"mouseup touchend touchcancel",this._onUp,this),_b(),Cc();var d=this._moved&&this._moving;this._moving=!1,js._dragging=!1,d&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Ix(r,d,m){var v,_=[1,4,2,8],j,R,B,z,G,te,ve,Pe;for(j=0,te=r.length;j<te;j++)r[j]._code=ih(r[j],d);for(B=0;B<4;B++){for(ve=_[B],v=[],j=0,te=r.length,R=te-1;j<te;R=j++)z=r[j],G=r[R],z._code&ve?G._code&ve||(Pe=rg(G,z,ve,d,m),Pe._code=ih(Pe,d),v.push(Pe)):(G._code&ve&&(Pe=rg(G,z,ve,d,m),Pe._code=ih(Pe,d),v.push(Pe)),v.push(z));r=v}return r}function Nx(r,d){var m,v,_,j,R,B,z,G,te;if(!r||r.length===0)throw new Error("latlngs not passed");Ha(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ve=ue([0,0]),Pe=ye(r),On=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());On<1700&&(ve=Mb(r));var $t=r.length,Ua=[];for(m=0;m<$t;m++){var qn=ue(r[m]);Ua.push(d.project(ue([qn.lat-ve.lat,qn.lng-ve.lng])))}for(B=z=G=0,m=0,v=$t-1;m<$t;v=m++)_=Ua[m],j=Ua[v],R=_.y*j.x-j.y*_.x,z+=(_.x+j.x)*R,G+=(_.y+j.y)*R,B+=R*3;B===0?te=Ua[0]:te=[z/B,G/B];var Xl=d.unproject(Y(te));return ue([Xl.lat+ve.lat,Xl.lng+ve.lng])}function Mb(r){for(var d=0,m=0,v=0,_=0;_<r.length;_++){var j=ue(r[_]);d+=j.lat,m+=j.lng,v++}return ue([d/v,m/v])}var IP={__proto__:null,clipPolygon:Ix,polygonCenter:Nx,centroid:Mb};function Rx(r,d){if(!d||!r.length)return r.slice();var m=d*d;return r=OP(r,m),r=RP(r,m),r}function Ox(r,d,m){return Math.sqrt(jc(r,d,m,!0))}function NP(r,d,m){return jc(r,d,m)}function RP(r,d){var m=r.length,v=typeof Uint8Array<"u"?Uint8Array:Array,_=new v(m);_[0]=_[m-1]=1,jb(r,_,d,0,m-1);var j,R=[];for(j=0;j<m;j++)_[j]&&R.push(r[j]);return R}function jb(r,d,m,v,_){var j=0,R,B,z;for(B=v+1;B<=_-1;B++)z=jc(r[B],r[v],r[_],!0),z>j&&(R=B,j=z);j>m&&(d[R]=1,jb(r,d,m,v,R),jb(r,d,m,R,_))}function OP(r,d){for(var m=[r[0]],v=1,_=0,j=r.length;v<j;v++)DP(r[v],r[_])>d&&(m.push(r[v]),_=v);return _<j-1&&m.push(r[j-1]),m}var Dx;function Bx(r,d,m,v,_){var j=v?Dx:ih(r,m),R=ih(d,m),B,z,G;for(Dx=R;;){if(!(j|R))return[r,d];if(j&R)return!1;B=j||R,z=rg(r,d,B,m,_),G=ih(z,m),B===j?(r=z,j=G):(d=z,R=G)}}function rg(r,d,m,v,_){var j=d.x-r.x,R=d.y-r.y,B=v.min,z=v.max,G,te;return m&8?(G=r.x+j*(z.y-r.y)/R,te=z.y):m&4?(G=r.x+j*(B.y-r.y)/R,te=B.y):m&2?(G=z.x,te=r.y+R*(z.x-r.x)/j):m&1&&(G=B.x,te=r.y+R*(B.x-r.x)/j),new F(G,te,_)}function ih(r,d){var m=0;return r.x<d.min.x?m|=1:r.x>d.max.x&&(m|=2),r.y<d.min.y?m|=4:r.y>d.max.y&&(m|=8),m}function DP(r,d){var m=d.x-r.x,v=d.y-r.y;return m*m+v*v}function jc(r,d,m,v){var _=d.x,j=d.y,R=m.x-_,B=m.y-j,z=R*R+B*B,G;return z>0&&(G=((r.x-_)*R+(r.y-j)*B)/z,G>1?(_=m.x,j=m.y):G>0&&(_+=R*G,j+=B*G)),R=r.x-_,B=r.y-j,v?R*R+B*B:new F(_,j)}function Ha(r){return!C(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Fx(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ha(r)}function zx(r,d){var m,v,_,j,R,B,z,G;if(!r||r.length===0)throw new Error("latlngs not passed");Ha(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var te=ue([0,0]),ve=ye(r),Pe=ve.getNorthWest().distanceTo(ve.getSouthWest())*ve.getNorthEast().distanceTo(ve.getNorthWest());Pe<1700&&(te=Mb(r));var On=r.length,$t=[];for(m=0;m<On;m++){var Ua=ue(r[m]);$t.push(d.project(ue([Ua.lat-te.lat,Ua.lng-te.lng])))}for(m=0,v=0;m<On-1;m++)v+=$t[m].distanceTo($t[m+1])/2;if(v===0)G=$t[0];else for(m=0,j=0;m<On-1;m++)if(R=$t[m],B=$t[m+1],_=R.distanceTo(B),j+=_,j>v){z=(j-v)/_,G=[B.x-z*(B.x-R.x),B.y-z*(B.y-R.y)];break}var qn=d.unproject(Y(G));return ue([qn.lat+te.lat,qn.lng+te.lng])}var BP={__proto__:null,simplify:Rx,pointToSegmentDistance:Ox,closestPointOnSegment:NP,clipSegment:Bx,_getEdgeIntersection:rg,_getBitCode:ih,_sqClosestPointOnSegment:jc,isFlat:Ha,_flat:Fx,polylineCenter:zx},Ib={project:function(r){return new F(r.lng,r.lat)},unproject:function(r){return new ge(r.y,r.x)},bounds:new de([-180,-90],[180,90])},Nb={R:6378137,R_MINOR:6356752314245179e-9,bounds:new de([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var d=Math.PI/180,m=this.R,v=r.lat*d,_=this.R_MINOR/m,j=Math.sqrt(1-_*_),R=j*Math.sin(v),B=Math.tan(Math.PI/4-v/2)/Math.pow((1-R)/(1+R),j/2);return v=-m*Math.log(Math.max(B,1e-10)),new F(r.lng*d*m,v)},unproject:function(r){for(var d=180/Math.PI,m=this.R,v=this.R_MINOR/m,_=Math.sqrt(1-v*v),j=Math.exp(-r.y/m),R=Math.PI/2-2*Math.atan(j),B=0,z=.1,G;B<15&&Math.abs(z)>1e-7;B++)G=_*Math.sin(R),G=Math.pow((1-G)/(1+G),_/2),z=Math.PI/2-2*Math.atan(j*G)-R,R+=z;return new ge(R*d,r.x*d/m)}},FP={__proto__:null,LonLat:Ib,Mercator:Nb,SphericalMercator:ze},zP=i({},sn,{code:"EPSG:3395",projection:Nb,transformation:function(){var r=.5/(Math.PI*Nb.R);return Rn(r,.5,-r,.5)}()}),Hx=i({},sn,{code:"EPSG:4326",projection:Ib,transformation:Rn(1/180,1,-1/180,.5)}),HP=i({},Se,{projection:Ib,transformation:Rn(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,d){var m=d.lng-r.lng,v=d.lat-r.lat;return Math.sqrt(m*m+v*v)},infinite:!0});Se.Earth=sn,Se.EPSG3395=zP,Se.EPSG3857=Ie,Se.EPSG900913=nt,Se.EPSG4326=Hx,Se.Simple=HP;var mi=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[u(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[u(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var d=r.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var m=this.getEvents();d.on(m,this),this.once("remove",function(){d.off(m,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Re.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var d=u(r);return this._layers[d]?this:(this._layers[d]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var d=u(r);return this._layers[d]?(this._loaded&&r.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return u(r)in this._layers},eachLayer:function(r,d){for(var m in this._layers)r.call(d,this._layers[m]);return this},_addLayers:function(r){r=r?C(r)?r:[r]:[];for(var d=0,m=r.length;d<m;d++)this.addLayer(r[d])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[u(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var d=u(r);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,d=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var _=this._zoomBoundLayers[v].options;r=_.minZoom===void 0?r:Math.min(r,_.minZoom),d=_.maxZoom===void 0?d:Math.max(d,_.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=r===1/0?void 0:r,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yl=mi.extend({initialize:function(r,d){x(this,d),this._layers={};var m,v;if(r)for(m=0,v=r.length;m<v;m++)this.addLayer(r[m])},addLayer:function(r){var d=this.getLayerId(r);return this._layers[d]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var d=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(r){var d=typeof r=="number"?r:this.getLayerId(r);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var d=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[r]&&v[r].apply(v,d);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,d){for(var m in this._layers)r.call(d,this._layers[m]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return u(r)}}),UP=function(r,d){return new Yl(r,d)},Tr=Yl.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Yl.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Yl.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new me;for(var d in this._layers){var m=this._layers[d];r.extend(m.getBounds?m.getBounds():m.getLatLng())}return r}}),WP=function(r,d){return new Tr(r,d)},Kl=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){x(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,d){var m=this._getIconUrl(r);if(!m){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(v,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(r,d){var m=this.options,v=m[d+"Size"];typeof v=="number"&&(v=[v,v]);var _=Y(v),j=Y(d==="shadow"&&m.shadowAnchor||m.iconAnchor||_&&_.divideBy(2,!0));r.className="leaflet-marker-"+d+" "+(m.className||""),j&&(r.style.marginLeft=-j.x+"px",r.style.marginTop=-j.y+"px"),_&&(r.style.width=_.x+"px",r.style.height=_.y+"px")},_createImg:function(r,d){return d=d||document.createElement("img"),d.src=r,d},_getIconUrl:function(r){return ce.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function VP(r){return new Kl(r)}var Ic=Kl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Ic.imagePath!="string"&&(Ic.imagePath=this._detectIconPath()),(this.options.imagePath||Ic.imagePath)+Kl.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var d=function(m,v,_){var j=v.exec(m);return j&&j[_]};return r=d(r,/^url\((['"])?(.+)\1\)$/,2),r&&d(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Fe("div","leaflet-default-icon-path",document.body),d=Tc(r,"background-image")||Tc(r,"backgroundImage");if(document.body.removeChild(r),d=this._stripUrl(d),d)return d;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Ux=Wi.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new js(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var d=this._marker,m=d._map,v=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,j=th(d._icon),R=m.getPixelBounds(),B=m.getPixelOrigin(),z=ne(R.min._subtract(B).add(_),R.max._subtract(B).subtract(_));if(!z.contains(j)){var G=Y((Math.max(z.max.x,j.x)-z.max.x)/(R.max.x-z.max.x)-(Math.min(z.min.x,j.x)-z.min.x)/(R.min.x-z.min.x),(Math.max(z.max.y,j.y)-z.max.y)/(R.max.y-z.max.y)-(Math.min(z.min.y,j.y)-z.min.y)/(R.min.y-z.min.y)).multiplyBy(v);m.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),Rt(d._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=V(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,r)))},_onDrag:function(r){var d=this._marker,m=d._shadow,v=th(d._icon),_=d._map.layerPointToLatLng(v);m&&Rt(m,v),d._latlng=_,r.latlng=_,r.oldLatLng=this._oldLatLng,d.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),sg=mi.extend({options:{icon:new Ic,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,d){x(this,d),this._latlng=ue(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var d=this._latlng;return this._latlng=ue(r),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=r.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,r.title&&(m.title=r.title),m.tagName==="IMG"&&(m.alt=r.alt||"")),Ce(m,d),r.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(m,"focus",this._panOnFocus,this);var _=r.icon.createShadow(this._shadow),j=!1;_!==this._shadow&&(this._removeShadow(),j=!0),_&&(Ce(_,d),_.alt=""),this._shadow=_,r.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&j&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Rt(this._icon,r),this._shadow&&Rt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var d=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ux)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ux(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&za(this._icon,r),this._shadow&&za(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var d=this.options.icon.options,m=d.iconSize?Y(d.iconSize):Y(0,0),v=d.iconAnchor?Y(d.iconAnchor):Y(0,0);r.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function GP(r,d){return new sg(r,d)}var Is=mi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return x(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),og=Is.extend({options:{fill:!0,radius:10},initialize:function(r,d){x(this,d),this._latlng=ue(r),this._radius=this.options.radius},setLatLng:function(r){var d=this._latlng;return this._latlng=ue(r),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var d=r&&r.radius||this._radius;return Is.prototype.setStyle.call(this,r),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,d=this._radiusY||r,m=this._clickTolerance(),v=[r+m,d+m];this._pxBounds=new de(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function YP(r,d){return new og(r,d)}var Rb=og.extend({initialize:function(r,d,m){if(typeof d=="number"&&(d=i({},m,{radius:d})),x(this,d),this._latlng=ue(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Is.prototype.setStyle,_project:function(){var r=this._latlng.lng,d=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===sn.distance){var _=Math.PI/180,j=this._mRadius/sn.R/_,R=m.project([d+j,r]),B=m.project([d-j,r]),z=R.add(B).divideBy(2),G=m.unproject(z).lat,te=Math.acos((Math.cos(j*_)-Math.sin(d*_)*Math.sin(G*_))/(Math.cos(d*_)*Math.cos(G*_)))/_;(isNaN(te)||te===0)&&(te=j/Math.cos(Math.PI/180*d)),this._point=z.subtract(m.getPixelOrigin()),this._radius=isNaN(te)?0:z.x-m.project([G,r-te]).x,this._radiusY=z.y-R.y}else{var ve=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(ve).x}this._updateBounds()}});function KP(r,d,m){return new Rb(r,d,m)}var Er=Is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,d){x(this,d),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var d=1/0,m=null,v=jc,_,j,R=0,B=this._parts.length;R<B;R++)for(var z=this._parts[R],G=1,te=z.length;G<te;G++){_=z[G-1],j=z[G];var ve=v(r,_,j,!0);ve<d&&(d=ve,m=v(r,_,j))}return m&&(m.distance=Math.sqrt(d)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zx(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,d){return d=d||this._defaultShape(),r=ue(r),d.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new me,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ha(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var d=[],m=Ha(r),v=0,_=r.length;v<_;v++)m?(d[v]=ue(r[v]),this._bounds.extend(d[v])):d[v]=this._convertLatLngs(r[v]);return d},_project:function(){var r=new de;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),d=new F(r,r);this._rawPxBounds&&(this._pxBounds=new de([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(r,d,m){var v=r[0]instanceof ge,_=r.length,j,R;if(v){for(R=[],j=0;j<_;j++)R[j]=this._map.latLngToLayerPoint(r[j]),m.extend(R[j]);d.push(R)}else for(j=0;j<_;j++)this._projectLatlngs(r[j],d,m)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,m,v,_,j,R,B,z;for(m=0,_=0,j=this._rings.length;m<j;m++)for(z=this._rings[m],v=0,R=z.length;v<R-1;v++)B=Bx(z[v],z[v+1],r,v,!0),B&&(d[_]=d[_]||[],d[_].push(B[0]),(B[1]!==z[v+1]||v===R-2)&&(d[_].push(B[1]),_++))}},_simplifyPoints:function(){for(var r=this._parts,d=this.options.smoothFactor,m=0,v=r.length;m<v;m++)r[m]=Rx(r[m],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,d){var m,v,_,j,R,B,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(m=0,j=this._parts.length;m<j;m++)for(B=this._parts[m],v=0,R=B.length,_=R-1;v<R;_=v++)if(!(!d&&v===0)&&Ox(r,B[_],B[v])<=z)return!0;return!1}});function $P(r,d){return new Er(r,d)}Er._flat=Fx;var $l=Er.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nx(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var d=Er.prototype._convertLatLngs.call(this,r),m=d.length;return m>=2&&d[0]instanceof ge&&d[0].equals(d[m-1])&&d.pop(),d},_setLatLngs:function(r){Er.prototype._setLatLngs.call(this,r),Ha(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ha(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,d=this.options.weight,m=new F(d,d);if(r=new de(r.min.subtract(m),r.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,_=this._rings.length,j;v<_;v++)j=Ix(this._rings[v],r,!0),j.length&&this._parts.push(j)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var d=!1,m,v,_,j,R,B,z,G;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(j=0,z=this._parts.length;j<z;j++)for(m=this._parts[j],R=0,G=m.length,B=G-1;R<G;B=R++)v=m[R],_=m[B],v.y>r.y!=_.y>r.y&&r.x<(_.x-v.x)*(r.y-v.y)/(_.y-v.y)+v.x&&(d=!d);return d||Er.prototype._containsPoint.call(this,r,!0)}});function qP(r,d){return new $l(r,d)}var Cr=Tr.extend({initialize:function(r,d){x(this,d),this._layers={},r&&this.addData(r)},addData:function(r){var d=C(r)?r:r.features,m,v,_;if(d){for(m=0,v=d.length;m<v;m++)_=d[m],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var j=this.options;if(j.filter&&!j.filter(r))return this;var R=hg(r,j);return R?(R.feature=ug(r),R.defaultOptions=R.options,this.resetStyle(R),j.onEachFeature&&j.onEachFeature(r,R),this.addLayer(R)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=i({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(d){this._setLayerStyle(d,r)},this)},_setLayerStyle:function(r,d){r.setStyle&&(typeof d=="function"&&(d=d(r.feature)),r.setStyle(d))}});function hg(r,d){var m=r.type==="Feature"?r.geometry:r,v=m?m.coordinates:null,_=[],j=d&&d.pointToLayer,R=d&&d.coordsToLatLng||Ob,B,z,G,te;if(!v&&!m)return null;switch(m.type){case"Point":return B=R(v),Wx(j,r,B,d);case"MultiPoint":for(G=0,te=v.length;G<te;G++)B=R(v[G]),_.push(Wx(j,r,B,d));return new Tr(_);case"LineString":case"MultiLineString":return z=lg(v,m.type==="LineString"?0:1,R),new Er(z,d);case"Polygon":case"MultiPolygon":return z=lg(v,m.type==="Polygon"?1:2,R),new $l(z,d);case"GeometryCollection":for(G=0,te=m.geometries.length;G<te;G++){var ve=hg({geometry:m.geometries[G],type:"Feature",properties:r.properties},d);ve&&_.push(ve)}return new Tr(_);case"FeatureCollection":for(G=0,te=m.features.length;G<te;G++){var Pe=hg(m.features[G],d);Pe&&_.push(Pe)}return new Tr(_);default:throw new Error("Invalid GeoJSON object.")}}function Wx(r,d,m,v){return r?r(d,m):new sg(m,v&&v.markersInheritOptions&&v)}function Ob(r){return new ge(r[1],r[0],r[2])}function lg(r,d,m){for(var v=[],_=0,j=r.length,R;_<j;_++)R=d?lg(r[_],d-1,m):(m||Ob)(r[_]),v.push(R);return v}function Db(r,d){return r=ue(r),r.alt!==void 0?[g(r.lng,d),g(r.lat,d),g(r.alt,d)]:[g(r.lng,d),g(r.lat,d)]}function dg(r,d,m,v){for(var _=[],j=0,R=r.length;j<R;j++)_.push(d?dg(r[j],Ha(r[j])?0:d-1,m,v):Db(r[j],v));return!d&&m&&_.length>0&&_.push(_[0].slice()),_}function ql(r,d){return r.feature?i({},r.feature,{geometry:d}):ug(d)}function ug(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Bb={toGeoJSON:function(r){return ql(this,{type:"Point",coordinates:Db(this.getLatLng(),r)})}};sg.include(Bb),Rb.include(Bb),og.include(Bb),Er.include({toGeoJSON:function(r){var d=!Ha(this._latlngs),m=dg(this._latlngs,d?1:0,!1,r);return ql(this,{type:(d?"Multi":"")+"LineString",coordinates:m})}}),$l.include({toGeoJSON:function(r){var d=!Ha(this._latlngs),m=d&&!Ha(this._latlngs[0]),v=dg(this._latlngs,m?2:d?1:0,!0,r);return d||(v=[v]),ql(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),Yl.include({toMultiPoint:function(r){var d=[];return this.eachLayer(function(m){d.push(m.toGeoJSON(r).geometry.coordinates)}),ql(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(r){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(r);var m=d==="GeometryCollection",v=[];return this.eachLayer(function(_){if(_.toGeoJSON){var j=_.toGeoJSON(r);if(m)v.push(j.geometry);else{var R=ug(j);R.type==="FeatureCollection"?v.push.apply(v,R.features):v.push(R)}}}),m?ql(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function Vx(r,d){return new Cr(r,d)}var ZP=Vx,cg=mi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,d,m){this._url=r,this._bounds=ye(d),x(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Vl(this._image),this},bringToBack:function(){return this._map&&Gl(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ye(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",d=this._image=r?this._url:Fe("img");if(Ce(d,"leaflet-image-layer"),this._zoomAnimated&&Ce(d,"leaflet-zoom-animated"),this.options.className&&Ce(d,this.options.className),d.onselectstart=p,d.onmousemove=p,d.onload=o(this.fire,this,"load"),d.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(r){var d=this._map.getZoomScale(r.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;eh(this._image,m,d)},_reset:function(){var r=this._image,d=new de(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=d.getSize();Rt(r,d.min),r.style.width=m.x+"px",r.style.height=m.y+"px"},_updateOpacity:function(){za(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),XP=function(r,d,m){return new cg(r,d,m)},Gx=cg.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",d=this._image=r?this._url:Fe("video");if(Ce(d,"leaflet-image-layer"),this._zoomAnimated&&Ce(d,"leaflet-zoom-animated"),this.options.className&&Ce(d,this.options.className),d.onselectstart=p,d.onmousemove=p,d.onloadeddata=o(this.fire,this,"load"),r){for(var m=d.getElementsByTagName("source"),v=[],_=0;_<m.length;_++)v.push(m[_].src);this._url=m.length>0?v:[d.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var j=0;j<this._url.length;j++){var R=Fe("source");R.src=this._url[j],d.appendChild(R)}}});function QP(r,d,m){return new Gx(r,d,m)}var Yx=cg.extend({_initImage:function(){var r=this._image=this._url;Ce(r,"leaflet-image-layer"),this._zoomAnimated&&Ce(r,"leaflet-zoom-animated"),this.options.className&&Ce(r,this.options.className),r.onselectstart=p,r.onmousemove=p}});function JP(r,d,m){return new Yx(r,d,m)}var Vi=mi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,d){r&&(r instanceof ge||C(r))?(this._latlng=ue(r),x(this,d)):(x(this,r),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&za(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&za(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(za(this._container,0),this._removeTimeout=setTimeout(o(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(Lt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ue(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vl(this._container),this},bringToBack:function(){return this._map&&Gl(this._container),this},_prepareOpen:function(r){var d=this._source;if(!d._map)return!1;if(d instanceof Tr){d=null;var m=this._source._layers;for(var v in m)if(m[v]._map){d=m[v];break}if(!d)return!1;this._source=d}if(!r)if(d.getCenter)r=d.getCenter();else if(d.getLatLng)r=d.getLatLng();else if(d.getBounds)r=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")r.innerHTML=d;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),d=Y(this.options.offset),m=this._getAnchor();this._zoomAnimated?Rt(this._container,r.add(m)):d=d.add(r).add(m);var v=this._containerBottom=-d.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=v+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Re.include({_initOverlay:function(r,d,m,v){var _=d;return _ instanceof r||(_=new r(v).setContent(d)),m&&_.setLatLng(m),_}}),mi.include({_initOverlay:function(r,d,m,v){var _=m;return _ instanceof r?(x(_,v),_._source=this):(_=d&&!v?d:new r(v,this),_.setContent(m)),_}});var mg=Vi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Vi.prototype.openOn.call(this,r)},onAdd:function(r){Vi.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Is||this._source.on("preclick",nh))},onRemove:function(r){Vi.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Is||this._source.off("preclick",nh))},getEvents:function(){var r=Vi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",d=this._container=Fe("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Fe("div",r+"-content-wrapper",d);if(this._contentNode=Fe("div",r+"-content",m),Lc(d),Eb(this._contentNode),ke(d,"contextmenu",nh),this._tipContainer=Fe("div",r+"-tip-container",d),this._tip=Fe("div",r+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Fe("a",r+"-close-button",d);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',ke(v,"click",function(_){hn(_),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,d=r.style;d.width="",d.whiteSpace="nowrap";var m=r.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),d.width=m+1+"px",d.whiteSpace="",d.height="";var v=r.offsetHeight,_=this.options.maxHeight,j="leaflet-popup-scrolled";_&&v>_?(d.height=_+"px",Ce(r,j)):Lt(r,j),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var d=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),m=this._getAnchor();Rt(this._container,d.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,d=parseInt(Tc(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+d,v=this._containerWidth,_=new F(this._containerLeft,-m-this._containerBottom);_._add(th(this._container));var j=r.layerPointToContainerPoint(_),R=Y(this.options.autoPanPadding),B=Y(this.options.autoPanPaddingTopLeft||R),z=Y(this.options.autoPanPaddingBottomRight||R),G=r.getSize(),te=0,ve=0;j.x+v+z.x>G.x&&(te=j.x+v-G.x+z.x),j.x-te-B.x<0&&(te=j.x-B.x),j.y+m+z.y>G.y&&(ve=j.y+m-G.y+z.y),j.y-ve-B.y<0&&(ve=j.y-B.y),(te||ve)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([te,ve]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),eL=function(r,d){return new mg(r,d)};Re.mergeOptions({closePopupOnClick:!0}),Re.include({openPopup:function(r,d,m){return this._initOverlay(mg,r,d,m).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),mi.include({bindPopup:function(r,d){return this._popup=this._initOverlay(mg,this._popup,r,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Tr||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ah(r);var d=r.layer||r.target;if(this._popup._source===d&&!(d instanceof Is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=d,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var fg=Vi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Vi.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Vi.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Vi.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",d=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Fe("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var d,m,v=this._map,_=this._container,j=v.latLngToContainerPoint(v.getCenter()),R=v.layerPointToContainerPoint(r),B=this.options.direction,z=_.offsetWidth,G=_.offsetHeight,te=Y(this.options.offset),ve=this._getAnchor();B==="top"?(d=z/2,m=G):B==="bottom"?(d=z/2,m=0):B==="center"?(d=z/2,m=G/2):B==="right"?(d=0,m=G/2):B==="left"?(d=z,m=G/2):R.x<j.x?(B="right",d=0,m=G/2):(B="left",d=z+(te.x+ve.x)*2,m=G/2),r=r.subtract(Y(d,m,!0)).add(te).add(ve),Lt(_,"leaflet-tooltip-right"),Lt(_,"leaflet-tooltip-left"),Lt(_,"leaflet-tooltip-top"),Lt(_,"leaflet-tooltip-bottom"),Ce(_,"leaflet-tooltip-"+B),Rt(_,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&za(this._container,r)},_animateZoom:function(r){var d=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(d)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tL=function(r,d){return new fg(r,d)};Re.include({openTooltip:function(r,d,m){return this._initOverlay(fg,r,d,m).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),mi.include({bindTooltip:function(r,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(fg,this._tooltip,r,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var d=r?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[d](m),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Tr||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var d=typeof r.getElement=="function"&&r.getElement();d&&(ke(d,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ke(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var d=typeof r.getElement=="function"&&r.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var d=r.latlng,m,v;this._tooltip.options.sticky&&r.originalEvent&&(m=this._map.mouseEventToContainerPoint(r.originalEvent),v=this._map.containerPointToLayerPoint(m),d=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(d)}});var Kx=Kl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var d=r&&r.tagName==="DIV"?r:document.createElement("div"),m=this.options;if(m.html instanceof Element?(eg(d),d.appendChild(m.html)):d.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=Y(m.bgPos);d.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function nL(r){return new Kx(r)}Kl.Default=Ic;var Nc=mi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){x(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),ft(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vl(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gl(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof F?r:new F(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var d=this.getPane().children,m=-r(-1/0,1/0),v=0,_=d.length,j;v<_;v++)j=d[v].style.zIndex,d[v]!==this._container&&j&&(m=r(m,+j));isFinite(m)&&(this.options.zIndex=m+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ce.ielt9){za(this._container,this.options.opacity);var r=+new Date,d=!1,m=!1;for(var v in this._tiles){var _=this._tiles[v];if(!(!_.current||!_.loaded)){var j=Math.min(1,(r-_.loaded)/200);za(_.el,j),j<1?d=!0:(_.active?m=!0:this._onOpaqueTile(_),_.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),d&&(Z(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,d=this.options.maxZoom;if(r!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===r?(this._levels[m].el.style.zIndex=d-Math.abs(r-m),this._onUpdateLevel(m)):(ft(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[r],_=this._map;return v||(v=this._levels[r]={},v.el=Fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=d,v.origin=_.project(_.unproject(_.getPixelOrigin()),r).round(),v.zoom=r,this._setZoomTransform(v,_.getCenter(),_.getZoom()),p(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var r,d,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)d=this._tiles[r],d.retain=d.current;for(r in this._tiles)if(d=this._tiles[r],d.current&&!d.active){var v=d.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var d in this._tiles)this._tiles[d].coords.z===r&&this._removeTile(d)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)ft(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,d,m,v){var _=Math.floor(r/2),j=Math.floor(d/2),R=m-1,B=new F(+_,+j);B.z=+R;var z=this._tileCoordsToKey(B),G=this._tiles[z];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),R>v?this._retainParent(_,j,R,v):!1)},_retainChildren:function(r,d,m,v){for(var _=2*r;_<2*r+2;_++)for(var j=2*d;j<2*d+2;j++){var R=new F(_,j);R.z=m+1;var B=this._tileCoordsToKey(R),z=this._tiles[B];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);m+1<v&&this._retainChildren(_,j,m+1,v)}},_resetView:function(r){var d=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var d=this.options;return d.minNativeZoom!==void 0&&r<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<r?d.maxNativeZoom:r},_setView:function(r,d,m,v){var _=Math.round(d);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var j=this.options.updateWhenZooming&&_!==this._tileZoom;(!v||j)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(r),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(r,d)},_setZoomTransforms:function(r,d){for(var m in this._levels)this._setZoomTransform(this._levels[m],r,d)},_setZoomTransform:function(r,d,m){var v=this._map.getZoomScale(m,r.zoom),_=r.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(d,m)).round();ce.any3d?eh(r.el,_,v):Rt(r.el,_)},_resetGrid:function(){var r=this._map,d=r.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,d.wrapLng[0]],v).x/m.x),Math.ceil(r.project([0,d.wrapLng[1]],v).x/m.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([d.wrapLat[0],0],v).y/m.x),Math.ceil(r.project([d.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var d=this._map,m=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),v=d.getZoomScale(m,this._tileZoom),_=d.project(r,this._tileZoom).floor(),j=d.getSize().divideBy(v*2);return new de(_.subtract(j),_.add(j))},_update:function(r){var d=this._map;if(d){var m=this._clampZoom(d.getZoom());if(r===void 0&&(r=d.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(r),_=this._pxBoundsToTileRange(v),j=_.getCenter(),R=[],B=this.options.keepBuffer,z=new de(_.getBottomLeft().subtract([B,-B]),_.getTopRight().add([B,-B]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var te=this._tiles[G].coords;(te.z!==this._tileZoom||!z.contains(new F(te.x,te.y)))&&(this._tiles[G].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(r,m);return}for(var ve=_.min.y;ve<=_.max.y;ve++)for(var Pe=_.min.x;Pe<=_.max.x;Pe++){var On=new F(Pe,ve);if(On.z=this._tileZoom,!!this._isValidTile(On)){var $t=this._tiles[this._tileCoordsToKey(On)];$t?$t.current=!0:R.push(On)}}if(R.sort(function(qn,Xl){return qn.distanceTo(j)-Xl.distanceTo(j)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ua=document.createDocumentFragment();for(Pe=0;Pe<R.length;Pe++)this._addTile(R[Pe],Ua);this._level.el.appendChild(Ua)}}}},_isValidTile:function(r){var d=this._map.options.crs;if(!d.infinite){var m=this._globalTileRange;if(!d.wrapLng&&(r.x<m.min.x||r.x>m.max.x)||!d.wrapLat&&(r.y<m.min.y||r.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(r);return ye(this.options.bounds).overlaps(v)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var d=this._map,m=this.getTileSize(),v=r.scaleBy(m),_=v.add(m),j=d.unproject(v,r.z),R=d.unproject(_,r.z);return[j,R]},_tileCoordsToBounds:function(r){var d=this._tileCoordsToNwSe(r),m=new me(d[0],d[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var d=r.split(":"),m=new F(+d[0],+d[1]);return m.z=+d[2],m},_removeTile:function(r){var d=this._tiles[r];d&&(ft(d.el),delete this._tiles[r],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ce(r,"leaflet-tile");var d=this.getTileSize();r.style.width=d.x+"px",r.style.height=d.y+"px",r.onselectstart=p,r.onmousemove=p,ce.ielt9&&this.options.opacity<1&&za(r,this.options.opacity)},_addTile:function(r,d){var m=this._getTilePos(r),v=this._tileCoordsToKey(r),_=this.createTile(this._wrapCoords(r),o(this._tileReady,this,r));this._initTile(_),this.createTile.length<2&&V(o(this._tileReady,this,r,null,_)),Rt(_,m),this._tiles[v]={el:_,coords:r,current:!0},d.appendChild(_),this.fire("tileloadstart",{tile:_,coords:r})},_tileReady:function(r,d,m){d&&this.fire("tileerror",{error:d,tile:m,coords:r});var v=this._tileCoordsToKey(r);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(za(m.el,0),Z(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),d||(Ce(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ce.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var d=new F(this._wrapX?f(r.x,this._wrapX):r.x,this._wrapY?f(r.y,this._wrapY):r.y);return d.z=r.z,d},_pxBoundsToTileRange:function(r){var d=this.getTileSize();return new de(r.min.unscaleBy(d).floor(),r.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function aL(r){return new Nc(r)}var Zl=Nc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,d){this._url=r,d=x(this,d),d.detectRetina&&ce.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,d){return this._url===r&&d===void 0&&(d=!0),this._url=r,d||this.redraw(),this},createTile:function(r,d){var m=document.createElement("img");return ke(m,"load",o(this._tileOnLoad,this,d,m)),ke(m,"error",o(this._tileOnError,this,d,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(r),m},getTileUrl:function(r){var d={r:ce.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-r.y;this.options.tms&&(d.y=m),d["-y"]=m}return T(this._url,i(d,this.options))},_tileOnLoad:function(r,d){ce.ielt9?setTimeout(o(r,this,null,d),0):r(null,d)},_tileOnError:function(r,d,m){var v=this.options.errorTileUrl;v&&d.getAttribute("src")!==v&&(d.src=v),r(m,d)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,d=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(r=d-r),r+v},_getSubdomain:function(r){var d=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var r,d;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(d=this._tiles[r].el,d.onload=p,d.onerror=p,!d.complete)){d.src=I;var m=this._tiles[r].coords;ft(d),delete this._tiles[r],this.fire("tileabort",{tile:d,coords:m})}},_removeTile:function(r){var d=this._tiles[r];if(d)return d.el.setAttribute("src",I),Nc.prototype._removeTile.call(this,r)},_tileReady:function(r,d,m){if(!(!this._map||m&&m.getAttribute("src")===I))return Nc.prototype._tileReady.call(this,r,d,m)}});function $x(r,d){return new Zl(r,d)}var qx=Zl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,d){this._url=r;var m=i({},this.defaultWmsParams);for(var v in d)v in this.options||(m[v]=d[v]);d=x(this,d);var _=d.detectRetina&&ce.retina?2:1,j=this.getTileSize();m.width=j.x*_,m.height=j.y*_,this.wmsParams=m},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Zl.prototype.onAdd.call(this,r)},getTileUrl:function(r){var d=this._tileCoordsToNwSe(r),m=this._crs,v=ne(m.project(d[0]),m.project(d[1])),_=v.min,j=v.max,R=(this._wmsVersion>=1.3&&this._crs===Hx?[_.y,_.x,j.y,j.x]:[_.x,_.y,j.x,j.y]).join(","),B=Zl.prototype.getTileUrl.call(this,r);return B+M(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(r,d){return i(this.wmsParams,r),d||this.redraw(),this}});function iL(r,d){return new qx(r,d)}Zl.WMS=qx,$x.wms=iL;var Pr=mi.extend({options:{padding:.1},initialize:function(r){x(this,r),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,d){var m=this._map.getZoomScale(d,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,d),j=v.multiplyBy(-m).add(_).subtract(this._map._getNewPixelOrigin(r,d));ce.any3d?eh(this._container,j,m):Rt(this._container,j)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,d=this._map.getSize(),m=this._map.containerPointToLayerPoint(d.multiplyBy(-r)).round();this._bounds=new de(m,m.add(d.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zx=Pr.extend({options:{tolerance:0},getEvents:function(){var r=Pr.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ke(r,"mousemove",this._onMouseMove,this),ke(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,ft(this._container),at(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var d in this._layers)r=this._layers[d],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pr.prototype._update.call(this);var r=this._bounds,d=this._container,m=r.getSize(),v=ce.retina?2:1;Rt(d,r.min),d.width=v*m.x,d.height=v*m.y,d.style.width=m.x+"px",d.style.height=m.y+"px",ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Pr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[u(r)]=r;var d=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var d=r._order,m=d.next,v=d.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete r._order,delete this._layers[u(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var d=r.options.dashArray.split(/[, ]+/),m=[],v,_;for(_=0;_<d.length;_++){if(v=Number(d[_]),isNaN(v))return;m.push(v)}r.options._dashArray=m}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var d=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new de,this._redrawBounds.extend(r._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(r._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var d=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,d=this._redrawBounds;if(this._ctx.save(),d){var m=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)r=v.layer,(!d||r._pxBounds&&r._pxBounds.intersects(d))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,d){if(this._drawing){var m,v,_,j,R=r._parts,B=R.length,z=this._ctx;if(B){for(z.beginPath(),m=0;m<B;m++){for(v=0,_=R[m].length;v<_;v++)j=R[m][v],z[v?"lineTo":"moveTo"](j.x,j.y);d&&z.closePath()}this._fillStroke(z,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var d=r._point,m=this._ctx,v=Math.max(Math.round(r._radius),1),_=(Math.max(Math.round(r._radiusY),1)||v)/v;_!==1&&(m.save(),m.scale(1,_)),m.beginPath(),m.arc(d.x,d.y/_,v,0,Math.PI*2,!1),_!==1&&m.restore(),this._fillStroke(m,r)}},_fillStroke:function(r,d){var m=d.options;m.fill&&(r.globalAlpha=m.fillOpacity,r.fillStyle=m.fillColor||m.color,r.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(r.setLineDash&&r.setLineDash(d.options&&d.options._dashArray||[]),r.globalAlpha=m.opacity,r.lineWidth=m.weight,r.strokeStyle=m.color,r.lineCap=m.lineCap,r.lineJoin=m.lineJoin,r.stroke())},_onClick:function(r){for(var d=this._map.mouseEventToLayerPoint(r),m,v,_=this._drawFirst;_;_=_.next)m=_.layer,m.options.interactive&&m._containsPoint(d)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,d)}},_handleMouseOut:function(r){var d=this._hoveredLayer;d&&(Lt(this._container,"leaflet-interactive"),this._fireEvent([d],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,d){if(!this._mouseHoverThrottled){for(var m,v,_=this._drawFirst;_;_=_.next)m=_.layer,m.options.interactive&&m._containsPoint(d)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(r),v&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([v],r,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,d,m){this._map._fireDOMEvent(d,m||d.type,r)},_bringToFront:function(r){var d=r._order;if(d){var m=d.next,v=d.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(r)}},_bringToBack:function(r){var d=r._order;if(d){var m=d.next,v=d.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(r)}}});function Xx(r){return ce.canvas?new Zx(r):null}var Rc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),rL={_initContainer:function(){this._container=Fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pr.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var d=r._container=Rc("shape");Ce(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",r._path=Rc("path"),d.appendChild(r._path),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){var d=r._container;this._container.appendChild(d),r.options.interactive&&r.addInteractiveTarget(d)},_removePath:function(r){var d=r._container;ft(d),r.removeInteractiveTarget(d),delete this._layers[u(r)]},_updateStyle:function(r){var d=r._stroke,m=r._fill,v=r.options,_=r._container;_.stroked=!!v.stroke,_.filled=!!v.fill,v.stroke?(d||(d=r._stroke=Rc("stroke")),_.appendChild(d),d.weight=v.weight+"px",d.color=v.color,d.opacity=v.opacity,v.dashArray?d.dashStyle=C(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=v.lineCap.replace("butt","flat"),d.joinstyle=v.lineJoin):d&&(_.removeChild(d),r._stroke=null),v.fill?(m||(m=r._fill=Rc("fill")),_.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(_.removeChild(m),r._fill=null)},_updateCircle:function(r){var d=r._point.round(),m=Math.round(r._radius),v=Math.round(r._radiusY||m);this._setPath(r,r._empty()?"M0 0":"AL "+d.x+","+d.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(r,d){r._path.v=d},_bringToFront:function(r){Vl(r._container)},_bringToBack:function(r){Gl(r._container)}},pg=ce.vml?Rc:kt,Oc=Pr.extend({_initContainer:function(){this._container=pg("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pg("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),at(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pr.prototype._update.call(this);var r=this._bounds,d=r.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,m.setAttribute("width",d.x),m.setAttribute("height",d.y)),Rt(m,r.min),m.setAttribute("viewBox",[r.min.x,r.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(r){var d=r._path=pg("path");r.options.className&&Ce(d,r.options.className),r.options.interactive&&Ce(d,"leaflet-interactive"),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){ft(r._path),r.removeInteractiveTarget(r._path),delete this._layers[u(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var d=r._path,m=r.options;d&&(m.stroke?(d.setAttribute("stroke",m.color),d.setAttribute("stroke-opacity",m.opacity),d.setAttribute("stroke-width",m.weight),d.setAttribute("stroke-linecap",m.lineCap),d.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?d.setAttribute("stroke-dasharray",m.dashArray):d.removeAttribute("stroke-dasharray"),m.dashOffset?d.setAttribute("stroke-dashoffset",m.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),m.fill?(d.setAttribute("fill",m.fillColor||m.color),d.setAttribute("fill-opacity",m.fillOpacity),d.setAttribute("fill-rule",m.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(r,d){this._setPath(r,Pt(r._parts,d))},_updateCircle:function(r){var d=r._point,m=Math.max(Math.round(r._radius),1),v=Math.max(Math.round(r._radiusY),1)||m,_="a"+m+","+v+" 0 1,0 ",j=r._empty()?"M0 0":"M"+(d.x-m)+","+d.y+_+m*2+",0 "+_+-m*2+",0 ";this._setPath(r,j)},_setPath:function(r,d){r._path.setAttribute("d",d)},_bringToFront:function(r){Vl(r._path)},_bringToBack:function(r){Gl(r._path)}});ce.vml&&Oc.include(rL);function Qx(r){return ce.svg||ce.vml?new Oc(r):null}Re.include({getRenderer:function(r){var d=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var d=this._paneRenderers[r];return d===void 0&&(d=this._createRenderer({pane:r}),this._paneRenderers[r]=d),d},_createRenderer:function(r){return this.options.preferCanvas&&Xx(r)||Qx(r)}});var Jx=$l.extend({initialize:function(r,d){$l.prototype.initialize.call(this,this._boundsToLatLngs(r),d)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ye(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function sL(r,d){return new Jx(r,d)}Oc.create=pg,Oc.pointsToPath=Pt,Cr.geometryToLayer=hg,Cr.coordsToLatLng=Ob,Cr.coordsToLatLngs=lg,Cr.latLngToCoords=Db,Cr.latLngsToCoords=dg,Cr.getFeature=ql,Cr.asFeature=ug,Re.mergeOptions({boxZoom:!0});var e1=Wi.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ec(),bb(),this._startPoint=this._map.mouseEventToContainerPoint(r),ke(document,{contextmenu:ah,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Fe("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var d=new de(this._point,this._startPoint),m=d.getSize();Rt(this._box,d.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ft(this._box),Lt(this._container,"leaflet-crosshair")),Cc(),_b(),at(document,{contextmenu:ah,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var d=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Re.addInitHook("addHandler","boxZoom",e1),Re.mergeOptions({doubleClickZoom:!0});var t1=Wi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var d=this._map,m=d.getZoom(),v=d.options.zoomDelta,_=r.originalEvent.shiftKey?m-v:m+v;d.options.doubleClickZoom==="center"?d.setZoom(_):d.setZoomAround(r.containerPoint,_)}});Re.addInitHook("addHandler","doubleClickZoom",t1),Re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var n1=Wi.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new js(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Lt(this._map._container,"leaflet-grab"),Lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=ye(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var d=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(d),this._prunePositions(d)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,d){return r-(r-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;r.x<d.min.x&&(r.x=this._viscousLimit(r.x,d.min.x)),r.y<d.min.y&&(r.y=this._viscousLimit(r.y,d.min.y)),r.x>d.max.x&&(r.x=this._viscousLimit(r.x,d.max.x)),r.y>d.max.y&&(r.y=this._viscousLimit(r.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,d=Math.round(r/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,_=(v-d+m)%r+d-m,j=(v+d+m)%r-d-m,R=Math.abs(_+m)<Math.abs(j+m)?_:j;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(r){var d=this._map,m=d.options,v=!m.inertia||r.noInertia||this._times.length<2;if(d.fire("dragend",r),v)d.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),j=(this._lastTime-this._times[0])/1e3,R=m.easeLinearity,B=_.multiplyBy(R/j),z=B.distanceTo([0,0]),G=Math.min(m.inertiaMaxSpeed,z),te=B.multiplyBy(G/z),ve=G/(m.inertiaDeceleration*R),Pe=te.multiplyBy(-ve/2).round();!Pe.x&&!Pe.y?d.fire("moveend"):(Pe=d._limitOffset(Pe,d.options.maxBounds),V(function(){d.panBy(Pe,{duration:ve,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});Re.addInitHook("addHandler","dragging",n1),Re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var a1=Wi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ke(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),at(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,d=document.documentElement,m=r.scrollTop||d.scrollTop,v=r.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var d=this._panKeys={},m=this.keyCodes,v,_;for(v=0,_=m.left.length;v<_;v++)d[m.left[v]]=[-1*r,0];for(v=0,_=m.right.length;v<_;v++)d[m.right[v]]=[r,0];for(v=0,_=m.down.length;v<_;v++)d[m.down[v]]=[0,r];for(v=0,_=m.up.length;v<_;v++)d[m.up[v]]=[0,-1*r]},_setZoomDelta:function(r){var d=this._zoomKeys={},m=this.keyCodes,v,_;for(v=0,_=m.zoomIn.length;v<_;v++)d[m.zoomIn[v]]=r;for(v=0,_=m.zoomOut.length;v<_;v++)d[m.zoomOut[v]]=-r},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){at(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var d=r.keyCode,m=this._map,v;if(d in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[d],r.shiftKey&&(v=Y(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(Y(v),m.options.maxBounds)),m.options.worldCopyJump){var _=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(_)}else m.panBy(v)}else if(d in this._zoomKeys)m.setZoom(m.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;ah(r)}}});Re.addInitHook("addHandler","keyboard",a1),Re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var i1=Wi.extend({addHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var d=Cx(r),m=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),v),ah(r)},_performZoom:function(){var r=this._map,d=r.getZoom(),m=this._map.options.zoomSnap||0;r._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,j=m?Math.ceil(_/m)*m:_,R=r._limitZoom(d+(this._delta>0?j:-j))-d;this._delta=0,this._startTime=null,R&&(r.options.scrollWheelZoom==="center"?r.setZoom(d+R):r.setZoomAround(this._lastMousePos,d+R))}});Re.addInitHook("addHandler","scrollWheelZoom",i1);var oL=600;Re.mergeOptions({tapHold:ce.touchNative&&ce.safari&&ce.mobile,tapTolerance:15});var r1=Wi.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var d=r.touches[0];this._startPos=this._newPos=new F(d.clientX,d.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(ke(document,"touchend",hn),ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),oL),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){at(document,"touchend",hn),at(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)},_onMove:function(r){var d=r.touches[0];this._newPos=new F(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,d){var m=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});m._simulated=!0,d.target.dispatchEvent(m)}});Re.addInitHook("addHandler","tapHold",r1),Re.mergeOptions({touchZoom:ce.touch,bounceAtZoomLimits:!0});var s1=Wi.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Lt(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var d=this._map;if(!(!r.touches||r.touches.length!==2||d._animatingZoom||this._zooming)){var m=d.mouseEventToContainerPoint(r.touches[0]),v=d.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),hn(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var d=this._map,m=d.mouseEventToContainerPoint(r.touches[0]),v=d.mouseEventToContainerPoint(r.touches[1]),_=m.distanceTo(v)/this._startDist;if(this._zoom=d.getScaleZoom(_,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&_<1||this._zoom>d.getMaxZoom()&&_>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var j=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(_===1&&j.x===0&&j.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(j),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var R=o(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(R,this,!0),hn(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Re.addInitHook("addHandler","touchZoom",s1),Re.BoxZoom=e1,Re.DoubleClickZoom=t1,Re.Drag=n1,Re.Keyboard=a1,Re.ScrollWheelZoom=i1,Re.TapHold=r1,Re.TouchZoom=s1,t.Bounds=de,t.Browser=ce,t.CRS=Se,t.Canvas=Zx,t.Circle=Rb,t.CircleMarker=og,t.Class=Q,t.Control=ci,t.DivIcon=Kx,t.DivOverlay=Vi,t.DomEvent=AP,t.DomUtil=xP,t.Draggable=js,t.Evented=X,t.FeatureGroup=Tr,t.GeoJSON=Cr,t.GridLayer=Nc,t.Handler=Wi,t.Icon=Kl,t.ImageOverlay=cg,t.LatLng=ge,t.LatLngBounds=me,t.Layer=mi,t.LayerGroup=Yl,t.LineUtil=BP,t.Map=Re,t.Marker=sg,t.Mixin=jP,t.Path=Is,t.Point=F,t.PolyUtil=IP,t.Polygon=$l,t.Polyline=Er,t.Popup=mg,t.PosAnimation=Px,t.Projection=FP,t.Rectangle=Jx,t.Renderer=Pr,t.SVG=Oc,t.SVGOverlay=Yx,t.TileLayer=Zl,t.Tooltip=fg,t.Transformation=on,t.Util=he,t.VideoOverlay=Gx,t.bind=o,t.bounds=ne,t.canvas=Xx,t.circle=KP,t.circleMarker=YP,t.control=Mc,t.divIcon=nL,t.extend=i,t.featureGroup=WP,t.geoJSON=Vx,t.geoJson=ZP,t.gridLayer=aL,t.icon=VP,t.imageOverlay=XP,t.latLng=ue,t.latLngBounds=ye,t.layerGroup=UP,t.map=TP,t.marker=GP,t.point=Y,t.polygon=qP,t.polyline=$P,t.popup=eL,t.rectangle=sL,t.setOptions=x,t.stamp=u,t.svg=Qx,t.svgOverlay=JP,t.tileLayer=$x,t.tooltip=tL,t.transformation=Rn,t.version=n,t.videoOverlay=QP;var hL=window.L;t.noConflict=function(){return window.L=hL,this},window.L=t})})(zk,zk.exports);var qp=zk.exports;const tx=Uk(qp);function nx(a,e,t){return Object.freeze({instance:a,context:e,container:t})}function ax(a,e){return e==null?function(n,i){const s=W.useRef();return s.current||(s.current=a(n,i)),s}:function(n,i){const s=W.useRef();s.current||(s.current=a(n,i));const o=W.useRef(n),{instance:l}=s.current;return W.useEffect(function(){o.current!==n&&(e(l,n,o.current),o.current=n)},[l,n,i]),s}}function $R(a,e){W.useEffect(function(){return(e.layerContainer??e.map).addLayer(a.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(a.instance),e.map.removeLayer(a.instance)}},[e,a])}function XC(a){return function(t){const n=J0(),i=a(ex(t,n),n);return KC(n.map,t.attribution),ZC(i.current,t.eventHandlers),$R(i.current,n),i}}function qR(a,e){const t=ax(a,e),n=XC(t);return VR(n)}function ZR(a,e){const t=ax(a),n=KR(t,e);return GR(n)}function XR(a,e){const t=ax(a,e),n=XC(t);return YR(n)}function QR(a,e,t){const{opacity:n,zIndex:i}=e;n!=null&&n!==t.opacity&&a.setOpacity(n),i!=null&&i!==t.zIndex&&a.setZIndex(i)}function JR(){return J0().map}function Hk(){return Hk=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},Hk.apply(this,arguments)}function e3({bounds:a,boundsOptions:e,center:t,children:n,className:i,id:s,placeholder:o,style:l,whenReady:u,zoom:c,...f},p){const[g]=W.useState({className:i,id:s,style:l}),[b,A]=W.useState(null);W.useImperativeHandle(p,()=>(b==null?void 0:b.map)??null,[b]);const x=W.useCallback(w=>{if(w!==null&&b===null){const T=new qp.Map(w,f);t!=null&&c!=null?T.setView(t,c):a!=null&&T.fitBounds(a,e),u!=null&&T.whenReady(u),A(UR(T))}},[]);W.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const M=b?Ov.createElement(qC,{value:b},n):o??null;return Ov.createElement("div",Hk({},g,{ref:x}),M)}const t3=W.forwardRef(e3),n3=qR(function({position:e,...t},n){const i=new qp.Marker(e,t);return nx(i,WR(n,{overlayContainer:i}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==n.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==n.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),a3=ZR(function(e,t){const n=new qp.Popup(e,t.overlayContainer);return nx(n,t)},function(e,t,{position:n},i){W.useEffect(function(){const{instance:o}=e;function l(c){c.popup===o&&(o.update(),i(!0))}function u(c){c.popup===o&&i(!1)}return t.map.on({popupopen:l,popupclose:u}),t.overlayContainer==null?(n!=null&&o.setLatLng(n),o.openOn(t.map)):t.overlayContainer.bindPopup(o),function(){var f;t.map.off({popupopen:l,popupclose:u}),(f=t.overlayContainer)==null||f.unbindPopup(),t.map.removeLayer(o)}},[e,t,i,n])}),i3=XR(function({url:e,...t},n){const i=new qp.TileLayer(e,ex(t,n));return nx(i,n)},function(e,t,n){QR(e,t,n);const{url:i}=t;i!=null&&i!==n.url&&e.setUrl(i)}),r3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",s3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",o3=tx.icon({iconUrl:r3,shadowUrl:s3,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});tx.Marker.prototype.options.icon=o3;const tA={"Lasbela, Balochistan":[25.5,65.5],Karachi:[24.8607,67.0011],"Shikarpur, Barisal":[22.7,90.4],Sitakunda:[22.6167,91.6667],"Kalajore, Sylhet":[24.9,91.9],Bhavanipur:[24.4,88.6],Ishwaripur:[22.3,89.1],Anantnag:[33.73,75.15],Srinagar:[34.0837,74.7973],Lakhia:[34.2,74.8],Kangra:[32.1,76.27],Jalandhar:[31.326,75.5762],Thanesar:[29.97,76.83],Pushkar:[26.49,74.55],Bairat:[27.45,76.18],Somnath:[20.89,70.4],Ujjain:[23.18,75.78],Amarkantak:[22.67,81.75],Chitrakoot:[25.2,80.9],Prayagraj:[25.44,81.84],Varanasi:[25.3176,82.9739],Mathura:[27.4924,77.6737],Nashik:[19.9975,73.7898],Kolhapur:[16.705,74.2433],Kolkata:[22.5726,88.3639],Katwa:[23.65,88.13],Guskara:[23.5,87.75],Salbari:[26.72,88.45],Khanakul:[22.95,87.78],Kiritkona:[23.75,87.85],Tamluk:[22.3,87.92],Labhpur:[23.78,87.78],Nalhati:[24.3,87.82],Dubrajpur:[23.8,87.38],Sainthia:[23.95,87.67],Khirgram:[23.6,87.4],Gaya:[24.78,85],Deoghar:[24.48,86.7],Jajpur:[20.85,86.33],Guwahati:[26.1445,91.7362],Sadiya:[27.83,95.67],Kumari:[8.08,77.55],Kanchipuram:[12.83,79.7],Suchindram:[8.15,77.47],Srisailam:[16.08,78.87],Rajahmundry:[17,81.78],Udaipur:[23.53,91.48],Kathmandu:[27.7172,85.324],Janakpur:[26.7288,85.9254],Muktinath:[28.82,83.87],"Lake Manasarovar":[30.7,81.3],Trincomalee:[8.5874,81.2152]};function h3(a){if(tA[a.location])return tA[a.location];const e={"West Bengal":[23,87.5],"Uttar Pradesh":[26.5,80.5],Maharashtra:[19,75],"Tamil Nadu":[11,78],Gujarat:[23,72],Rajasthan:[27,74],Assam:[26,92],"Andhra Pradesh":[16,80],"Madhya Pradesh":[23,77],Bihar:[25,85],Jharkhand:[23.5,85.5],Odisha:[20.5,85],"Himachal Pradesh":[32,77],Punjab:[31,75],Haryana:[29,76],"Jammu & Kashmir":[34,74.5],Tripura:[23.5,91.5],Ladakh:[34,77.5],Pakistan:[30,70],Bangladesh:[23.7,90.4],Nepal:[28,84],China:[30,81],"Sri Lanka":[7,81]};return(e[a.state]||e[a.country])&&(e[a.state]||e[a.country])||null}function l3({bounds:a}){const e=JR();return W.useEffect(()=>{a&&e.fitBounds(a,{padding:[50,50]})},[a,e]),null}function d3({shaktipeeths:a,onMarkerClick:e}){const t=a.map(o=>{const l=h3(o);return l?{peeth:o,coords:l}:null}).filter(o=>o!==null),n=t.length>0?tx.latLngBounds(t.map(o=>o.coords)):null,i=[23.5,78],s=t.length>0?5:4;return k.jsx("div",{className:"w-full h-[600px] rounded-xl overflow-hidden border border-gray-300 shadow-lg",children:k.jsxs(t3,{center:i,zoom:s,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,className:"z-0",children:[k.jsx(i3,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n&&k.jsx(l3,{bounds:n}),t.map(({peeth:o,coords:l})=>k.jsx(n3,{position:l,eventHandlers:{click:()=>{e&&e(o)}},children:k.jsx(a3,{children:k.jsxs("div",{className:"p-2",children:[k.jsxs("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:["#",o.id," ",o.name]}),k.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[k.jsx("strong",{children:"Location:"})," ",o.location,", ",o.state]}),k.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[k.jsx("strong",{children:"Body Part:"})," ",o.bodyPart]}),k.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[k.jsx("strong",{children:"Shakti:"})," ",o.deviName," | ",k.jsx("strong",{children:"Bhairava:"})," ",o.bhairavaName]}),o.description&&k.jsx("p",{className:"text-xs text-gray-500 italic",children:o.description}),e&&k.jsx("button",{onClick:()=>e(o),className:"mt-2 w-full bg-amber-500 text-white px-3 py-1.5 rounded text-xs font-medium hover:bg-amber-600 transition-colors",children:"View Details"})]})})},o.id))]})})}function u3({peeth:a,onClose:e}){return a?k.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-20 sm:pt-24 px-4 pb-4 bg-black bg-opacity-50 backdrop-blur-sm animate-fadeIn overflow-y-auto",onClick:e,children:k.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[calc(100vh-6rem)] my-auto animate-scaleIn",onClick:t=>t.stopPropagation(),children:[k.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-6 relative",children:[k.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors z-10",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),k.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-3 z-10",children:[k.jsx("div",{className:"bg-white rounded-lg px-3 py-1.5 shadow-lg border-2 border-white",children:k.jsxs("span",{className:"text-amber-600 font-bold text-lg",children:["#",a.id]})}),k.jsx("div",{className:"bg-black/40 backdrop-blur-sm rounded-lg px-3 py-1.5 border border-white/30",children:k.jsx("p",{className:"text-white text-xs font-bold uppercase tracking-wide",children:a.puranicReference})})]}),k.jsxs("div",{className:"pt-16 pr-10",children:[k.jsx("h2",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:a.name}),k.jsxs("div",{className:"flex items-center gap-2 text-white",children:[k.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),k.jsxs("span",{className:"text-lg font-medium drop-shadow-md",children:[a.location,", ",a.state,", ",a.country]})]})]})]}),k.jsxs("div",{className:"p-6 space-y-6",children:[k.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[k.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[k.jsx("p",{className:"text-xs uppercase text-gray-500 mb-1",children:"Body Part"}),k.jsx("p",{className:"text-sm font-bold text-gray-900",children:a.bodyPart})]}),k.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[k.jsx("p",{className:"text-xs uppercase text-gray-500 mb-1",children:"Shakti"}),k.jsx("p",{className:"text-sm font-bold text-gray-900",children:a.deviName})]}),k.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[k.jsx("p",{className:"text-xs uppercase text-gray-500 mb-1",children:"Bhairava"}),k.jsx("p",{className:"text-sm font-bold text-gray-900",children:a.bhairavaName})]}),k.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[k.jsx("p",{className:"text-xs uppercase text-gray-500 mb-1",children:"Country"}),k.jsx("p",{className:"text-sm font-bold text-gray-900",children:a.country})]})]}),a.description&&k.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[k.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[k.jsx("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Overview"]}),k.jsx("p",{className:"text-gray-700 leading-relaxed italic",children:a.description})]}),k.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg p-5 border border-amber-200",children:[k.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[k.jsx("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Historical Significance"]}),k.jsxs("div",{className:"space-y-3 text-gray-700",children:[k.jsxs("p",{className:"leading-relaxed",children:["The ",a.name," Shaktipeeth holds immense historical importance as one of the 51 sacred sites where parts of Goddess Sati's body fell. According to the ",k.jsx("span",{className:"font-semibold",children:a.puranicReference}),", this site marks where the ",k.jsx("span",{className:"font-semibold",children:a.bodyPart})," of the Goddess descended."]}),k.jsx("p",{className:"leading-relaxed",children:"This ancient pilgrimage site has been revered for centuries, with references found in various Puranas and ancient texts. The temple complex and surrounding area bear witness to the rich cultural and religious heritage of the region."})]})]}),k.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-5 border border-purple-200",children:[k.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[k.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Spiritual Importance"]}),k.jsxs("div",{className:"space-y-3 text-gray-700",children:[k.jsxs("p",{className:"leading-relaxed",children:["The ",a.name," Shaktipeeth is dedicated to ",k.jsx("span",{className:"font-semibold",children:a.deviName}),", a powerful manifestation of the Divine Mother. The presence of ",k.jsx("span",{className:"font-semibold",children:a.bhairavaName})," as the Bhairava represents the protective and transformative aspect of Lord Shiva."]}),k.jsx("p",{className:"leading-relaxed",children:"Devotees believe that visiting this sacred site and offering prayers can help in:"}),k.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[k.jsx("li",{children:"Attaining spiritual liberation (Moksha)"}),k.jsx("li",{children:"Receiving divine blessings and protection"}),k.jsx("li",{children:"Fulfilling desires and overcoming obstacles"}),k.jsx("li",{children:"Gaining inner strength and wisdom"}),k.jsx("li",{children:"Connecting with the divine feminine energy (Shakti)"})]})]})]}),k.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg p-5 border border-blue-200",children:[k.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[k.jsxs("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Pilgrimage Information"]}),k.jsxs("div",{className:"space-y-3 text-gray-700",children:[k.jsxs("div",{children:[k.jsx("p",{className:"font-semibold mb-1",children:"Location:"}),k.jsxs("p",{className:"leading-relaxed",children:[a.location,", ",a.state,", ",a.country]})]}),k.jsxs("div",{children:[k.jsx("p",{className:"font-semibold mb-1",children:"Best Time to Visit:"}),k.jsx("p",{className:"leading-relaxed",children:"The temple is open throughout the year, but the most auspicious times are during Navratri, Maha Shivaratri, and other major Hindu festivals. Early morning and evening hours are considered particularly sacred for darshan."})]}),k.jsxs("div",{children:[k.jsx("p",{className:"font-semibold mb-1",children:"How to Reach:"}),k.jsx("p",{className:"leading-relaxed",children:"The site is accessible by road. The nearest major city or town provides good connectivity. Local transportation and guided tours are available for pilgrims."})]}),k.jsxs("div",{children:[k.jsx("p",{className:"font-semibold mb-1",children:"Accommodation:"}),k.jsx("p",{className:"leading-relaxed",children:"Various accommodation options are available near the temple, ranging from budget guesthouses to more comfortable hotels. Many devotees also prefer staying in dharamshalas (pilgrim rest houses) for a more traditional experience."})]})]})]}),k.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-5 border border-green-200",children:[k.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[k.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Related Stories & Legends"]}),k.jsxs("div",{className:"space-y-3 text-gray-700",children:[k.jsxs("p",{className:"leading-relaxed",children:["According to the legend of Shaktipeeths, when Lord Shiva was performing the Tandava dance while carrying the body of Goddess Sati, Lord Vishnu used his Sudarshan Chakra to cut her body into 51 pieces. The ",k.jsx("span",{className:"font-semibold",children:a.bodyPart})," fell at the location where ",a.name," now stands."]}),k.jsxs("p",{className:"leading-relaxed",children:["The ",a.puranicReference," describes this site as a place where the divine energy of the Goddess is particularly strong. Many devotees have reported experiencing profound spiritual transformations and miracles after visiting this sacred site."]}),k.jsxs("p",{className:"leading-relaxed",children:["Local legends speak of the temple's power to grant wishes and provide protection to those who visit with pure devotion. The presence of both the Shakti (",a.deviName,") and Bhairava (",a.bhairavaName,") creates a powerful spiritual vortex that attracts seekers from all over the world."]})]})]})]})]})}):null}function c3(){const a=hd.length,[e,t]=W.useState(null),[n,i]=W.useState("grid"),[s,o]=W.useState("id"),[l,u]=W.useState({state:null,country:null,bodyPart:null}),c=W.useMemo(()=>[...new Set(hd.map(P=>P.state))].sort(),[]),f=W.useMemo(()=>[...new Set(hd.map(P=>P.country))].sort(),[]),p=W.useMemo(()=>[...new Set(hd.map(P=>P.bodyPart))].sort(),[]),g=W.useMemo(()=>{let P=hd.filter(I=>!(l.state&&I.state!==l.state||l.country&&I.country!==l.country||l.bodyPart&&I.bodyPart!==l.bodyPart));return P=[...P].sort((I,N)=>{switch(s){case"name":return I.name.localeCompare(N.name);case"state":return I.state.localeCompare(N.state)||I.name.localeCompare(N.name);case"country":return I.country.localeCompare(N.country)||I.name.localeCompare(N.name);case"id":default:return I.id-N.id}}),P},[l,s]),b=W.useMemo(()=>{const P=g.reduce((I,N)=>(I[N.bodyPart]=(I[N.bodyPart]||0)+1,I),{});return Object.entries(P).map(([I,N])=>({bodyPart:I,count:N})).sort((I,N)=>N.count-I.count)},[g]),A=W.useMemo(()=>{const P=g.reduce((I,N)=>(I[N.country]=(I[N.country]||0)+1,I),{});return Object.entries(P).map(([I,N])=>({country:I,count:N})).sort((I,N)=>N.count-I.count)},[g]),x=Math.max(...b.map(P=>P.count),1),M=Math.max(...A.map(P=>P.count),1),w=(P,I)=>{u(N=>({...N,[P]:N[P]===I?null:I}))},T=()=>{u({state:null,country:null,bodyPart:null})},C=l.state||l.country||l.bodyPart;return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-6 sm:py-8 max-w-7xl animate-fadeIn pb-20 sm:pb-8",children:[k.jsxs("div",{className:"text-center mb-6 sm:mb-8 animate-fadeIn",children:[k.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-800 mb-2",children:""}),k.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 mb-4",children:"Shaktipeeths"}),k.jsxs("div",{className:"inline-block bg-gradient-to-r from-amber-500 to-orange-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold text-lg sm:text-xl shadow-lg",children:["Total: ",a," Shaktipeeths ",C&&`(${g.length} filtered)`]})]}),k.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-4 sm:p-6 md:p-8 border border-gray-200 mb-6 sm:mb-8 animate-scaleIn",children:[k.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-amber-600 mb-4 text-center",children:Vg.titleEnglish}),k.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-3 text-center",children:Vg.title}),k.jsxs("div",{className:"space-y-4 text-sm sm:text-base text-gray-700 leading-relaxed",children:[k.jsx("div",{className:"whitespace-pre-line",children:Vg.content}),k.jsx("div",{className:"border-t pt-4 mt-4",children:k.jsx("div",{className:"whitespace-pre-line text-gray-600",children:Vg.contentEnglish})})]})]}),k.jsxs("div",{className:"space-y-6 mb-6 sm:mb-8",children:[k.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 animate-fadeIn",children:[k.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 text-center",children:"Body Part Distribution |    "}),k.jsx("div",{className:"space-y-3",children:b.slice(0,10).map(P=>k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"w-32 sm:w-40 text-sm font-medium text-gray-700 truncate",children:P.bodyPart}),k.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative overflow-hidden",children:k.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 h-full rounded-full flex items-center justify-end pr-2 transition-all duration-500",style:{width:`${P.count/x*100}%`},children:k.jsx("span",{className:"text-xs font-bold text-white",children:P.count})})})]},P.bodyPart))})]}),k.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 animate-fadeIn",children:[k.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 text-center",children:"Country Breakdown | - "}),k.jsx("div",{className:"space-y-3",children:A.map(P=>k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"w-32 sm:w-40 text-sm font-medium text-gray-700",children:P.country}),k.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative overflow-hidden",children:k.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-full rounded-full flex items-center justify-end pr-2 transition-all duration-500",style:{width:`${P.count/M*100}%`},children:k.jsx("span",{className:"text-xs font-bold text-white",children:P.count})})})]},P.country))})]}),k.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 animate-fadeIn",children:[k.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 text-center",children:"Interactive Map |  "}),k.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"Click on markers to view details. Map shows approximate locations of all Shaktipeeths."}),k.jsx(d3,{shaktipeeths:g,onMarkerClick:t})]}),k.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 animate-fadeIn",children:[k.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 text-center",children:"State-wise Distribution | - "}),k.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:zR.map(P=>{const I=Math.min(P.count/10,1);return k.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg p-3 border-2 border-amber-300 hover:shadow-lg transition-all cursor-pointer",style:{background:`linear-gradient(135deg, rgba(251, 191, 36, ${.3+I*.7}), rgba(249, 115, 22, ${.3+I*.7}))`,borderColor:`rgba(251, 191, 36, ${.5+I*.5})`},onClick:()=>w("state",P.state),children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"font-bold text-gray-800 text-sm mb-1",children:P.state}),k.jsx("div",{className:"text-xs text-gray-600 mb-2",children:P.country}),k.jsx("div",{className:"bg-white/80 rounded-full w-10 h-10 flex items-center justify-center mx-auto font-bold text-amber-700",children:P.count})]})},P.stateCountry)})})]})]}),k.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 mb-6 sm:mb-8 animate-fadeIn",children:[k.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between mb-4",children:[k.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"All Shaktipeeths |  51 "}),k.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[k.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[k.jsx("button",{onClick:()=>i("grid"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${n==="grid"?"bg-amber-500 text-white shadow-md":"text-gray-600 hover:text-gray-900"}`,children:k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),k.jsx("button",{onClick:()=>i("list"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${n==="list"?"bg-amber-500 text-white shadow-md":"text-gray-600 hover:text-gray-900"}`,children:k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),k.jsxs("select",{value:s,onChange:P=>o(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm font-medium text-gray-700 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none",children:[k.jsx("option",{value:"id",children:"Sort by ID"}),k.jsx("option",{value:"name",children:"Sort by Name (A-Z)"}),k.jsx("option",{value:"state",children:"Sort by State"}),k.jsx("option",{value:"country",children:"Sort by Country"})]})]})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Filter by State:"}),k.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(P=>k.jsx("button",{onClick:()=>w("state",P),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${l.state===P?"bg-amber-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:P},P))})]}),k.jsxs("div",{children:[k.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Filter by Country:"}),k.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(P=>k.jsx("button",{onClick:()=>w("country",P),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${l.country===P?"bg-purple-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:P},P))})]}),k.jsxs("div",{children:[k.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Filter by Body Part:"}),k.jsx("div",{className:"flex flex-wrap gap-2",children:p.slice(0,15).map(P=>k.jsx("button",{onClick:()=>w("bodyPart",P),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${l.bodyPart===P?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:P},P))})]}),C&&k.jsx("button",{onClick:T,className:"px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-medium hover:bg-red-600 transition-colors",children:"Clear All Filters"})]})]}),k.jsx("div",{className:"mb-6 sm:mb-8",children:n==="grid"?k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:g.map((P,I)=>k.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 overflow-hidden animate-fadeIn",style:{animationDelay:`${I*.03}s`},children:[k.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 p-4 sm:p-5 relative",children:[k.jsx("div",{className:"absolute top-3 right-3",children:k.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 font-medium",children:P.puranicReference})}),k.jsx("div",{className:"absolute top-3 left-3",children:k.jsx("div",{className:"bg-orange-400 border border-orange-500 rounded-lg px-2 py-1",children:k.jsxs("span",{className:"text-white font-bold text-sm",children:["#",P.id]})})}),k.jsx("div",{className:"pt-8 pb-2",children:k.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:P.name})}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("svg",{className:"w-4 h-4 text-red-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),k.jsxs("p",{className:"text-sm text-red-800 font-medium",children:[P.location,", ",P.state]})]})]}),k.jsx("div",{className:"bg-white p-4 sm:p-5",children:k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 font-medium mb-1",children:"BODY PART"}),k.jsx("p",{className:"text-sm font-bold text-gray-900",children:P.bodyPart})]}),k.jsxs("div",{children:[k.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 font-medium mb-1",children:"BHAIRAVA"}),k.jsx("p",{className:"text-sm font-bold text-gray-900",children:P.bhairavaName})]})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 font-medium mb-1",children:"DEVI FORM"}),k.jsx("p",{className:"text-sm font-bold text-gray-900",children:P.deviName})]}),k.jsxs("div",{children:[k.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 font-medium mb-1",children:"COUNTRY"}),k.jsx("p",{className:"text-sm font-bold text-gray-900",children:P.country})]})]})]})}),k.jsxs("div",{className:"bg-white px-4 sm:px-5 pb-4 sm:pb-5",children:[P.description&&k.jsx("p",{className:"text-sm text-gray-500 italic mb-4",children:P.description}),k.jsxs("button",{onClick:()=>t(P),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:[k.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),k.jsx("span",{children:"Discover Spiritual Significance"})]})]})]},P.id))}):k.jsx("div",{className:"space-y-4",children:g.map((P,I)=>k.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 overflow-hidden animate-fadeIn p-4 sm:p-6",style:{animationDelay:`${I*.03}s`},children:k.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[k.jsx("div",{className:"flex-shrink-0",children:k.jsx("div",{className:"bg-orange-400 border border-orange-500 rounded-lg px-3 py-1 inline-block",children:k.jsxs("span",{className:"text-white font-bold",children:["#",P.id]})})}),k.jsxs("div",{className:"flex-1",children:[k.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-3",children:[k.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:P.name}),k.jsx("p",{className:"text-xs uppercase text-gray-400",children:P.puranicReference})]}),k.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-3",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-xs uppercase text-gray-500 mb-1",children:"Location"}),k.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[P.location,", ",P.state]})]}),k.jsxs("div",{children:[k.jsx("p",{className:"text-xs uppercase text-gray-500 mb-1",children:"Body Part"}),k.jsx("p",{className:"text-sm font-semibold text-gray-800",children:P.bodyPart})]}),k.jsxs("div",{children:[k.jsx("p",{className:"text-xs uppercase text-gray-500 mb-1",children:"Shakti"}),k.jsx("p",{className:"text-sm font-semibold text-gray-800",children:P.deviName})]}),k.jsxs("div",{children:[k.jsx("p",{className:"text-xs uppercase text-gray-500 mb-1",children:"Bhairava"}),k.jsx("p",{className:"text-sm font-semibold text-gray-800",children:P.bhairavaName})]})]}),P.description&&k.jsx("p",{className:"text-sm text-gray-600 italic mb-3",children:P.description}),k.jsxs("button",{onClick:()=>t(P),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors duration-200 inline-flex items-center gap-2",children:[k.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),k.jsx("span",{children:"Discover Spiritual Significance"})]})]})]})},P.id))})})]}),k.jsx(u3,{peeth:e,onClose:()=>t(null)})]})}class m3 extends W.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t)}render(){return this.state.hasError?k.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-amber-50 to-orange-50 p-4",children:k.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[k.jsx("div",{className:"text-6xl mb-4",children:""}),k.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Something went wrong"}),k.jsx("p",{className:"text-gray-600 mb-6",children:"We apologize for the inconvenience. Please refresh the page to try again."}),k.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors font-medium",children:"Refresh Page"}),this.state.error&&k.jsxs("details",{className:"mt-6 text-left",children:[k.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer",children:"Error Details"}),k.jsx("pre",{className:"mt-2 text-xs text-gray-400 overflow-auto bg-gray-50 p-2 rounded",children:this.state.error.toString()})]})]})}):this.props.children}}const f3={"gradient-1":"Warm","gradient-2":"Cool","gradient-3":"Nature","gradient-4":"Rose","gradient-5":"Neutral"};function p3({currentTheme:a,onThemeChange:e,themes:t}){const[n,i]=W.useState(!1);return k.jsxs("div",{className:"relative",children:[k.jsx("button",{onClick:()=>i(!n),className:"bg-white/95 backdrop-blur-md sm:bg-white/90 sm:backdrop-blur-sm rounded-lg p-2.5 sm:p-3 shadow-lg hover:shadow-xl active:shadow-md transition-all border border-gray-200 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Change Background Theme",children:k.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),n&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),k.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 p-2 z-50 min-w-[160px]",children:[k.jsx("div",{className:"text-xs font-semibold text-gray-600 mb-2 px-2",children:"Background Theme"}),t.map(s=>k.jsx("button",{onClick:()=>{e(s),i(!1)},className:`w-full text-left px-3 py-2.5 rounded-md text-sm transition-colors touch-manipulation min-h-[44px] ${a===s?"bg-amber-100 text-amber-700 font-medium":"text-gray-700 hover:bg-gray-100 active:bg-gray-200"}`,children:f3[s]||s},s))]})]})]})}function g3({fontSize:a,onFontSizeChange:e}){const[t,n]=W.useState(!1),i=[12,14,16,18,20,22,24];return k.jsxs("div",{className:"relative",children:[k.jsx("button",{onClick:()=>n(!t),className:"bg-white/95 backdrop-blur-md sm:bg-white/90 sm:backdrop-blur-sm rounded-lg p-3 shadow-lg hover:shadow-xl active:shadow-md transition-all border border-gray-200 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Adjust Font Size",children:k.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),k.jsxs("div",{className:"absolute bottom-full right-0 mb-2 bg-white rounded-lg shadow-xl border border-gray-200 p-2 z-50 min-w-[140px]",children:[k.jsx("div",{className:"text-xs font-semibold text-gray-600 mb-2 px-2",children:"Font Size"}),k.jsx("div",{className:"space-y-1",children:i.map(s=>k.jsxs("button",{onClick:()=>{e(s),n(!1)},className:`w-full text-left px-3 py-2.5 rounded-md text-sm transition-colors touch-manipulation min-h-[44px] ${a===s?"bg-amber-100 text-amber-700 font-medium":"text-gray-700 hover:bg-gray-100 active:bg-gray-200"}`,style:{fontSize:`${s}px`},children:[s,"px"]},s))})]})]})]})}const Gg={gita:{name:"Bhagavad Gita",nameHindi:"",data:Gj},hanumanChalisa:{name:"Hanuman Chalisa",nameHindi:" ",data:Yj},sunderkand:{name:"Sunderkand",nameHindi:"",data:Kj},bajrangBaan:{name:"Bajrang Baan",nameHindi:" ",data:$j},yakshaPrashna:{name:"Yaksha Prashna",nameHindi:" ",data:qj},shaktipeeths:{name:"Shaktipeeths",nameHindi:"",data:[]}},nA={gita:"sadhak-sanjeevani.pdf"};function v3(){const[a,e]=W.useState("gita"),[t,n]=W.useState(null),[i,s]=W.useState(1),[o,l]=W.useState("gradient-1"),[u,c]=W.useState(16),[f,p]=W.useState("text"),g=Gg[a],b=nA[a]!==void 0,A=f==="pdf"&&b,x=a==="shaktipeeths",M=t===null&&!A&&!x,w=(I,N)=>{n(I),s(N||1)},T=()=>{n(null),s(1),p("text")},C=()=>{p("pdf"),n(null),s(1)},P={"gradient-1":"bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50","gradient-2":"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50","gradient-3":"bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50","gradient-4":"bg-gradient-to-br from-pink-50 via-rose-50 to-red-50","gradient-5":"bg-gradient-to-br from-slate-50 via-gray-50 to-zinc-50"};return k.jsx(m3,{children:k.jsxs("div",{className:`min-h-screen transition-colors duration-500 ${P[o]}`,children:[k.jsx("div",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-md border-b border-gray-200",children:k.jsx("div",{className:"container mx-auto px-3 sm:px-4 py-3 sm:py-4",children:k.jsxs("div",{className:"flex items-center justify-between gap-2",children:[k.jsx("div",{className:"flex-1 overflow-x-auto scrollbar-hide -mx-3 sm:mx-0 px-3 sm:px-0",children:k.jsx("div",{className:"flex items-center gap-2 sm:gap-3 min-w-max sm:flex-wrap sm:justify-center",children:Object.keys(Gg).map(I=>k.jsxs("button",{onClick:()=>{e(I),n(null),s(1),p("text")},className:`px-3 sm:px-4 py-2.5 sm:py-2 rounded-lg font-medium transition-all duration-300 cursor-pointer touch-manipulation min-w-[80px] sm:min-w-0 flex-shrink-0 ${a===I&&f==="text"?"bg-amber-500 text-white shadow-lg scale-105":"bg-white text-gray-700 hover:bg-amber-100 active:bg-amber-200 border border-gray-200"}`,children:[k.jsx("div",{className:"text-xs sm:text-sm md:text-base whitespace-nowrap",children:Gg[I].nameHindi}),k.jsx("div",{className:"text-[10px] sm:text-xs text-gray-500 whitespace-nowrap",children:Gg[I].name})]},I))})}),k.jsx("div",{className:"flex-shrink-0",children:k.jsx(p3,{currentTheme:o,onThemeChange:l,themes:Object.keys(P)})})]})})}),k.jsx("div",{className:"relative z-10",children:x?k.jsx("div",{className:"animate-fadeIn",children:k.jsx(c3,{})},"shaktipeeths-view"):A?k.jsx("div",{className:"animate-fadeIn",children:k.jsx(DR,{pdfPath:nA[a],title:g.name,titleHindi:g.nameHindi,onBack:T})},"pdf-viewer"):M?k.jsx("div",{className:"animate-fadeIn",children:k.jsx(nI,{chapters:g.data,textName:g.name,textNameHindi:g.nameHindi,onChapterSelect:w,textType:a,hasPDF:b,onViewPDF:C})},"chapter-list"):k.jsx("div",{className:"animate-fadeIn",children:k.jsx(iI,{chapter:g.data.find(I=>I.chapter_number===t),currentVerse:i,onVerseChange:s,onBack:T,fontSize:u,textType:a})},"chapter-view")}),!M&&!A&&k.jsx("div",{className:"fixed bottom-20 sm:bottom-4 right-4 z-40",children:k.jsx(g3,{fontSize:u,onFontSizeChange:c})})]})})}w_.createRoot(document.getElementById("root")).render(k.jsx(Ov.StrictMode,{children:k.jsx(v3,{})}));
